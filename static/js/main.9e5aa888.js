/*! For license information please see main.9e5aa888.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),y=0;y<o.length;++y){var m=o[y];if(!a[m]&&(!r||!r[m])&&(!v||!v[m])&&(!u||!u[m])){var g=h(n,m);try{c(t,m,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case y:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return b(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=y,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||b(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return b(e)===c},t.isContextProvider=function(e){return b(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return b(e)===h},t.isFragment=function(e){return b(e)===a},t.isLazy=function(e){return b(e)===y},t.isMemo=function(e){return b(e)===v},t.isPortal=function(e){return b(e)===i},t.isProfiler=function(e){return b(e)===u},t.isStrictMode=function(e){return b(e)===o},t.isSuspense=function(e){return b(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===w||e.$$typeof===m)},t.typeOf=b},309:function(e,t,n){"use strict";e.exports=n(746)},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,u,s=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(s[l]=o[l]);if(t){u=t(o);for(var f=0;f<u.length;f++)r.call(o,u[f])&&(s[u[f]]=o[u[f]])}}return s}},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var u=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function y(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new y(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new y(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new y(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new y(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new y(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new y(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new y(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new y(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new y(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);m[t]=new y(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);m[t]=new y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);m[t]=new y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new y(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new y(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,E=60106,I=60107,S=60108,_=60114,T=60109,C=60110,A=60112,N=60113,O=60120,P=60115,R=60116,D=60121,L=60128,M=60129,F=60130,U=60131;if("function"===typeof Symbol&&Symbol.for){var j=Symbol.for;x=j("react.element"),E=j("react.portal"),I=j("react.fragment"),S=j("react.strict_mode"),_=j("react.profiler"),T=j("react.provider"),C=j("react.context"),A=j("react.forward_ref"),N=j("react.suspense"),O=j("react.suspense_list"),P=j("react.memo"),R=j("react.lazy"),D=j("react.block"),j("react.scope"),L=j("react.opaque.id"),M=j("react.debug_trace_mode"),F=j("react.offscreen"),U=j("react.legacy_hidden")}var V,B="function"===typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=B&&e[B]||e["@@iterator"])?e:null}function q(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var K=!1;function H(e,t){if(!e||K)return"";K=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{K=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function W(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 22:return e=H(e.type._render,!1);case 1:return e=H(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case I:return"Fragment";case E:return"Portal";case _:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return G(e.type);case D:return G(e._render);case R:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,ye,me=(ye=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ye(e,t)}))}:ye);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function be(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=be(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){we.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var Ee=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ie(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,Ce=null,Ae=null;function Ne(e){if(e=ri(e)){if("function"!==typeof Te)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Te(e.stateNode,e.type,t))}}function Oe(e){Ce?Ae?Ae.push(e):Ae=[e]:Ce=e}function Pe(){if(Ce){var e=Ce,t=Ae;if(Ae=Ce=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Re(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Me=Re,Fe=!1,Ue=!1;function je(){null===Ce&&null===Ae||(Le(),Pe())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Be=!1;if(f)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){Be=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(ye){Be=!1}function qe(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Ke=!1,He=null,We=!1,Ge=null,Qe={onError:function(e){Ke=!0,He=e}};function Ye(e,t,n,r,i,a,o,u,s){Ke=!1,He=null,qe.apply(Qe,arguments)}function Xe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(Xe(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Xe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return $e(i),e;if(a===r)return $e(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],ut=null,st=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":ut=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function yt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function mt(e){var t=ni(e.target);if(null!==t){var n=Xe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function wt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==ut&&gt(ut)&&(ut=null),null!==st&&gt(st)&&(st=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function bt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,wt)))}function xt(e){function t(t){return bt(t,e)}if(0<ot.length){bt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ut&&bt(ut,e),null!==st&&bt(st,e),null!==ct&&bt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)mt(n),null===n.blockedOn&&ht.shift()}function Et(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var It={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionend:Et("Transition","TransitionEnd")},St={},_t={};function Tt(e){if(St[e])return St[e];if(!It[e])return e;var t,n=It[e];for(t in n)if(n.hasOwnProperty(t)&&t in _t)return St[e]=n[t];return e}f&&(_t=document.createElement("div").style,"AnimationEvent"in window||(delete It.animationend.animation,delete It.animationiteration.animation,delete It.animationstart.animation),"TransitionEvent"in window||delete It.transitionend.transition);var Ct=Tt("animationend"),At=Tt("animationiteration"),Nt=Tt("animationstart"),Ot=Tt("transitionend"),Pt=new Map,Rt=new Map,Dt=["abort","abort",Ct,"animationEnd",At,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ot,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Rt.set(r,t),Pt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Mt=8;function Ft(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Ut(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var s=a&~o;0!==s?(r=Ft(s),i=Mt):0!==(u&=a)&&(r=Ft(u),i=Mt)}else 0!==(a=n&~o)?(r=Ft(a),i=Mt):0!==u&&(r=Ft(u),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Kt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Ft(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Kt(t)),r|=e[n],t&=~i;return r}function jt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Bt(24&~t))?Vt(10,t):e;case 10:return 0===(e=Bt(192&~t))?Vt(8,t):e;case 8:return 0===(e=Bt(3584&~t))&&(0===(e=Bt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Bt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Bt(e){return e&-e}function zt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Kt(t)]=n}var Kt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ht(e)/Wt|0)|0},Ht=Math.log,Wt=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Qt=a.unstable_runWithPriority,Yt=!0;function Xt(e,t,n,r){Fe||Le();var i=$t,a=Fe;Fe=!0;try{De(i,e,t,n,r)}finally{(Fe=a)||je()}}function Jt(e,t,n,r){Qt(Gt,$t.bind(null,e,t,n,r))}function $t(e,t,n,r){var i;if(Yt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ut=yt(ut,e,t,n,r,i),!0;case"dragenter":return st=yt(st,e,t,n,r,i),!0;case"mouseover":return ct=yt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,yt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,yt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=_e(r);if(null!==(i=ni(i))){var a=Xe(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Je(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function un(){return!1}function sn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:un,this.isPropagationStopped=un,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(hn),pn=i({},hn,{view:0,detail:0}),vn=sn(pn),yn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),mn=sn(yn),gn=sn(i({},yn,{dataTransfer:0})),kn=sn(i({},pn,{relatedTarget:0})),wn=sn(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=sn(bn),En=sn(i({},hn,{data:0})),In={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function Cn(){return Tn}var An=i({},pn,{key:function(e){if(e.key){var t=In[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=sn(An),On=sn(i({},yn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Rn=sn(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},yn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=sn(Dn),Mn=[9,13,27,32],Fn=f&&"CompositionEvent"in window,Un=null;f&&"documentMode"in document&&(Un=document.documentMode);var jn=f&&"TextEvent"in window&&!Un,Vn=f&&(!Fn||Un&&8<Un&&11>=Un),Bn=String.fromCharCode(32),zn=!1;function qn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Qn(e,t,n,r){Oe(r),0<(t=Fr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,Xn=null;function Jn(e){Ar(e,0)}function $n(e){if(J(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Yn&&(Yn.detachEvent("onpropertychange",ar),Xn=Yn=null)}function ar(e){if("value"===e.propertyName&&$n(Xn)){var t=[];if(Qn(t,Xn,e,_e(e)),e=Jn,Fe)e(t);else{Fe=!0;try{Re(e,t)}finally{Fe=!1,je()}}}}function or(e,t,n){"focusin"===e?(ir(),Xn=n,(Yn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function ur(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Xn)}function sr(e,t){if("click"===e)return $n(t)}function cr(e,t){if("input"===e||"change"===e)return $n(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function yr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,wr=null,br=null,xr=!1;function Er(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==kr||kr!==$(r)||("selectionStart"in(r=kr)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&hr(br,r)||(br=r,0<(r=Fr(wr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Dt,2);for(var Ir="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Sr=0;Sr<Ir.length;Sr++)Rt.set(Ir[Sr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _r="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tr=new Set("cancel close invalid load scroll toggle".split(" ").concat(_r));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,u,s,c){if(Ye.apply(this,arguments),Ke){if(!Ke)throw Error(o(198));var l=He;Ke=!1,He=null,We||(We=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Ar(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}}}if(We)throw e=Ge,We=!1,Ge=null,e}function Nr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Or="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){e[Or]||(e[Or]=!0,u.forEach((function(t){Tr.has(t)||Rr(t,!1,e,null),Rr(t,!0,e,null)})))}function Rr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Tr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(i|=4),Dr(a,e,i,t),o.add(u))}function Dr(e,t,n,r){var i=Rt.get(t);switch(void 0===i?2:i){case 0:i=Xt;break;case 1:i=Jt;break;default:i=$t}n=i.bind(null,t,n,e),i=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=ni(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(Ue)return e(t,n);Ue=!0;try{Me(e,t,n)}finally{Ue=!1,je()}}((function(){var r=a,i=_e(n),o=[];e:{var u=Pt.get(e);if(void 0!==u){var s=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":s=Nn;break;case"focusin":c="focus",s=kn;break;case"focusout":c="blur",s=kn;break;case"beforeblur":case"afterblur":s=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Pn;break;case Ct:case At:case Nt:s=wn;break;case Ot:s=Rn;break;case"scroll":s=vn;break;case"wheel":s=Ln;break;case"copy":case"cut":case"paste":s=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=On}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(Mr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Xe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=mn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=On,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ii(s),d=null==c?u:ii(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Ur(d))p++;for(d=0,v=h;v;v=Ur(v))d++;for(;0<p-d;)l=Ur(l),p--;for(;0<d-p;)h=Ur(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Ur(l),h=Ur(h)}l=null}else l=null;null!==s&&jr(o,u,s,l,!1),null!==c&&null!==f&&jr(o,f,c,l,!0)}if("select"===(s=(u=r?ii(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var y=Zn;else if(Gn(u))if(er)y=cr;else{y=ur;var m=or}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(y=sr);switch(y&&(y=y(e,r))?Qn(o,y,n,i):(m&&m(e,u,r),"focusout"===e&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&ie(u,"number",u.value)),m=r?ii(r):window,e){case"focusin":(Gn(m)||"true"===m.contentEditable)&&(kr=m,wr=r,br=null);break;case"focusout":br=wr=kr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,Er(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":Er(o,n,i)}var g;if(Fn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Hn?qn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Vn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Hn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Hn=!0)),0<(m=Fr(r,k)).length&&(k=new En(k,e,null,n,i),o.push({event:k,listeners:m}),g?k.data=g:null!==(g=Kn(n))&&(k.data=g))),(g=jn?function(e,t){switch(e){case"compositionend":return Kn(t);case"keypress":return 32!==t.which?null:(zn=!0,Bn);case"textInput":return(e=t.data)===Bn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Fn&&qn(e,t)?(e=rn(),nn=tn=en=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Fr(r,"onBeforeInput")).length&&(i=new En("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ar(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=Ve(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function Ur(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function jr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Ve(n,a))&&o.unshift(Mr(n,s,u)):i||null!=(s=Ve(n,a))&&o.push(Mr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var Br=null,zr=null;function qr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Kr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Hr="function"===typeof setTimeout?setTimeout:void 0,Wr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Yr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Xr=0;var Jr=Math.random().toString(36).slice(2),$r="__reactFiber$"+Jr,Zr="__reactProps$"+Jr,ei="__reactContainer$"+Jr,ti="__reactEvents$"+Jr;function ni(e){var t=e[$r];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[$r]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Yr(e);null!==e;){if(n=e[$r])return n;e=Yr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[$r]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var ui=[],si=-1;function ci(e){return{current:e}}function li(e){0>si||(e.current=ui[si],ui[si]=null,si--)}function fi(e,t){si++,ui[si]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function yi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function wi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=wi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var Ei=null,Ii=null,Si=a.unstable_runWithPriority,_i=a.unstable_scheduleCallback,Ti=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ai=a.unstable_requestPaint,Ni=a.unstable_now,Oi=a.unstable_getCurrentPriorityLevel,Pi=a.unstable_ImmediatePriority,Ri=a.unstable_UserBlockingPriority,Di=a.unstable_NormalPriority,Li=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,Fi={},Ui=void 0!==Ai?Ai:function(){},ji=null,Vi=null,Bi=!1,zi=Ni(),qi=1e4>zi?Ni:function(){return Ni()-zi};function Ki(){switch(Oi()){case Pi:return 99;case Ri:return 98;case Di:return 97;case Li:return 96;case Mi:return 95;default:throw Error(o(332))}}function Hi(e){switch(e){case 99:return Pi;case 98:return Ri;case 97:return Di;case 96:return Li;case 95:return Mi;default:throw Error(o(332))}}function Wi(e,t){return e=Hi(e),Si(e,t)}function Gi(e,t,n){return e=Hi(e),_i(e,t,n)}function Qi(){if(null!==Vi){var e=Vi;Vi=null,Ti(e)}Yi()}function Yi(){if(!Bi&&null!==ji){Bi=!0;var e=0;try{var t=ji;Wi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),ji=null}catch(n){throw null!==ji&&(ji=ji.slice(e+1)),_i(Pi,Qi),n}finally{Bi=!1}}}var Xi=b.ReactCurrentBatchConfig;function Ji(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var $i=ci(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=$i.current;li($i),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Fo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var ua=!1;function sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;ua=!1;var o=a.firstBaseUpdate,u=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?o=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==u&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,u=0,f=l=c=null;;){s=o.lane;var d=o.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(s=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,s);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(d,h,s):p)||void 0===s)break e;h=i({},h,s);break e;case 2:ua=!0}}null!==o.callback&&(e.flags|=32,null===(s=a.effects)?a.effects=[o]:s.push(o))}else d={eventTime:d,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,u|=s;if(null===(o=o.next)){if(null===(s=a.shared.pending))break;o=s.next,s.next=null,a.lastBaseUpdate=s,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,Bu|=u,e.lanes=u,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ya(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ma={isMounted:function(e){return!!(e=e._reactInternals)&&Xe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hs(),r=ds(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),ps(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=mi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?yi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ma,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ma.enqueueReplaceState(t,t.state,null)}function ba(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,sa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=mi(t)?vi:di.current,i.context=yi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ya(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ma.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var xa=Array.isArray;function Ea(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ia(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Sa(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ws(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Xs(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Ea(e,t,n),r.return=e,r):((r=Gs(n.type,n.key,n.props,null,e.mode,r)).ref=Ea(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Js(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Qs(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Xs(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Gs(t.type,t.key,t.props,null,e.mode,n)).ref=Ea(e,null,t),n.return=e,n;case E:return(t=Js(t,e.mode,n)).return=e,t}if(xa(t)||z(t))return(t=Qs(t,e.mode,n,null)).return=e,t;Ia(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===I?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case E:return n.key===i?l(e,t,n,r):null}if(xa(n)||z(n))return null!==i?null:f(e,t,n,r,null);Ia(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===I?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case E:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xa(r)||z(r))return f(t,e=e.get(n)||null,r,i,null);Ia(t,r)}return null}function v(i,o,u,s){for(var c=null,l=null,f=o,v=o=0,y=null;null!==f&&v<u.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,u[v],s);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m,f=y}if(v===u.length)return n(i,f),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<u.length;v++)null!==(y=p(f,i,v,u[v],s))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),c}function y(i,u,s,c){var l=z(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,y=u=0,m=null,g=s.next();null!==v&&!g.done;y++,g=s.next()){v.index>y?(m=v,v=null):m=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=m);break}e&&v&&null===k.alternate&&t(i,v),u=a(k,u,y),null===f?l=k:f.sibling=k,f=k,v=m}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;y++,g=s.next())null!==(g=h(i,g.value,c))&&(u=a(g,u,y),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;y++,g=s.next())null!==(g=p(v,i,y,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),u=a(g,u,y),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,s){var c="object"===typeof a&&null!==a&&a.type===I&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===I){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=Ea(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===I?((r=Qs(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Gs(a.type,a.key,a.props,null,e.mode,s)).ref=Ea(e,r,a),s.return=e,e=s)}return u(e);case E:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Js(a,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Xs(a,e.mode,s)).return=e,e=r),u(e);if(xa(a))return v(e,r,a,s);if(z(a))return y(e,r,a,s);if(l&&Ia(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var _a=Sa(!0),Ta=Sa(!1),Ca={},Aa=ci(Ca),Na=ci(Ca),Oa=ci(Ca);function Pa(e){if(e===Ca)throw Error(o(174));return e}function Ra(e,t){switch(fi(Oa,t),fi(Na,e),fi(Aa,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Aa),fi(Aa,t)}function Da(){li(Aa),li(Na),li(Oa)}function La(e){Pa(Oa.current);var t=Pa(Aa.current),n=pe(t,e.type);t!==n&&(fi(Na,e),fi(Aa,n))}function Ma(e){Na.current===e&&(li(Aa),li(Na))}var Fa=ci(0);function Ua(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ja=null,Va=null,Ba=!1;function za(e,t){var n=Ks(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ka(e){if(Ba){var t=Va;if(t){var n=t;if(!qa(e,t)){if(!(t=Qr(n.nextSibling))||!qa(e,t))return e.flags=-1025&e.flags|2,Ba=!1,void(ja=e);za(ja,n)}ja=e,Va=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,Ba=!1,ja=e}}function Ha(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ja=e}function Wa(e){if(e!==ja)return!1;if(!Ba)return Ha(e),Ba=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Kr(t,e.memoizedProps))for(t=Va;t;)za(e,t),t=Qr(t.nextSibling);if(Ha(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Va=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Va=null}}else Va=ja?Qr(e.stateNode.nextSibling):null;return!0}function Ga(){Va=ja=null,Ba=!1}var Qa=[];function Ya(){for(var e=0;e<Qa.length;e++)Qa[e]._workInProgressVersionPrimary=null;Qa.length=0}var Xa=b.ReactCurrentDispatcher,Ja=b.ReactCurrentBatchConfig,$a=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if($a=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xa.current=null===e||null===e.memoizedState?Ro:Do,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Xa.current=Lo,e=n(r,i)}while(ro)}if(Xa.current=Po,t=null!==eo&&null!==eo.next,$a=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function uo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function so(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=a=null,c=i;do{var l=c.lane;if(($a&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,a=r):s=s.next=f,Za.lanes|=l,Bu|=l}c=c.next}while(null!==c&&c!==i);null===s?a=r:s.next=u,lr(r,t.memoizedState)||(Fo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);lr(a,t.memoizedState)||(Fo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=($a&e)===e)&&(t._workInProgressVersionPrimary=r,Qa.push(t))),e)return n(t._source);throw Qa.push(t),Error(o(350))}function po(e,t,n,r){var i=Ru;if(null===i)throw Error(o(349));var a=t._getVersion,u=a(t._source),s=Xa.current,c=s.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var y=Za;return e.memoizedState={refs:d,source:t,subscribe:r},s.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(u,e)){e=n(t._source),lr(f,e)||(l(e),e=ds(y),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var s=31-Kt(o),c=1<<s;r[s]|=e,o&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=ds(y);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Oo.bind(null,Za,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(so(),e,t,n)}function yo(e){var t=uo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Oo.bind(null,Za,e),[t.memoizedState,e]}function mo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},uo().memoizedState=e}function ko(){return so().memoizedState}function wo(e,t,n,r){var i=uo();Za.flags|=e,i.memoizedState=mo(1|t,n,void 0,void 0===r?null:r)}function bo(e,t,n,r){var i=so();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void mo(t,n,a,r)}Za.flags|=e,i.memoizedState=mo(1|t,n,a,r)}function xo(e,t){return wo(516,4,e,t)}function Eo(e,t){return bo(516,4,e,t)}function Io(e,t){return bo(4,2,e,t)}function So(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function _o(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,So.bind(null,t,e),n)}function To(){}function Co(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ao(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function No(e,t){var n=Ki();Wi(98>n?98:n,(function(){e(!0)})),Wi(97<n?97:n,(function(){var n=Ja.transition;Ja.transition=1;try{e(!1),t()}finally{Ja.transition=n}}))}function Oo(e,t,n){var r=hs(),i=ds(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=o(u,n);if(a.eagerReducer=o,a.eagerState=s,lr(s,u))return}catch(c){}ps(e,i,r)}}var Po={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Ro={readContext:oa,useCallback:function(e,t){return uo().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:xo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,So.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wo(4,2,e,t)},useMemo:function(e,t){var n=uo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=uo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Oo.bind(null,Za,e),[r.memoizedState,e]},useRef:go,useState:yo,useDebugValue:To,useDeferredValue:function(e){var t=yo(e),n=t[0],r=t[1];return xo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=yo(!1),t=e[0];return go(e=No.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=uo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(Ba){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Xr++).toString(36))),Error(o(355))})),n=yo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,mo(5,(function(){n("r:"+(Xr++).toString(36))}),void 0,null)),t}return yo(t="r:"+(Xr++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:Co,useContext:oa,useEffect:Eo,useImperativeHandle:_o,useLayoutEffect:Io,useMemo:Ao,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:To,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return Eo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:Co,useContext:oa,useEffect:Eo,useImperativeHandle:_o,useLayoutEffect:Io,useMemo:Ao,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:To,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return Eo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Mo=b.ReactCurrentOwner,Fo=!1;function Uo(e,t,n,r){t.child=null===e?Ta(t,null,n,r):_a(t,e.child,n,r)}function jo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,Uo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Vo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Hs(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gs(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Bo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?au(e,t,a):(t.flags|=1,(e=Ws(o,r)).ref=t.ref,e.return=t,t.child=e)}function Bo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Fo=!1,0===(a&i))return t.lanes=e.lanes,au(e,t,a);0!==(16384&e.flags)&&(Fo=!0)}return Ko(e,t,n,r,a)}function zo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xs(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xs(t,e),null;t.memoizedState={baseLanes:0},xs(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xs(t,r);return Uo(e,t,i,n),t.child}function qo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ko(e,t,n,r,i){var a=mi(n)?vi:di.current;return a=yi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,Uo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Ho(e,t,n,r,i){if(mi(n)){var a=!0;bi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),ba(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=yi(t,c=mi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&wa(t,o,r,c),ua=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),s=t.memoizedState,u!==r||h!==s||pi.current||ua?("function"===typeof l&&(ya(t,n,l,r),s=t.memoizedState),(u=ua||ga(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Ji(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=oa(s):s=yi(t,s=mi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&wa(t,o,r,s),ua=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||pi.current||ua?("function"===typeof d&&(ya(t,n,d,r),p=t.memoizedState),(c=ua||ga(t,n,c,r,h,p,s))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Wo(e,t,n,r,a,i)}function Wo(e,t,n,r,i,a){qo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&xi(t,n,!1),au(e,t,a);r=t.stateNode,Mo.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=_a(t,e.child,null,a),t.child=_a(t,null,u,a)):Uo(e,t,u,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Ra(e,t.containerInfo)}var Qo,Yo,Xo,Jo={dehydrated:null,retryLane:0};function $o(e,t,n){var r,i=t.pendingProps,a=Fa.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(Fa,1&a),null===e?(void 0!==i.fallback&&Ka(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,t.lanes=33554432,e):((n=Ys({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=tu(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Jo,i):(n=eu(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Ys(t,i,0,null),n=Qs(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function eu(e,t,n,r){var i=e.child;return e=i.sibling,n=Ws(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function tu(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Ws(o,u),null!==e?r=Ws(e,r):(r=Qs(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function nu(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function ru(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function iu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Uo(e,t,r.children,n),0!==(2&(r=Fa.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nu(e,n);else if(19===e.tag)nu(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Fa,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ua(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ru(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ua(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ru(t,!0,n,null,a,t.lastEffect);break;case"together":ru(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function au(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ws(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ws(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ou(e,t){if(!Ba)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function uu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return mi(t.type)&&gi(),null;case 3:return Da(),li(pi),li(di),Ya(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Wa(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ma(t);var a=Pa(Oa.current);if(n=t.type,null!==e&&null!=t.stateNode)Yo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Pa(Aa.current),Wa(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[$r]=t,r[Zr]=u,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(e=0;e<_r.length;e++)Nr(_r[e],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":ee(r,u),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Nr("invalid",r);break;case"textarea":se(r,u),Nr("invalid",r)}for(var c in Ie(n,u),e=null,u)u.hasOwnProperty(c)&&(a=u[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):s.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Nr("scroll",r));switch(n){case"input":X(r),re(r,u,!0);break;case"textarea":X(r),le(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[$r]=t,e[Zr]=r,Qo(e,t),t.stateNode=e,c=Se(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),a=r;break;case"iframe":case"object":case"embed":Nr("load",e),a=r;break;case"video":case"audio":for(a=0;a<_r.length;a++)Nr(_r[a],e);a=r;break;case"source":Nr("error",e),a=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),a=r;break;case"details":Nr("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Nr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":se(e,r),a=ue(e,r),Nr("invalid",e);break;default:a=r}Ie(n,a);var l=a;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?xe(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&me(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&Nr("scroll",e):null!=f&&w(e,u,f,c))}switch(n){case"input":X(e),re(e,r,!1);break;case"textarea":X(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?oe(e,!!r.multiple,u,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Vr)}qr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Xo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Pa(Oa.current),Pa(Aa.current),Wa(t)?(r=t.stateNode,n=t.memoizedProps,r[$r]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[$r]=t,t.stateNode=r)}return null;case 13:return li(Fa),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Wa(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fa.current)?0===Uu&&(Uu=3):(0!==Uu&&3!==Uu||(Uu=4),null===Ru||0===(134217727&Bu)&&0===(134217727&zu)||gs(Ru,Lu))),(r||n)&&(t.flags|=4),null);case 4:return Da(),null===e&&Pr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(Fa),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(c=r.rendering))if(u)ou(r,!1);else{if(0!==Uu||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Ua(e))){for(t.flags|=64,ou(r,!1),null!==(u=c.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Fa,1&Fa.current|2),t.child}e=e.sibling}null!==r.tail&&qi()>Wu&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=Ua(c))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ou(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Ba)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qi()-r.renderingStartTime>Wu&&1073741824!==n&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qi(),n.sibling=null,t=Fa.current,fi(Fa,u?1&t|2:1&t),n):null;case 23:case 24:return Es(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function su(e){switch(e.tag){case 1:mi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Da(),li(pi),li(di),Ya(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return li(Fa),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Fa),null;case 4:return Da(),null;case 10:return ra(e),null;case 23:case 24:return Es(),null;default:return null}}function cu(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function lu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Yo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Pa(Aa.current);var o,u=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),u=[];break;case"option":a=ae(e,a),r=ae(e,r),u=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),u=[];break;case"textarea":a=ue(e,a),r=ue(e,r),u=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in Ie(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(u||(u=[]),u.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(u=u||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(u=u||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Nr("scroll",e),u||c===l||(u=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(u=u||[]).push(f,l))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},Xo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xu||(Xu=!0,Ju=r),lu(0,t)},n}function du(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return lu(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===$u?$u=new Set([this]):$u.add(this),lu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pu="function"===typeof WeakSet?WeakSet:Set;function vu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vs(e,n)}else t.current=null}function yu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ji(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function mu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Fs(n,e),Ms(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ji(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&qr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(o(163))}function gu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=be("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ku(e,t){if(Ii&&"function"===typeof Ii.onCommitFiberUnmount)try{Ii.onCommitFiberUnmount(Ei,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Fs(t,n);else{r=t;try{i()}catch(a){Vs(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vs(t,a)}break;case 5:vu(t);break;case 4:Su(e,t)}}function wu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function bu(e){return 5===e.tag||3===e.tag||4===e.tag}function xu(e){e:{for(var t=e.return;null!==t;){if(bu(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||bu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Eu(e,n,t):Iu(e,n,t)}function Eu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(Eu(e,t,n),e=e.sibling;null!==e;)Eu(e,t,n),e=e.sibling}function Iu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Iu(e,t,n),e=e.sibling;null!==e;)Iu(e,t,n),e=e.sibling}function Su(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var u=e,s=i,c=s;;)if(ku(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(u=n,s=i.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ku(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function _u(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Se(e,i),t=Se(e,r),i=0;i<a.length;i+=2){var u=a[i],s=a[i+1];"style"===u?xe(n,s):"dangerouslySetInnerHTML"===u?me(n,s):"children"===u?ge(n,s):w(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Hu=qi(),gu(t.child,!0)),void Tu(t);case 19:return void Tu(t);case 23:case 24:return void gu(t,null!==t.memoizedState)}throw Error(o(163))}function Tu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pu),t.forEach((function(t){var r=zs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cu(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Au=Math.ceil,Nu=b.ReactCurrentDispatcher,Ou=b.ReactCurrentOwner,Pu=0,Ru=null,Du=null,Lu=0,Mu=0,Fu=ci(0),Uu=0,ju=null,Vu=0,Bu=0,zu=0,qu=0,Ku=null,Hu=0,Wu=1/0;function Gu(){Wu=qi()+500}var Qu,Yu=null,Xu=!1,Ju=null,$u=null,Zu=!1,es=null,ts=90,ns=[],rs=[],is=null,as=0,os=null,us=-1,ss=0,cs=0,ls=null,fs=!1;function hs(){return 0!==(48&Pu)?qi():-1!==us?us:us=qi()}function ds(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Ki()?1:2;if(0===ss&&(ss=Vu),0!==Xi.transition){0!==cs&&(cs=null!==Ku?Ku.pendingLanes:0),e=ss;var t=4186112&~cs;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Ki(),0!==(4&Pu)&&98===e?e=Vt(12,ss):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ss),e}function ps(e,t,n){if(50<as)throw as=0,os=null,Error(o(185));if(null===(e=vs(e,t)))return null;qt(e,t,n),e===Ru&&(zu|=t,4===Uu&&gs(e,Lu));var r=Ki();1===t?0!==(8&Pu)&&0===(48&Pu)?ks(e):(ys(e,n),0===Pu&&(Gu(),Qi())):(0===(4&Pu)||98!==r&&99!==r||(null===is?is=new Set([e]):is.add(e)),ys(e,n)),Ku=e}function vs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ys(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-Kt(u),c=1<<s,l=a[s];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Ft(c);var f=Mt;a[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);u&=~c}if(r=Ut(e,e===Ru?Lu:0),t=Mt,0===r)null!==n&&(n!==Fi&&Ti(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Fi&&Ti(n)}15===t?(n=ks.bind(null,e),null===ji?(ji=[n],Vi=_i(Pi,Yi)):ji.push(n),n=Fi):14===t?n=Gi(99,ks.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,ms.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ms(e){if(us=-1,cs=ss=0,0!==(48&Pu))throw Error(o(327));var t=e.callbackNode;if(Ls()&&e.callbackNode!==t)return null;var n=Ut(e,e===Ru?Lu:0);if(0===n)return null;var r=n,i=Pu;Pu|=16;var a=_s();for(Ru===e&&Lu===r||(Gu(),Is(e,r));;)try{As();break}catch(s){Ss(e,s)}if(na(),Nu.current=a,Pu=i,null!==Du?r=0:(Ru=null,Lu=0,r=Uu),0!==(Vu&zu))Is(e,0);else if(0!==r){if(2===r&&(Pu|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=jt(e))&&(r=Ts(e,n))),1===r)throw t=ju,Is(e,0),gs(e,n),ys(e,qi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Ps(e);break;case 3:if(gs(e,n),(62914560&n)===n&&10<(r=Hu+500-qi())){if(0!==Ut(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hr(Ps.bind(null,e),r);break}Ps(e);break;case 4:if(gs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var u=31-Kt(n);a=1<<u,(u=r[u])>i&&(i=u),n&=~a}if(n=i,10<(n=(120>(n=qi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Au(n/1960))-n)){e.timeoutHandle=Hr(Ps.bind(null,e),n);break}Ps(e);break;default:throw Error(o(329))}}return ys(e,qi()),e.callbackNode===t?ms.bind(null,e):null}function gs(e,t){for(t&=~qu,t&=~zu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Kt(t),r=1<<n;e[n]=-1,t&=~r}}function ks(e){if(0!==(48&Pu))throw Error(o(327));if(Ls(),e===Ru&&0!==(e.expiredLanes&Lu)){var t=Lu,n=Ts(e,t);0!==(Vu&zu)&&(n=Ts(e,t=Ut(e,t)))}else n=Ts(e,t=Ut(e,0));if(0!==e.tag&&2===n&&(Pu|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=jt(e))&&(n=Ts(e,t))),1===n)throw n=ju,Is(e,0),gs(e,t),ys(e,qi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ps(e),ys(e,qi()),null}function ws(e,t){var n=Pu;Pu|=1;try{return e(t)}finally{0===(Pu=n)&&(Gu(),Qi())}}function bs(e,t){var n=Pu;Pu&=-2,Pu|=8;try{return e(t)}finally{0===(Pu=n)&&(Gu(),Qi())}}function xs(e,t){fi(Fu,Mu),Mu|=t,Vu|=t}function Es(){Mu=Fu.current,li(Fu)}function Is(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Wr(n)),null!==Du)for(n=Du.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Da(),li(pi),li(di),Ya();break;case 5:Ma(r);break;case 4:Da();break;case 13:case 19:li(Fa);break;case 10:ra(r);break;case 23:case 24:Es()}n=n.return}Ru=e,Du=Ws(e.current,null),Lu=Mu=Vu=t,Uu=0,ju=null,qu=zu=Bu=0}function Ss(e,t){for(;;){var n=Du;try{if(na(),Xa.current=Po,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if($a=0,to=eo=Za=null,ro=!1,Ou.current=null,null===n||null===n.return){Uu=1,ju=t,Du=null;break}e:{var a=e,o=n.return,u=n,s=t;if(t=Lu,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&Fa.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var y=h.updateQueue;if(null===y){var m=new Set;m.add(c),h.updateQueue=m}else y.add(c);if(0===(2&h.mode)){if(h.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var g=la(-1,1);g.tag=2,fa(u,g)}u.lanes|=1;break e}s=void 0,u=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fu,s=new Set,k.set(c,s)):void 0===(s=k.get(c))&&(s=new Set,k.set(c,s)),!s.has(u)){s.add(u);var w=Bs.bind(null,a,c,u);c.then(w,w)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);s=Error((G(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Uu&&(Uu=2),s=cu(s,u),h=o;do{switch(h.tag){case 3:a=s,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hu(0,a,t));break e;case 1:a=s;var b=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof b.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===$u||!$u.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,du(h,a,t));break e}}h=h.return}while(null!==h)}Os(n)}catch(E){t=E,Du===n&&null!==n&&(Du=n=n.return);continue}break}}function _s(){var e=Nu.current;return Nu.current=Po,null===e?Po:e}function Ts(e,t){var n=Pu;Pu|=16;var r=_s();for(Ru===e&&Lu===t||Is(e,t);;)try{Cs();break}catch(i){Ss(e,i)}if(na(),Pu=n,Nu.current=r,null!==Du)throw Error(o(261));return Ru=null,Lu=0,Uu}function Cs(){for(;null!==Du;)Ns(Du)}function As(){for(;null!==Du&&!Ci();)Ns(Du)}function Ns(e){var t=Qu(e.alternate,e,Mu);e.memoizedProps=e.pendingProps,null===t?Os(e):Du=t,Ou.current=null}function Os(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=uu(n,t,Mu)))return void(Du=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Mu)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=su(t)))return n.flags&=2047,void(Du=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Du=t);Du=t=e}while(null!==t);0===Uu&&(Uu=5)}function Ps(e){var t=Ki();return Wi(99,Rs.bind(null,e,t)),null}function Rs(e,t){do{Ls()}while(null!==es);if(0!==(48&Pu))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<a;){var c=31-Kt(a),l=1<<c;i[c]=0,u[c]=-1,s[c]=-1,a&=~l}if(null!==is&&0===(24&r)&&is.has(e)&&is.delete(e),e===Ru&&(Du=Ru=null,Lu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Pu,Pu|=32,Ou.current=null,Br=Yt,mr(u=yr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(_){s=null;break e}var f=0,h=-1,d=-1,p=0,v=0,y=u,m=null;t:for(;;){for(var g;y!==s||0!==a&&3!==y.nodeType||(h=f+a),y!==c||0!==l&&3!==y.nodeType||(d=f+l),3===y.nodeType&&(f+=y.nodeValue.length),null!==(g=y.firstChild);)m=y,y=g;for(;;){if(y===u)break t;if(m===s&&++p===a&&(h=f),m===c&&++v===l&&(d=f),null!==(g=y.nextSibling))break;m=(y=m).parentNode}y=g}s=-1===h||-1===d?null:{start:h,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;zr={focusedElem:u,selectionRange:s},Yt=!1,ls=null,fs=!1,Yu=r;do{try{Ds()}catch(_){if(null===Yu)throw Error(o(330));Vs(Yu,_),Yu=Yu.nextEffect}}while(null!==Yu);ls=null,Yu=r;do{try{for(u=e;null!==Yu;){var k=Yu.flags;if(16&k&&ge(Yu.stateNode,""),128&k){var w=Yu.alternate;if(null!==w){var b=w.ref;null!==b&&("function"===typeof b?b(null):b.current=null)}}switch(1038&k){case 2:xu(Yu),Yu.flags&=-3;break;case 6:xu(Yu),Yu.flags&=-3,_u(Yu.alternate,Yu);break;case 1024:Yu.flags&=-1025;break;case 1028:Yu.flags&=-1025,_u(Yu.alternate,Yu);break;case 4:_u(Yu.alternate,Yu);break;case 8:Su(u,s=Yu);var x=s.alternate;wu(s),null!==x&&wu(x)}Yu=Yu.nextEffect}}catch(_){if(null===Yu)throw Error(o(330));Vs(Yu,_),Yu=Yu.nextEffect}}while(null!==Yu);if(b=zr,w=yr(),k=b.focusedElem,u=b.selectionRange,w!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==u&&mr(k)&&(w=u.start,void 0===(b=u.end)&&(b=w),"selectionStart"in k?(k.selectionStart=w,k.selectionEnd=Math.min(b,k.value.length)):(b=(w=k.ownerDocument||document)&&w.defaultView||window).getSelection&&(b=b.getSelection(),s=k.textContent.length,x=Math.min(u.start,s),u=void 0===u.end?x:Math.min(u.end,s),!b.extend&&x>u&&(s=u,u=x,x=s),s=pr(k,x),a=pr(k,u),s&&a&&(1!==b.rangeCount||b.anchorNode!==s.node||b.anchorOffset!==s.offset||b.focusNode!==a.node||b.focusOffset!==a.offset)&&((w=w.createRange()).setStart(s.node,s.offset),b.removeAllRanges(),x>u?(b.addRange(w),b.extend(a.node,a.offset)):(w.setEnd(a.node,a.offset),b.addRange(w))))),w=[];for(b=k;b=b.parentNode;)1===b.nodeType&&w.push({element:b,left:b.scrollLeft,top:b.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<w.length;k++)(b=w[k]).element.scrollLeft=b.left,b.element.scrollTop=b.top}Yt=!!Br,zr=Br=null,e.current=n,Yu=r;do{try{for(k=e;null!==Yu;){var E=Yu.flags;if(36&E&&mu(k,Yu.alternate,Yu),128&E){w=void 0;var I=Yu.ref;if(null!==I){var S=Yu.stateNode;Yu.tag,w=S,"function"===typeof I?I(w):I.current=w}}Yu=Yu.nextEffect}}catch(_){if(null===Yu)throw Error(o(330));Vs(Yu,_),Yu=Yu.nextEffect}}while(null!==Yu);Yu=null,Ui(),Pu=i}else e.current=n;if(Zu)Zu=!1,es=e,ts=t;else for(Yu=r;null!==Yu;)t=Yu.nextEffect,Yu.nextEffect=null,8&Yu.flags&&((E=Yu).sibling=null,E.stateNode=null),Yu=t;if(0===(r=e.pendingLanes)&&($u=null),1===r?e===os?as++:(as=0,os=e):as=0,n=n.stateNode,Ii&&"function"===typeof Ii.onCommitFiberRoot)try{Ii.onCommitFiberRoot(Ei,n,void 0,64===(64&n.current.flags))}catch(_){}if(ys(e,qi()),Xu)throw Xu=!1,e=Ju,Ju=null,e;return 0!==(8&Pu)||Qi(),null}function Ds(){for(;null!==Yu;){var e=Yu.alternate;fs||null===ls||(0!==(8&Yu.flags)?et(Yu,ls)&&(fs=!0):13===Yu.tag&&Cu(e,Yu)&&et(Yu,ls)&&(fs=!0));var t=Yu.flags;0!==(256&t)&&yu(e,Yu),0===(512&t)||Zu||(Zu=!0,Gi(97,(function(){return Ls(),null}))),Yu=Yu.nextEffect}}function Ls(){if(90!==ts){var e=97<ts?97:ts;return ts=90,Wi(e,Us)}return!1}function Ms(e,t){ns.push(t,e),Zu||(Zu=!0,Gi(97,(function(){return Ls(),null})))}function Fs(e,t){rs.push(t,e),Zu||(Zu=!0,Gi(97,(function(){return Ls(),null})))}function Us(){if(null===es)return!1;var e=es;if(es=null,0!==(48&Pu))throw Error(o(331));var t=Pu;Pu|=32;var n=rs;rs=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],u=i.destroy;if(i.destroy=void 0,"function"===typeof u)try{u()}catch(c){if(null===a)throw Error(o(330));Vs(a,c)}}for(n=ns,ns=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var s=i.create;i.destroy=s()}catch(c){if(null===a)throw Error(o(330));Vs(a,c)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Pu=t,Qi(),!0}function js(e,t,n){fa(e,t=hu(0,t=cu(n,t),1)),t=hs(),null!==(e=vs(e,1))&&(qt(e,1,t),ys(e,t))}function Vs(e,t){if(3===e.tag)js(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){js(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===$u||!$u.has(r))){var i=du(n,e=cu(t,e),1);if(fa(n,i),i=hs(),null!==(n=vs(n,1)))qt(n,1,i),ys(n,i);else if("function"===typeof r.componentDidCatch&&(null===$u||!$u.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Bs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hs(),e.pingedLanes|=e.suspendedLanes&n,Ru===e&&(Lu&n)===n&&(4===Uu||3===Uu&&(62914560&Lu)===Lu&&500>qi()-Hu?Is(e,0):qu|=n),ys(e,t)}function zs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Ki()?1:2:(0===ss&&(ss=Vu),0===(t=Bt(62914560&~ss))&&(t=4194304))),n=hs(),null!==(e=vs(e,t))&&(qt(e,t,n),ys(e,n))}function qs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ks(e,t,n,r){return new qs(e,t,n,r)}function Hs(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ws(e,t){var n=e.alternate;return null===n?((n=Ks(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gs(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)Hs(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case I:return Qs(n.children,i,a,t);case M:u=8,i|=16;break;case S:u=8,i|=1;break;case _:return(e=Ks(12,n,t,8|i)).elementType=_,e.type=_,e.lanes=a,e;case N:return(e=Ks(13,n,t,i)).type=N,e.elementType=N,e.lanes=a,e;case O:return(e=Ks(19,n,t,i)).elementType=O,e.lanes=a,e;case F:return Ys(n,i,a,t);case U:return(e=Ks(24,n,t,i)).elementType=U,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:u=10;break e;case C:u=9;break e;case A:u=11;break e;case P:u=14;break e;case R:u=16,r=null;break e;case D:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ks(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qs(e,t,n,r){return(e=Ks(7,e,r,t)).lanes=n,e}function Ys(e,t,n,r){return(e=Ks(23,e,r,t)).elementType=F,e.lanes=n,e}function Xs(e,t,n){return(e=Ks(6,e,null,t)).lanes=n,e}function Js(e,t,n){return(t=Ks(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $s(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=zt(0),this.expirationTimes=zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.mutableSourceEagerHydrationData=null}function Zs(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hs(),u=ds(i);e:if(n){t:{if(Xe(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(mi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var c=n.type;if(mi(c)){n=wi(n,c,s);break e}}n=s}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),ps(i,u,a),u}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new $s(e,t,null!=n&&!0===n.hydrate),t=Ks(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,sa(t),e[ei]=n.current,Pr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}bs((function(){ec(t,o,e,i)}))}return tc(o)}function uc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Zs(e,t,null,n)}Qu=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Fo=!0;else{if(0===(n&r)){switch(Fo=!1,t.tag){case 3:Go(t),Ga();break;case 5:La(t);break;case 1:mi(t.type)&&bi(t);break;case 4:Ra(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi($i,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?$o(e,t,n):(fi(Fa,1&Fa.current),null!==(t=au(e,t,n))?t.sibling:null);fi(Fa,1&Fa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return iu(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Fa,Fa.current),r)break;return null;case 23:case 24:return t.lanes=0,zo(e,t,n)}return au(e,t,n)}Fo=0!==(16384&e.flags)}else Fo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=yi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)){var a=!0;bi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,sa(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&ya(t,r,u,e),i.updater=ma,t.stateNode=i,i._reactInternals=t,ba(t,r,e,n),t=Wo(null,t,r,!0,a,n)}else t.tag=0,Uo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Hs(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===P)return 14}return 2}(i),e=Ji(i,e),a){case 0:t=Ko(null,t,i,e,n);break e;case 1:t=Ho(null,t,i,e,n);break e;case 11:t=jo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,Ji(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ko(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=au(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Va=Qr(t.stateNode.containerInfo.firstChild),ja=t,a=Ba=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Qa.push(a);for(n=Ta(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Uo(e,t,r,n),Ga();t=t.child}return t;case 5:return La(t),null===e&&Ka(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,Kr(r,i)?u=null:null!==a&&Kr(r,a)&&(t.flags|=16),qo(e,t),Uo(e,t,u,n),t.child;case 6:return null===e&&Ka(t),null;case 13:return $o(e,t,n);case 4:return Ra(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=_a(t,null,r,n):Uo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,jo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 7:return Uo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Uo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var s=t.type._context;if(fi($i,s._currentValue),s._currentValue=a,null!==u)if(s=u.value,0===(a=lr(s,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(u.children===i.children&&!pi.current){t=au(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===s.tag&&((l=la(-1,n&-n)).tag=2,fa(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ia(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Uo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Uo(e,t,r,n),t.child;case 14:return a=Ji(i=t.type,t.pendingProps),Vo(e,t,i,a=Ji(i.type,a),r,n);case 15:return Bo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ji(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,mi(r)?(e=!0,bi(t)):e=!1,aa(t,n),ka(t,r,i),ba(t,r,i,n),Wo(null,t,r,!0,e,n);case 19:return iu(e,t,n);case 23:case 24:return zo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(ps(e,4,hs()),rc(e,4))},nt=function(e){13===e.tag&&(ps(e,67108864,hs()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hs(),n=ds(e);ps(e,n,t),rc(e,n)}},it=function(e,t){return t()},Te=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));J(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Re=ws,De=function(e,t,n,r,i){var a=Pu;Pu|=4;try{return Wi(98,e.bind(null,t,n,r,i))}finally{0===(Pu=a)&&(Gu(),Qi())}},Le=function(){0===(49&Pu)&&(function(){if(null!==is){var e=is;is=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ys(e,qi())}))}Qi()}(),Ls())},Me=function(e,t){var n=Pu;Pu|=2;try{return e(t)}finally{0===(Pu=n)&&(Gu(),Qi())}};var sc={Events:[ri,ii,ai,Oe,Pe,Ls,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{Ei=fc.inject(lc),Ii=fc}catch(ye){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=uc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Pu;if(0!==(48&n))return e(t);Pu|=1;try{if(e)return Wi(99,e.bind(null,t))}finally{Pu=n,Qi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(bs((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=ws,t.unstable_createPortal=function(e,t){return uc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,u=60109,s=60110,c=60112,l=60113,f=60120,h=60115,d=60116,p=60121,v=60122,y=60117,m=60129,g=60131;if("function"===typeof Symbol&&Symbol.for){var k=Symbol.for;n=k("react.element"),r=k("react.portal"),i=k("react.fragment"),a=k("react.strict_mode"),o=k("react.profiler"),u=k("react.provider"),s=k("react.context"),c=k("react.forward_ref"),l=k("react.suspense"),f=k("react.suspense_list"),h=k("react.memo"),d=k("react.lazy"),p=k("react.block"),v=k("react.server.block"),y=k("react.fundamental"),m=k("react.debug_trace_mode"),g=k("react.legacy_hidden")}function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case l:case f:return e;default:switch(e=e&&e.$$typeof){case s:case c:case d:case h:case u:return e;default:return t}}case r:return t}}}t.isContextConsumer=function(e){return w(e)===s},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===o||e===m||e===a||e===l||e===f||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===d||e.$$typeof===h||e.$$typeof===u||e.$$typeof===s||e.$$typeof===c||e.$$typeof===y||e.$$typeof===p||e[0]===v)},t.typeOf=w},441:function(e,t,n){"use strict";e.exports=n(372)},381:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},239:function(e,t,n){var r=n(381);e.exports=d,e.exports.parse=a,e.exports.compile=function(e,t){return u(a(e,t),t)},e.exports.tokensToFunction=u,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,u="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(u+=e.slice(o,d),o=d+f.length,h)u+=h[1];else{var p=e[o],v=n[2],y=n[3],m=n[4],g=n[5],k=n[6],w=n[7];u&&(r.push(u),u="");var b=null!=v&&null!=p&&p!==v,x="+"===k||"*"===k,E="?"===k||"*"===k,I=n[2]||l,S=m||g;r.push({name:y||a++,prefix:v||"",delimiter:I,optional:E,repeat:x,partial:b,asterisk:!!w,pattern:S?c(S):w?".*":"[^"+s(I)+"]+?"})}}return o<e.length&&(u+=e.substr(o)),u&&r.push(u),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function u(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var a="",u=t||{},s=(i||{}).pretty?o:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,h=u[l.name];if(null==h){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=s(h[d]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");a+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(h),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');a+=l.prefix+f}}else a+=l}return a}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,a=!1!==n.end,o="",u=0;u<e.length;u++){var c=e[u];if("string"===typeof c)o+=s(c);else{var h=s(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+h+d+")*"),o+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=s(n.delimiter||"/"),v=o.slice(-p.length)===p;return i||(o=(v?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=a?"$":i&&v?"":"(?="+p+"|$)",l(new RegExp("^"+o,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(a(e,n),t,n)}(e,t,n)}},195:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case y:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return b(e)===f}},228:function(e,t,n){"use strict";n(195)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function m(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=y.prototype;var k=g.prototype=new m;k.constructor=g,r(k,y.prototype),k.isPureReactComponent=!0;var w={current:null},b=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var r,a={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)b.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:i,type:e,key:o,ref:u,props:a,_owner:w.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var S=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case a:s=!0}}if(s)return o=o(s=e),e=""===r?"."+_(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),T(o,t,n,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(S,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+_(u=e[c],c);s+=T(u,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=T(u=u.value,t,n,l=r+_(u,c++),o);else if("object"===u)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function C(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var N={current:null};function O(){var e=N.current;if(null===e)throw Error(d(321));return e}var P={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error(d(143));return e}},t.Component=y,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=w.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)b.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:u,props:a,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return O().useCallback(e,t)},t.useContext=function(e,t){return O().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return O().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return O().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return O().useLayoutEffect(e,t)},t.useMemo=function(e,t){return O().useMemo(e,t)},t.useReducer=function(e,t,n){return O().useReducer(e,t,n)},t.useRef=function(e){return O().useRef(e)},t.useState=function(e){return O().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},896:function(e,t,n){!function(e){"use strict";function t(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function r(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function i(e,t,n){i.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function a(e,t){a.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function o(e,t){o.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function u(e,t,n){u.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function s(e,t,n){var r=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,r),e}function c(e){var t="undefined"==typeof e?"undefined":N(e);return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function l(e,t,n,r,f,h,d){d=d||[];var p=(f=f||[]).slice(0);if("undefined"!=typeof h){if(r){if("function"==typeof r&&r(p,h))return;if("object"===("undefined"==typeof r?"undefined":N(r))){if(r.prefilter&&r.prefilter(p,h))return;if(r.normalize){var v=r.normalize(p,h,e,t);v&&(e=v[0],t=v[1])}}}p.push(h)}"regexp"===c(e)&&"regexp"===c(t)&&(e=e.toString(),t=t.toString());var y="undefined"==typeof e?"undefined":N(e),m="undefined"==typeof t?"undefined":N(t),g="undefined"!==y||d&&d[d.length-1].lhs&&d[d.length-1].lhs.hasOwnProperty(h),k="undefined"!==m||d&&d[d.length-1].rhs&&d[d.length-1].rhs.hasOwnProperty(h);if(!g&&k)n(new a(p,t));else if(!k&&g)n(new o(p,e));else if(c(e)!==c(t))n(new i(p,e,t));else if("date"===c(e)&&e-t!==0)n(new i(p,e,t));else if("object"===y&&null!==e&&null!==t)if(d.filter((function(t){return t.lhs===e})).length)e!==t&&n(new i(p,e,t));else{if(d.push({lhs:e,rhs:t}),Array.isArray(e)){var w;for(e.length,w=0;w<e.length;w++)w>=t.length?n(new u(p,w,new o(void 0,e[w]))):l(e[w],t[w],n,r,p,w,d);for(;w<t.length;)n(new u(p,w,new a(void 0,t[w++])))}else{var b=Object.keys(e),x=Object.keys(t);b.forEach((function(i,a){var o=x.indexOf(i);o>=0?(l(e[i],t[i],n,r,p,i,d),x=s(x,o)):l(e[i],void 0,n,r,p,i,d)})),x.forEach((function(e){l(void 0,t[e],n,r,p,e,d)}))}d.length=d.length-1}else e!==t&&("number"===y&&isNaN(e)&&isNaN(t)||n(new i(p,e,t)))}function f(e,t,n,r){return r=r||[],l(e,t,(function(e){e&&r.push(e)}),n),r.length?r:void 0}function h(e,t,n){if(n.path&&n.path.length){var r,i=e[t],a=n.path.length-1;for(r=0;r<a;r++)i=i[n.path[r]];switch(n.kind){case"A":h(i[n.path[r]],n.index,n.item);break;case"D":delete i[n.path[r]];break;case"E":case"N":i[n.path[r]]=n.rhs}}else switch(n.kind){case"A":h(e[t],n.index,n.item);break;case"D":e=s(e,t);break;case"E":case"N":e[t]=n.rhs}return e}function d(e,t,n){if(e&&t&&n&&n.kind){for(var r=e,i=-1,a=n.path?n.path.length-1:0;++i<a;)"undefined"==typeof r[n.path[i]]&&(r[n.path[i]]="number"==typeof n.path[i]?[]:{}),r=r[n.path[i]];switch(n.kind){case"A":h(n.path?r[n.path[i]]:r,n.index,n.item);break;case"D":delete r[n.path[i]];break;case"E":case"N":r[n.path[i]]=n.rhs}}}function p(e,t,n){if(n.path&&n.path.length){var r,i=e[t],a=n.path.length-1;for(r=0;r<a;r++)i=i[n.path[r]];switch(n.kind){case"A":p(i[n.path[r]],n.index,n.item);break;case"D":case"E":i[n.path[r]]=n.lhs;break;case"N":delete i[n.path[r]]}}else switch(n.kind){case"A":p(e[t],n.index,n.item);break;case"D":case"E":e[t]=n.lhs;break;case"N":e=s(e,t)}return e}function v(e,t,n){if(e&&t&&n&&n.kind){var r,i,a=e;for(i=n.path.length-1,r=0;r<i;r++)"undefined"==typeof a[n.path[r]]&&(a[n.path[r]]={}),a=a[n.path[r]];switch(n.kind){case"A":p(a[n.path[r]],n.index,n.item);break;case"D":case"E":a[n.path[r]]=n.lhs;break;case"N":delete a[n.path[r]]}}}function y(e,t,n){e&&t&&l(e,t,(function(r){n&&!n(e,t,r)||d(e,t,r)}))}function m(e){return"color: "+R[e].color+"; font-weight: bold"}function g(e){var t=e.kind,n=e.path,r=e.lhs,i=e.rhs,a=e.index,o=e.item;switch(t){case"E":return[n.join("."),r,"\u2192",i];case"N":return[n.join("."),i];case"D":return[n.join(".")];case"A":return[n.join(".")+"["+a+"]",o];default:return[]}}function k(e,t,n,r){var i=f(e,t);try{r?n.groupCollapsed("diff"):n.group("diff")}catch(e){n.log("diff")}i?i.forEach((function(e){var t=e.kind,r=g(e);n.log.apply(n,["%c "+R[t].text,m(t)].concat(O(r)))})):n.log("\u2014\u2014 no diff \u2014\u2014");try{n.groupEnd()}catch(e){n.log("\u2014\u2014 diff end \u2014\u2014 ")}}function w(e,t,n,r){switch("undefined"==typeof e?"undefined":N(e)){case"object":return"function"==typeof e[r]?e[r].apply(e,O(n)):e[r];case"function":return e(t);default:return e}}function b(e){var t=e.timestamp,n=e.duration;return function(e,r,i){var a=["action"];return a.push("%c"+String(e.type)),t&&a.push("%c@ "+r),n&&a.push("%c(in "+i.toFixed(2)+" ms)"),a.join(" ")}}function x(e,t){var n=t.logger,r=t.actionTransformer,i=t.titleFormatter,a=void 0===i?b(t):i,o=t.collapsed,u=t.colors,s=t.level,c=t.diff,l="undefined"==typeof t.titleFormatter;e.forEach((function(i,f){var h=i.started,d=i.startedTime,p=i.action,v=i.prevState,y=i.error,m=i.took,g=i.nextState,b=e[f+1];b&&(g=b.prevState,m=b.started-h);var x=r(p),E="function"==typeof o?o((function(){return g}),p,i):o,I=C(d),S=u.title?"color: "+u.title(x)+";":"",_=["color: gray; font-weight: lighter;"];_.push(S),t.timestamp&&_.push("color: gray; font-weight: lighter;"),t.duration&&_.push("color: gray; font-weight: lighter;");var T=a(x,I,m);try{E?u.title&&l?n.groupCollapsed.apply(n,["%c "+T].concat(_)):n.groupCollapsed(T):u.title&&l?n.group.apply(n,["%c "+T].concat(_)):n.group(T)}catch(e){n.log(T)}var A=w(s,x,[v],"prevState"),N=w(s,x,[x],"action"),O=w(s,x,[y,v],"error"),P=w(s,x,[g],"nextState");if(A)if(u.prevState){var R="color: "+u.prevState(v)+"; font-weight: bold";n[A]("%c prev state",R,v)}else n[A]("prev state",v);if(N)if(u.action){var D="color: "+u.action(x)+"; font-weight: bold";n[N]("%c action    ",D,x)}else n[N]("action    ",x);if(y&&O)if(u.error){var L="color: "+u.error(y,v)+"; font-weight: bold;";n[O]("%c error     ",L,y)}else n[O]("error     ",y);if(P)if(u.nextState){var M="color: "+u.nextState(g)+"; font-weight: bold";n[P]("%c next state",M,g)}else n[P]("next state",g);c&&k(v,g,n,E);try{n.groupEnd()}catch(e){n.log("\u2014\u2014 log end \u2014\u2014")}}))}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},D,e),n=t.logger,r=t.stateTransformer,i=t.errorTransformer,a=t.predicate,o=t.logErrors,u=t.diffPredicate;if("undefined"==typeof n)return function(){return function(e){return function(t){return e(t)}}};if(e.getState&&e.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(e){return function(t){return e(t)}}};var s=[];return function(e){var n=e.getState;return function(e){return function(c){if("function"==typeof a&&!a(n,c))return e(c);var l={};s.push(l),l.started=A.now(),l.startedTime=new Date,l.prevState=r(n()),l.action=c;var f=void 0;if(o)try{f=e(c)}catch(e){l.error=i(e)}else f=e(c);l.took=A.now()-l.started,l.nextState=r(n());var h=t.diff&&"function"==typeof u?u(n,c):t.diff;if(x(s,Object.assign({},t,{diff:h})),s.length=0,l.error)throw l.error;return f}}}}var I,S,_=function(e,t){return new Array(t+1).join(e)},T=function(e,t){return _("0",t-e.toString().length)+e},C=function(e){return T(e.getHours(),2)+":"+T(e.getMinutes(),2)+":"+T(e.getSeconds(),2)+"."+T(e.getMilliseconds(),3)},A="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},P=[];I="object"===("undefined"==typeof n.g?"undefined":N(n.g))&&n.g?n.g:"undefined"!=typeof window?window:{},(S=I.DeepDiff)&&P.push((function(){"undefined"!=typeof S&&I.DeepDiff===f&&(I.DeepDiff=S,S=void 0)})),t(i,r),t(a,r),t(o,r),t(u,r),Object.defineProperties(f,{diff:{value:f,enumerable:!0},observableDiff:{value:l,enumerable:!0},applyDiff:{value:y,enumerable:!0},applyChange:{value:d,enumerable:!0},revertChange:{value:v,enumerable:!0},isConflict:{value:function(){return"undefined"!=typeof S},enumerable:!0},noConflict:{value:function(){return P&&(P.forEach((function(e){e()})),P=null),f},enumerable:!0}});var R={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},D={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dispatch,n=e.getState;return"function"==typeof t||"function"==typeof n?E()({dispatch:t,getState:n}):void console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};e.defaults=D,e.createLogger=E,e.logger=L,e.default=L,Object.defineProperty(e,"__esModule",{value:!0})}(t)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=S(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(O){return{type:"throw",arg:O}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function y(){}function m(){}function g(){}var k={};s(k,a,(function(){return this}));var w=Object.getPrototypeOf,b=w&&w(w(A([])));b&&b!==n&&r.call(b,a)&&(k=b);var x=g.prototype=y.prototype=Object.create(k);function E(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function S(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function A(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:N}}function N(){return{value:t,done:!0}}return m.prototype=g,s(x,"constructor",g),s(g,"constructor",m),m.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},E(I.prototype),s(I.prototype,o,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new I(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,y=null,m=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,b=w.port2;w.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();k=e+g;try{y(!0,e)?b.postMessage(null):(v=!1,y=null)}catch(n){throw b.postMessage(null),n}}else v=!1},n=function(e){y=e,v||(v=!0,b.postMessage(null))},r=function(e,n){m=h((function(){e(t.unstable_now())}),n)},i=function(){d(m),m=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function E(e){return void 0===(e=e[0])?null:e}function I(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,s=e[u];if(void 0!==o&&0>S(o,n))void 0!==s&&0>S(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>S(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var _=[],T=[],C=1,A=null,N=3,O=!1,P=!1,R=!1;function D(e){for(var t=E(T);null!==t;){if(null===t.callback)I(T);else{if(!(t.startTime<=e))break;I(T),t.sortIndex=t.expirationTime,x(_,t)}t=E(T)}}function L(e){if(R=!1,D(e),!P)if(null!==E(_))P=!0,n(M);else{var t=E(T);null!==t&&r(L,t.startTime-e)}}function M(e,n){P=!1,R&&(R=!1,i()),O=!0;var a=N;try{for(D(n),A=E(_);null!==A&&(!(A.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=A.callback;if("function"===typeof o){A.callback=null,N=A.priorityLevel;var u=o(A.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?A.callback=u:A===E(_)&&I(_),D(n)}else I(_);A=E(_)}if(null!==A)var s=!0;else{var c=E(T);null!==c&&r(L,c.startTime-n),s=!1}return s}finally{A=null,N=a,O=!1}}var F=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||O||(P=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return E(_)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,a,o){var u=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?u+o:u:o=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(e.sortIndex=o,x(T,e),null===E(_)&&e===E(T)&&(R?i():R=!0,r(L,o-u))):(e.sortIndex=s,x(_,e),P||O||(P=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),s=0;s<a.length;s++){var c=a[s];if(!u(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}},76:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAGTRJREFUeJztnXmcFNW1x7/VMwzDJgwgqLgAAwpGZHFnkajBZ5QkbkmMmpcXE42Jic+Yxe3FZ2LeBxONieZpjMaNBBdE4/JeRJQoIKKiAhJkXxz2GbaRWbp6qfP+uFVUdfVWW0/3xPf7fPrT3VV1l7q/urfOPfecczU6PaQXMByoB4a5vuuAHkUy2A9sB5qATcA6YC3wD+Aj0JIlqXYHQSt3BfxDDgYmAaebn+OBqgIJ4sBeoN1xrBroBdRQ+AHQgeXAG8BrwHzQ2gtcX3HoJATLScDXgH8BRpJZ7zZgFarnrTc/1u9doMWL5N0DGAgcAgxB9f6jgdHACDIfnjiwEHgVeBm0D8Pd16cacjTIbSBrQMTxaQb5G8iNIONBakpYh+4gE0F+DrIQJOmqyxKQa0H6la4O/1SQapDLQd51NWQDyK9ATgQpNByXun69Qc4HuQ9ku6N+OsgzIOeCxMpXv4qFdAX5V1dv3QsyHeQL5SU1H6QK5HMgM0ESjnp/ZN5LBda5wyG9QW4FaXI00IdmLy7h0Bs1ZCDIj0DWuoi+9FNKtGgg3wTZ4WiQ+SDnqXOdFVJt9t7VjvtaCfKlctesAyEngixyNMBckNPKXatoIVXmKLTKcZ/PgxxR7pqVEFIH8iBI2iE4fbnctSotpArkSpA95j3vB7nun3DYlgkgm8ybbAf5pZqCfFogA0FmOHrz+yCfKXetIoBUgfzMMX9cAFJf7lqVD3I2yDqzLVrUMN5pIYeDvGHeTAqlLKgud63KD+kG8pCjN/9BTRM7FeQUkEbzBjaDnF7uGim0DCx3DWzIN0BazTZaDDK43DXyCJnqqPhLIH3LXSMb7U/B/oPLXQsbcrxjStUIckK5a1QEcqXjfXt/ZUmLUgd6C+g3lLsmmZCDQF7A1rNPLneN8kB+blbSALm53LXJRvw+SCdBX1t5ErxUgzxmtl8byBfKXSMX5L/MyiWUJqfSkDgBkubiQDoB+uPlrlE2RAP5raMdLyt3jUzIj7FXVM4td22y0TYI9A0OqVUguQfi/17umuWG3GrWMw1yYbkr821zSE5VplZK+oL+ERiSSbAIJHeCflG5a5gb8hOHUmhiuSpxgSlQGUq4qjTonwF9NRjpbHIPkNwE+s/KXdPckLvNeu4DGdXRhZ9iDsmihuhKg34x6FvyE+v8pPaB/gwVtzwpMdRas4BsBDm0owruD/KxWfBvOqhQj5A60J9XPdMLudYnrYO+CtrLNRzmgdSCzDPr+W4HPIQSA5ltFjiPilE9Sg3ot4G+qfCQXOyTbAT9FWgfUu47siF12JYud5W6sNvMgnaAHFbiwjxA6kC/A/T1kI4HJ9b5MQSSWxXRiXHlvkMFGQcSN+WdqaUq5HOm6G5AaoYaPsoB6QLxL0Li76A3QDoVDbE5iW4CfTnot8D+AeW5X4D2syC5y6zbTpBDIi5AupsveoH0ZtVb9A2gPwz6sREXlgPxYRC/BuLzVbmp/aUhNe87OgXJLaB/CInfQdtppX8fSh91z/oyRW6yCWX9IiBz8Gi96dH+SX4N/ARYDIkuUDPGPA6kG8HYh3LzeA5kCdSsDubyIV0gMRwYBdp4lMH7AIj1hFh/iFWAbltQ95v+BOUxsRLkLTDeg24rQdsXLN/Ww6DqOIidDXImxA6G2ACImQ9SugnkS1A9CzgMuAK0R4vl6oFgGQW8b157MiQeh5oc8zLBHML3QLodaEG5iySAPSjfn0bQqlGG4l2AfkBvoBblQlILsa4Q66uu6wz2d2J99oG0gqGjvC3aQGtR7UEraHtQeoOeoA0ArR/Kq6IGOAhitaDVQaxb7vtO7wZjCnQZCswCGoFjgj9QqvIxlEW/gNypjunLgr/T3J+OHGbL9cl130HuPdUE+vEmL9ZM5rchyAWQq8yMNplPG6B/UP5G+zR+ktuVLAIgx6IWJJIgxxVisMA8VroClhrvWtBazd/pMI9MEHz+87BwIXzyib90p54K11/v7dq1a+GWW9Tv+nr46U+9pUsmYfdu2LED5s+Hjz5SdJQABqTb1E/tI5DfA9cD9wJnBshPvmc+Pe9kHtcXle4pzf1Zs0bk7LP9p/vyl8UzFi2y040f7z2dG8uXq3JL0IO3gPRx8HMQtuPAWX7J7YJt5npe5rnEqx1Jbs+eIum0yE03+U87erTIU0+JtLYWJuWdd0R+/GM7XdeuIiNHilx9tUhjYzCiH35YpEuXKNtCbyBLc3hgqXaOX4KvNhO+T5Yrif5oRwpIEyeqBps1K3ge9fUiO3bkJuKWWwqnPeus7DS6LvL88yIzZ4rMmSPS0JA778cfj5TgNTl46oVtVO/Vnku6YC8mfDH7vP6fkO4wgn/wA9VYGzeGy+eGG7IJ2LJFpLq6cDpNy344pk/PvmbKFJG1a7PLuPzyyAhenoevX5rXPO2V4AvNBEvJ6QimXwZpo6MIfuQRu7H69w+ez7hx2Y0/Y4a3tHPnZqb7xS9yX9e/v8iKFdkPUW1tJAQvzsPXAJQdVwpkuPtsLnXXN83vh0CT7NPGVpDW7OOlwTiHun/s2OD5rFqVfWztWm9pGxsz/+/Lo1rYtQsuvxzSjnnGoEFwySXeyikMrTnP8UbgUVSoie+5z7oIloHAOahYFE/kzjC2Qz0xpUdNDYwcaf8/IYTVcFsb7NmTeWzbNm9pW12Ps+R47C0sWQKPPZZ57PLQDioCyJYCFzxofl+Cy1TZ3YP/DTU3/itoe3PnVbMZpX4sOY47TpFsIQzBkD2Pbmnxlq7N5+P86KOZ/ydNgu6hDHUFYHX+89oyVNinQ4AznGfcBH/DqmOBzFrB6JAe7B6Sx4VcnY3HC//PB78EL1qUOTrU1MBJJ/nLIxPSDvJekYueMr+/5jzoIFjGoUIUNQBzi2TWIe9gN8FDhkDfEI4wQQlO+ByvDAPefjvz2GdCOYvKPpAc06QMPInq6hfiWKt39uCzze8XQTOKZLbFHDZKCneP1bRwgla7K4SZrgfPqxhWrsz8P3hwmNyMBNRuLnyNtgFYBPQBPm8ddRI8xfx+1UOJS0pNcCwGo0ZBKpV5PMx7OGgPDoLVrjdm796hstvvodMBPGd+W1xaBEt3YAKQQoXtKwJZDFLC5oGjj4aePWH27MzjYQh2PyzpEi6buKdS4QgWr2u+88zvA+66MceBrsDboHlZs1kNkmdeFg2sofiZZ2D/fvt4WEm6o+CsM4QhWECFavSCJUAzcKxSgNgE+xmega4bTcuFksEi+IMP4ENHRMihQ8MJWh0F9xSsW7egOYmAvOvtWi0NvIUyCZkINsETzO/XPWaUAnyuzvrDuHFKCFq9WikPDpSswZgxpSw5GnTpkvnf71TLhuyC2NvFrzuA+eb3ZIAYagnqeMBAdXGv2FRKQWv0aFi+XC2oL3HVqjMM0z17Zv53a8O8I90GNSuLX3cAFsETQPXgEUA3YI0yEvMKeaWw0i44jjwS+ve3if1nIDif/toD9pgjpldYL7RjQBFsaXvzLEflgzYfZLe/NN5gzX+XLlXfK1ZkKhs6A8FHHZX5f/36ILkUU1HmgtYC7AR6ggyMocLhgwpj7wM1KyDto8d7hyVgWT03kVC2Thbq66FPn+x0lYTjXKZwGzYEyUXSoL0SIKH1ONXHUHsbOA96hJamRILW2LFK3bfcMaZ0NkHLrYVzqy69wdgFxlsBEq4zv4fFgMPNPx8HyGhVKQStsWPVWq1zqtGZ3sPDh2c+gKtWQUNDkJyMNui6rvh1WbA667AYYDlVNea5uFAFZqthJDr06weHH55NaGci+Mor1Shj4cknA2e126OK0g3rhTA4hlpDBNjhPx/tLTAiFbQs4iwBy8LSpWrYdl9XaRg3Dq67zv7f1gb33x8kJwG1xhsEu8zvvjGUbxBAAEG+6xowIhW0LAHLTXBLS6YkOnx4aAV+5BgzBp59NlPJcfPNypTHP4w48FLAqljGGnXVKMevVDBvQE1A3wEMDViRLOQjGNQwPdyU+S1Ba9687OtKjalTYaAj6mVtrVrvPeMMqHIYzNx5J9xzT9BSZBfoQe/OWifoXY3SW4bZ7Gk2GONz2+/5x9ixyhpi587sc0uWwFe+Yv8/4YTyEHzmmeqTD83N8J3vwNNeDVlzwmiGg4K+/qzOWh1zHQgA7aWoFB49e8KwYdkClYXOImjV1Cjrk6rA3syh3r9g89nFIjiEY3WXDyEdydLhmDFqoT/X8Aydh+Bu3WDaNJg1Sw3f/mEkUD7AQWHNbKoiIFgzCCSBZ6PQ+xeUfbLTmG34cOjVK4qS/eH66xWJBx8MJ58M3/0uvPxytmb+/PPh4YeDlCCNoHtc2csJa3GyPYZaRarN7cXgGS8of6VwcKsoc8F5LhYrn0YrHlfS8eLF8MADcO65cNpp8LFLXXTppXDFFX5zN/aGeP+CTXBbDLW9ajXQM//1RSv0DBg5xCJ/GDtW2S4X0ttW8jD9zjswebLyFXZi2jQ46CCvuQggQdSTTlhctsaw50wh1PfdNiqpLzhqauDYY2HZsuKeA05UEsGgevDVV2ceGzAAvv51rzkYzSB5vEo8w4pqvyuGraIMGwtxZRi9tOXFUGh4hsonGOCFF5TxuxNXXeU1dXov1C4qfl1BWAQ3xXAsLYXMdDoYgefTxQQsC5s2wV6HU80xx5RH0CoGt3B1/PGebaO3RbDruNVZd1YTGcE1r0KiCaqODJLaEpZuugmuuabwtc6pRyymzHvefDNIqaXDiy+qV41z0eGzn812TMuEYYA8G0HxlmZxY4QEay2g7wQCEWytnw7P8nAtjhNOqDyCm5qU7nzYMPvYaacVJXgHGKH0XyYOGHHEsC05huW52Adkpor26g+xmBrCgqIS38OQ/boZVrSFjd3QfWsERR9tfq9z9uAICE4/AVU/hJivSLTDhys1ZUMDrCnmYoUy1znxRPt/WK/DUmGzy5toSMEgxQJoxZz+PEAORa3xN4K2oxploNUEHAJyBGhFnJwKocc20JtRsRQ9wyLonnvg7ruLXz9oEGxxuEOPHKkeEK/+vh2F7dsz/x9acJ6SbgIp4LbrGZZ73lKAmBmmYYF5MIIt6OQ1v9MlS4J2ejAUwtatmatNlqBVaXAbu9fWFlqAMPZBV48tUBAnm99LwF7jswieFD7/2MOQ9rXEbUnQy30Y7rrfb5X4Hna7qwL06JHrSgH4IKJiLTfg18Em2LKGj6AH1yzzY8ajaYqcpqbca8D58IGrOSrxPex2X4F8PdhoBuO/w5coBwEnomKsLACb4GUok50RZiCWsAXN8zpM19crZ7JiCg43OoNGK5cCJreckN4NtWH1zwBnocI0vwlaGxwgWEsDC1HWHUECW7oQu9/rMG1Jw36GZ8juwSNH5hv+yge3+0o8rnytMiEAiwNaT7rxOfP7gJeo087GMvCKIKqT92Ha6nl+Cd6wIdPfp6oq3Fy6FKiry/zfnHM5xmgG476IirTevzkJnoUKj3QOkez5622YDtqDRSpf0HLG+AJYl9OEPb0baheGL01OQukytmJOkSCDYG038AoqxPzF4QuM3a/mdgWuiCnhKJ3O9D3yin+4rJYqjWB3ZB13YBazA7wf0fBsRSic7oxQ6DaFtGzwLw1fXs0yMAoSPGKEWghfty73lKIY3A9FuFhU+ZFLGi6GQw+Fw1zqHvcDqXqv9uug9bIhtdiv1unOM26CX0BtpjEJJNCigQt/ASOvb+vp5qQsmN9Odo849tjSeB26hSUvcJr3Wngly0/QaISaYgHOvOB8oA5YCFpGPA8XwVob8Kx5/Afhy635A6S35zs70dwp0G3i4hXuYKKaVppeHCQM4WWu7Z3Xr3cHRDXSwJ9DVMsJa3h+zH0il7X6b1Avh++QEUI+CLR9wJp8wpbVg4MS3NiY6a8EakkuarinX8UMDM47L/tBy3ZAS22DmgfC1g1kJGp61ArMdJ/NQbC2HPgb0Isc4Wn9w/iVuXFWBsaOhSOOUL+D2Q6rOaU7zOBZfncv8ICBLtXPgAKb3B11FDz0UOax1la4917nEUENpfkCvvrCrSgeH/QYAgtAJpnhe3aCBA4AZOalgb7WHeB62jQ7aPZLLwULkt2/f3aQ71RKpF+/3NfPmZN57amnFi9D07L3bWhoEOnePfu6iy4S2bYtu0533OHON7VX7UcYFjJSue9KO/43Cz2wIdZ3w1dEv1Xt0atucMiQzI0yWlpEBg3yT/Cll2Y3pojIjTd6I/iUU4qXMXly7jK2bxd55hmRP/5R7SeRi1gRkffeU5t8ZOarrwxph25x9ISZ5++CJP6imXibqcQOU5Eeam9fkXPOEVm3LrshGhpE7rpLpE+f4o1+0UVqV5OWltyNmk6rfRXcD42b4HHj8pfRu7fIBRfk33DDC1avFhk8OKv3tkDim0WbrHibjkSF8W8n+O7g8rpZsQg2Jk7cDenUHXcUbpShQ4sTPGOGtwYeP74wwaNG5c4/zL5JIuo18eST+R5WfS2RbKwtplmfFHRQLTJMyCjUOqUAo0HzE5DLnVdvSCzr27fmqEJz1c2bcynkMzFggLe56bZtmRFl58yBKVPs/yNGZEeFBWWKe/vtxfN3o7FR6ciffTbbhUXB0CF5A9QG9hpWkAtR09k9wEhz34bAmd1rPike41gWQvzBcFuwh/u4e/CQIR1dB30dofcdll4gm808vx2eE6QPSpoWkIvC5dUy0NzBqyIIPvzwjiw/HVc7iYfm4x4zzwVEIqipTK8wM23CvzjuQuJup0RdToJ79erQ3rs6gt57Ekqw0kFCbRLgzlgDed6s7Bu4tm7xmVetOVSVleBEQs1dO6bs1F7Qzw/JQS+QlWaevwyXV+4C6rC3vLs5XF6Jr0NqXzkJ3r69o8o1BOIh/S5EA5ll5vkuauvfUkBORw0RSZDx4fLS3y/VJpc9eqhdR0ePzk/wihUdRXByG8SPCdnuPzLz2wNS0Hw+AsjtZmENIIOC55MYC8kdpWjUb31LkTh7dn6CX3+9I8hNJ0F/JGR7T0Tt9p0ma6vfkkCqQeaaN7EMJEQ4ssTdKuB1tA378suKxHQ6U9nw2ms2wX/6U0cQrK8mlC5fBoNsNfMrxXs3b8G9QT40C55LYOlQqkFfFuVQrWkiu3bZRE6dap9bsMA+fsMNpSY3uQMSp4Ro44Ega8z8ZhNQsA0YvUxrRm1i+THKzHY6SIC8tBTIhZDMaxTgF3V1KqCpBaelZVeHaJLbAC4qGHGQJ6DmnWDppTdqyXY48C5wsWna3NGQ40D2mk/Z7wk88dZvhFRzFD1n6NDMue4jj9jnli2zj48YUaqeawjoSwmsb5buKCWGgCwnEgvXUJDJqA2KBeTx4Dem/xXSibANfMQRmQQvWGCf27pVHWtsLOUcWG+AtiMCtmVPDuyFIRsIrVSKDDIZxOqBz+PYHNFHHrVRvI9razMJ3r1bHe/aVQldIiLPPVfK927QhXw5BOQ9M6+tIGFjpkQNGYets36DQGvILYeAvjFsQzc3Z5J86KEiJ51k/7/22lKQm9oL8R8GbLt6bIFqLUgEzvglgYxAzY8FZGmwiiZOBX1rmMaeOzeT4OuuE5k5U/1OJEQGDoyc3P0Q/1PANhsPssvMawHlf+cWgxwJssKs8D6QADrY9jMgGZjk22+XvHjhhajJTbeC/hy+BUzRQL6PssgQlCoyoPlhh0N6YtsLGSB34lv4ik8Nquk644zc5KbT3gztfJAbB/1FfE8RpR/24o0Bcpf/PCoCcg1qaUtA5oP4jAyvXxKEZE1Txm5uPPBA5D33b/hWQMhk7AX7JpAv+EtfcZCTsVeh2kBuAvHh7dM+OYiRQH29yJo1NrlPP60k7GjITTWD/hd/vU56gfwatVgjIH8nlC6/oiB9QR4xhyNBTeAnFE9nQR+ljNX8TaG6dROZMCFqpUayCfRf+Lh3DeQybJ1yEuQ//Pf8TgGZjL1obYA8BOJRKdA2SGmIymMNYmqotoB+WfG6HrjfsdhaKUH5TFeYm3rkkBqQn2FLj3GQ+/HkzSjVkPg9JHdFR5yn920K9FUQ9xhoUUaB/NkxHG8B+RrR2VB1Bkg9SrWZNBtBB3kA5KjiafWvKkN6w4iOxLxDciPoT+JpCiMTQf4H+1UUB5kGEiLYeqeHDAN5zEF0EmXUfQEFlyGlr5qiJJtK1Gt19d5vLxKURrqBfBXkTUf6T1BTw0rRJVcCpB4liMUdDdUI8ls15OVD/GzQVyhtUiTvWkNJ7fqd5LV9kmqQc0Cmm2Ra6XeC3AJSlzvd/wPVM+X72Ip367MG5D6Q88myIpEYxK9SPS7VErDHpkHfDPoM2H9wjnoNBLkYJS/sdKQ1UHP8qwjtifmpgxxv9mC3siOJ8n78OciXOCCgSRXol6tVqWSjt2lVqhX0DRC/D/abnr9SA3I0yKUoueCjHGmXgvyUaEJdlAydRKqTGDAGmGJ+JqD2XHRiL2pj5HXARqAKUpOAI0HrDrE6FeRBAGkD4xOQPVA1D2IfA4NRYYjqVZqsvaSagTeBecD/ghYgLlDHo5MQ7IZ0RwVOnYQKnzsGnyGMiyABbAJWoOJ4zgeWlclsJhQ6KcG5IHWoHjgM1QMHonYf6YeK/eX2aWxBxefci9pvdz2q968HGjojmbnwf2lks+KG66kOAAAAAElFTkSuQmCC"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Un},SDK_VERSION:function(){return Or},_DEFAULT_ENTRY_NAME:function(){return yr},_addComponent:function(){return wr},_addOrOverwriteComponent:function(){return br},_apps:function(){return gr},_clearComponents:function(){return Sr},_components:function(){return kr},_getProvider:function(){return Er},_registerComponent:function(){return xr},_removeServiceInstance:function(){return Ir},deleteApp:function(){return Lr},getApp:function(){return Rr},getApps:function(){return Dr},initializeApp:function(){return Pr},onLog:function(){return Ur},registerVersion:function(){return Fr},setLogLevel:function(){return jr}});var t=n(791),r=n(164);function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function u(e){return"/"===e.charAt(0)}function s(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var c=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],a=e&&u(e),o=t&&u(t),c=a||o;if(e&&u(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var l=i[i.length-1];n="."===l||".."===l||""===l}else n=!1;for(var f=0,h=i.length;h>=0;h--){var d=i[h];"."===d?s(i,h):".."===d?(s(i,h),f++):f&&(s(i,h),f--)}if(!c)for(;f--;f)i.unshift("..");!c||""===i[0]||i[0]&&u(i[0])||i.unshift("");var p=i.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function l(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var f=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=l(t),i=l(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},h="Invariant failed";function d(e,t){if(!e)throw new Error(h)}function p(e){return"/"===e.charAt(0)?e:"/"+e}function v(e){return"/"===e.charAt(0)?e.substr(1):e}function y(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function m(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function g(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function k(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=o({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=c(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function w(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var b=!("undefined"===typeof window||!window.document||!window.document.createElement);function x(e,t){t(window.confirm(e))}var E="popstate",I="hashchange";function S(){try{return window.history.state||{}}catch(e){return{}}}function _(e){void 0===e&&(e={}),b||d(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,a=i.forceRefresh,u=void 0!==a&&a,s=i.getUserConfirmation,c=void 0===s?x:s,l=i.keyLength,f=void 0===l?6:l,h=e.basename?m(p(e.basename)):"";function v(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname+i.search+i.hash;return h&&(a=y(a,h)),k(a,r,n)}function _(){return Math.random().toString(36).substr(2,f)}var T=w();function C(e){o(V,e),V.length=t.length,T.notifyListeners(V.location,V.action)}function A(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||P(v(e.state))}function N(){P(v(S()))}var O=!1;function P(e){if(O)O=!1,C();else{T.confirmTransitionTo(e,"POP",c,(function(t){t?C({action:"POP",location:e}):function(e){var t=V.location,n=D.indexOf(t.key);-1===n&&(n=0);var r=D.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(O=!0,M(i))}(e)}))}}var R=v(S()),D=[R.key];function L(e){return h+g(e)}function M(e){t.go(e)}var F=0;function U(e){1===(F+=e)&&1===e?(window.addEventListener(E,A),r&&window.addEventListener(I,N)):0===F&&(window.removeEventListener(E,A),r&&window.removeEventListener(I,N))}var j=!1;var V={length:t.length,action:"POP",location:R,createHref:L,push:function(e,r){var i="PUSH",a=k(e,r,_(),V.location);T.confirmTransitionTo(a,i,c,(function(e){if(e){var r=L(a),o=a.key,s=a.state;if(n)if(t.pushState({key:o,state:s},null,r),u)window.location.href=r;else{var c=D.indexOf(V.location.key),l=D.slice(0,c+1);l.push(a.key),D=l,C({action:i,location:a})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",a=k(e,r,_(),V.location);T.confirmTransitionTo(a,i,c,(function(e){if(e){var r=L(a),o=a.key,s=a.state;if(n)if(t.replaceState({key:o,state:s},null,r),u)window.location.replace(r);else{var c=D.indexOf(V.location.key);-1!==c&&(D[c]=a.key),C({action:i,location:a})}else window.location.replace(r)}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=T.setPrompt(e);return j||(U(1),j=!0),function(){return j&&(j=!1,U(-1)),t()}},listen:function(e){var t=T.appendListener(e);return U(1),function(){U(-1),t()}}};return V}var T="hashchange",C={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+v(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:v,decodePath:p},slash:{encodePath:p,decodePath:p}};function A(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function N(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function O(e){window.location.replace(A(window.location.href)+"#"+e)}function P(e){void 0===e&&{},b||d(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?x:r,a=n.hashType,u=void 0===a?"slash":a,s=e.basename?m(p(e.basename)):"",c=C[u],l=c.encodePath,f=c.decodePath;function h(){var e=f(N());return s&&y(e,s),k(e)}var v=w();function E(e){o(V,e),V.length=t.length,v.notifyListeners(V.location,V.action)}var I=!1,S=null;function _(){var e=N(),t=l(e);if(e!==t)O(t);else{var n=h(),r=V.location;if(!I&&function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}(r,n))return;if(S===g(n))return;null,function(e){if(I)!1,E();else{var t="POP";v.confirmTransitionTo(e,t,i,(function(n){n?E({action:t,location:e}):function(e){var t=V.location,n=L.lastIndexOf(g(t));-1===n&&0;var r=L.lastIndexOf(g(e));-1===r&&0;var i=n-r;i&&(!0,M(i))}(e)}))}}(n)}}var P=N(),R=l(P);P!==R&&O(R);var D=h(),L=[g(D)];function M(e){t.go(e)}var F=0;function U(e){1===(F+=e)&&1===e?window.addEventListener(T,_):0===F&&window.removeEventListener(T,_)}var j=!1;var V={length:t.length,action:"POP",location:D,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&A(window.location.href),n+"#"+l(s+g(e))},push:function(e,t){var n="PUSH",r=k(e,void 0,void 0,V.location);v.confirmTransitionTo(r,n,i,(function(e){if(e){var t=g(r),i=l(s+t);if(N()!==i){t,function(e){window.location.hash=e}(i);var a=L.lastIndexOf(g(V.location)),o=L.slice(0,a+1);o.push(t),o,E({action:n,location:r})}else E()}}))},replace:function(e,t){var n="REPLACE",r=k(e,void 0,void 0,V.location);v.confirmTransitionTo(r,n,i,(function(e){if(e){var t=g(r),i=l(s+t);N()!==i&&(t,O(i));var a=L.indexOf(g(V.location));-1!==a&&(L[a]=t),E({action:n,location:r})}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&!1;var t=v.setPrompt(e);return j||(U(1),!0),function(){return j&&(!1,U(-1)),t()}},listen:function(e){var t=v.appendListener(e);return U(1),function(){U(-1),t()}}};return V}function R(e,t,n){return Math.min(Math.max(e,t),n)}function D(e){void 0===e&&{};var t=e,n=t.getUserConfirmation,r=t.initialEntries,i=void 0===r?["/"]:r,a=t.initialIndex,u=void 0===a?0:a,s=t.keyLength,c=void 0===s?6:s,l=w();function f(e){o(m,e),m.length=m.entries.length,l.notifyListeners(m.location,m.action)}function h(){return Math.random().toString(36).substr(2,c)}var d=R(u,0,i.length-1),p=i.map((function(e){return k(e,void 0,"string"===typeof e?h():e.key||h())})),v=g;function y(e){var t=R(m.index+e,0,m.entries.length-1),r=m.entries[t];l.confirmTransitionTo(r,"POP",n,(function(e){e?f({action:"POP",location:r,index:t}):f()}))}var m={length:p.length,action:"POP",location:p[d],index:d,entries:p,createHref:v,push:function(e,t){var r="PUSH",i=k(e,t,h(),m.location);l.confirmTransitionTo(i,r,n,(function(e){if(e){var t=m.index+1,n=m.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),f({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=k(e,t,h(),m.location);l.confirmTransitionTo(i,r,n,(function(e){e&&(m.entries[m.index]=i,f({action:r,location:i}))}))},go:y,goBack:function(){y(-1)},goForward:function(){y(1)},canGo:function(e){var t=m.index+e;return t>=0&&t<m.entries.length},block:function(e){return void 0===e&&!1,l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return m}var L=n(7),M=n.n(L),F=1073741823,U="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};function j(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var V=t.createContext||function(e,n){var r,i,o="__create-react-context-"+function(){var e="__global_unique_id__";return U[e]=(U[e]||0)+1}()+"__",u=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).emitter=j(t.props.value),t}a(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[o]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,i)?(t="function"===typeof n?n(r,i):F,0!==(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(t.Component);u.childContextTypes=((r={})[o]=M().object.isRequired,r);var s=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}a(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?F:t},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?F:e},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(t.Component);return s.contextTypes=((i={})[o]=M().object,i),{Provider:u,Consumer:s}},B=V,z=n(239),q=n.n(z);n(228);function K(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var H=n(110),W=n.n(H),G=function(e){var t=B();return t.displayName=e,t},Q=G("Router-History"),Y=function(e){var t=B();return t.displayName=e,t},X=Y("Router"),J=function(e){function n(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}a(n,e),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&this.unlisten()},r.render=function(){return t.createElement(X.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},t.createElement(Q.Provider,{children:this.props.children||null,value:this.props.history}))},n}(t.Component);t.Component;var $=function(e){function t(){return e.apply(this,arguments)||this}a(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(t.Component);var Z={},ee=0;function te(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(Z[e])return Z[e];var t=q().compile(e);return ee<1e4&&(Z[e]=t,ee++),t}(e)(t,{pretty:!0})}function ne(e){var n=e.computedMatch,r=e.to,i=e.push,a=void 0!==i&&i;return t.createElement(X.Consumer,null,(function(e){e||d(!1);var i=e.history,u=e.staticContext,s=a?i.push:i.replace,c=k(n?"string"===typeof r?te(r,n.params):o({},r,{pathname:te(r.pathname,n.params)}):r);return u?(s(c),null):t.createElement($,{onMount:function(){s(c)},onUpdate:function(e,t){var n=k(t.to);(function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&f(e.state,t.state)})(n,o({},c,{key:n.key}))||s(c)},to:r})}))}var re={},ie=0;function ae(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,o=n.strict,u=void 0!==o&&o,s=n.sensitive,c=void 0!==s&&s;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=re[n]||(re[n]={});if(r[e])return r[e];var i=[],a={regexp:q()(e,i,t),keys:i};return ie<1e4&&(r[e]=a,ie++),a}(n,{end:a,strict:u,sensitive:c}),i=r.regexp,o=r.keys,s=i.exec(e);if(!s)return null;var l=s[0],f=s.slice(1),h=e===l;return a&&!h?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:h,params:o.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var oe=function(e){function n(){return e.apply(this,arguments)||this}return a(n,e),n.prototype.render=function(){var e=this;return t.createElement(X.Consumer,null,(function(n){n||d(!1);var r=e.props.location||n.location,i=o({},n,{location:r,match:e.props.computedMatch?e.props.computedMatch:e.props.path?ae(r.pathname,e.props):n.match}),a=e.props,u=a.children,s=a.component,c=a.render;return Array.isArray(u)&&0===u.length&&(u=null),t.createElement(X.Provider,{value:i},i.match?u?"function"===typeof u?u(i):u:s?t.createElement(s,i):c?c(i):null:"function"===typeof u?u(i):null)}))},n}(t.Component);function ue(e){return"/"===e.charAt(0)?e:"/"+e}function se(e,t){if(!e)return t;var n=ue(e);return 0!==t.pathname.indexOf(n)?t:o({},t,{pathname:t.pathname.substr(n.length)})}function ce(e){return"string"===typeof e?e:g(e)}function le(e){return function(){d(!1)}}function fe(){}t.Component;var he=function(e){function n(){return e.apply(this,arguments)||this}return a(n,e),n.prototype.render=function(){var e=this;return t.createElement(X.Consumer,null,(function(n){n||d(!1);var r,i,a=e.props.location||n.location;return t.Children.forEach(e.props.children,(function(e){if(null==i&&t.isValidElement(e)){r=e;var u=e.props.path||e.props.from;i=u?ae(a.pathname,o({},e.props,{path:u})):n.match}})),i?t.cloneElement(r,{location:a,computedMatch:i}):null}))},n}(t.Component);function de(e){var n="withRouter("+(e.displayName||e.name)+")",r=function(n){var r=n.wrappedComponentRef,i=K(n,["wrappedComponentRef"]);return t.createElement(X.Consumer,null,(function(n){return n||d(!1),t.createElement(e,o({},i,n,{ref:r}))}))};return r.displayName=n,r.WrappedComponent=e,W()(r,e)}t.useContext;var pe=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=_(t.props),t}return a(n,e),n.prototype.render=function(){return t.createElement(J,{history:this.history,children:this.props.children})},n}(t.Component);t.Component;var ve=function(e,t){return"function"===typeof e?e(t):e},ye=function(e,t){return"string"===typeof e?k(e,null,null,t):e},me=function(e){return e},ge=t.forwardRef;"undefined"===typeof ge&&(ge=me);var ke=ge((function(e,n){var r=e.innerRef,i=e.navigate,a=e.onClick,u=K(e,["innerRef","navigate","onClick"]),s=u.target,c=o({},u,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return c.ref=me!==ge&&n||r,t.createElement("a",c)}));var we=ge((function(e,n){var r=e.component,i=void 0===r?ke:r,a=e.replace,u=e.to,s=e.innerRef,c=K(e,["component","replace","to","innerRef"]);return t.createElement(X.Consumer,null,(function(e){e||d(!1);var r=e.history,l=ye(ve(u,e.location),e.location),f=l?r.createHref(l):"",h=o({},c,{href:f,navigate:function(){var t=ve(u,e.location);(a?r.replace:r.push)(t)}});return me!==ge?h.ref=n||s:h.innerRef=s,t.createElement(i,h)}))})),be=function(e){return e},xe=t.forwardRef;"undefined"===typeof xe&&(xe=be);xe((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,a=e.activeClassName,u=void 0===a?"active":a,s=e.activeStyle,c=e.className,l=e.exact,f=e.isActive,h=e.location,p=e.sensitive,v=e.strict,y=e.style,m=e.to,g=e.innerRef,k=K(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return t.createElement(X.Consumer,null,(function(e){e||d(!1);var r=h||e.location,a=ye(ve(m,r),r),w=a.pathname,b=w&&w.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),x=b?ae(r.pathname,{path:b,exact:l,sensitive:p,strict:v}):null,E=!!(f?f(x,r):x),I=E?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(c,u):c,S=E?o({},y,{},s):y,_=o({"aria-current":E&&i||null,className:I,style:S,to:a},k);return be!==xe?_.ref=n||g:_.innerRef=g,t.createElement(we,_)}))}));var Ee=t.createContext(null);var Ie=function(e){e()},Se=function(){return Ie};var _e={notify:function(){},get:function(){return[]}};function Te(e,t){var n,r=_e;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=Se(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=_e)},getListeners:function(){return r}};return o}var Ce="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?t.useLayoutEffect:t.useEffect;var Ae=function(e){var n=e.store,r=e.context,i=e.children,a=(0,t.useMemo)((function(){var e=Te(n);return e.onStateChange=e.notifyNestedSubs,{store:n,subscription:e}}),[n]),o=(0,t.useMemo)((function(){return n.getState()}),[n]);Ce((function(){var e=a.subscription;return e.trySubscribe(),o!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[a,o]);var u=r||Ee;return t.createElement(u.Provider,{value:a},i)},Ne=n(441),Oe=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],Pe=["reactReduxForwardedRef"],Re=[],De=[null,null];function Le(e,t){var n=e[1];return[t.payload,n+1]}function Me(e,t,n){Ce((function(){return e.apply(void 0,t)}),n)}function Fe(e,t,n,r,i,a,o){e.current=r,t.current=i,n.current=!1,a.current&&(a.current=null,o())}function Ue(e,t,n,r,i,a,o,u,s,c){if(e){var l=!1,f=null,h=function(){if(!l){var e,n,h=t.getState();try{e=r(h,i.current)}catch(d){n=d,f=d}n||(f=null),e===a.current?o.current||s():(a.current=e,u.current=e,o.current=!0,c({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=h,n.trySubscribe(),h();return function(){if(l=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f}}}var je=function(){return[null,0]};function Ve(e,n){void 0===n&&(n={});var r=n,i=r.getDisplayName,a=void 0===i?function(e){return"ConnectAdvanced("+e+")"}:i,u=r.methodName,s=void 0===u?"connectAdvanced":u,c=r.renderCountProp,l=void 0===c?void 0:c,f=r.shouldHandleStateChanges,h=void 0===f||f,d=r.storeKey,p=void 0===d?"store":d,v=(r.withRef,r.forwardRef),y=void 0!==v&&v,m=r.context,g=void 0===m?Ee:m,k=K(r,Oe),w=g;return function(n){var r=n.displayName||n.name||"Component",i=a(r),u=o({},k,{getDisplayName:a,methodName:s,renderCountProp:l,shouldHandleStateChanges:h,storeKey:p,displayName:i,wrappedComponentName:r,WrappedComponent:n}),c=k.pure;var f=c?t.useMemo:function(e){return e()};function d(r){var i=(0,t.useMemo)((function(){var e=r.reactReduxForwardedRef,t=K(r,Pe);return[r.context,e,t]}),[r]),a=i[0],s=i[1],c=i[2],l=(0,t.useMemo)((function(){return a&&a.Consumer&&(0,Ne.isContextConsumer)(t.createElement(a.Consumer,null))?a:w}),[a,w]),d=(0,t.useContext)(l),p=Boolean(r.store)&&Boolean(r.store.getState)&&Boolean(r.store.dispatch);Boolean(d)&&Boolean(d.store);var v=p?r.store:d.store,y=(0,t.useMemo)((function(){return function(t){return e(t.dispatch,u)}(v)}),[v]),m=(0,t.useMemo)((function(){if(!h)return De;var e=Te(v,p?null:d.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[v,p,d]),g=m[0],k=m[1],b=(0,t.useMemo)((function(){return p?d:o({},d,{subscription:g})}),[p,d,g]),x=(0,t.useReducer)(Le,Re,je),E=x[0][0],I=x[1];if(E&&E.error)throw E.error;var S=(0,t.useRef)(),_=(0,t.useRef)(c),T=(0,t.useRef)(),C=(0,t.useRef)(!1),A=f((function(){return T.current&&c===_.current?T.current:y(v.getState(),c)}),[v,E,c]);Me(Fe,[_,S,C,c,A,T,k]),Me(Ue,[h,v,g,y,_,S,C,T,k,I],[v,g,y]);var N=(0,t.useMemo)((function(){return t.createElement(n,o({},A,{ref:s}))}),[s,n,A]);return(0,t.useMemo)((function(){return h?t.createElement(l.Provider,{value:b},N):N}),[l,N,b])}var v=c?t.memo(d):d;if(v.WrappedComponent=n,v.displayName=d.displayName=i,y){var m=t.forwardRef((function(e,n){return t.createElement(v,o({},e,{reactReduxForwardedRef:n}))}));return m.displayName=i,m.WrappedComponent=n,W()(m,n)}return W()(v,n)}}function Be(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function ze(e,t){if(Be(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!Be(e[n[i]],t[n[i]]))return!1;return!0}function qe(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function Ke(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function He(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=Ke(e);var i=r(t,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=Ke(i),i=r(t,n)),i},r}}var We=[function(e){return"function"===typeof e?He(e):void 0},function(e){return e?void 0:qe((function(e){return{dispatch:e}}))},function(e){return e&&"object"===typeof e?qe((function(t){return function(e,t){var n={},r=function(r){var i=e[r];"function"===typeof i&&(n[r]=function(){return t(i.apply(void 0,arguments))})};for(var i in e)r(i);return n}(e,t)})):void 0}];var Ge=[function(e){return"function"===typeof e?He(e):void 0},function(e){return e?void 0:qe((function(){return{}}))}];function Qe(e,t,n){return o({},n,e,t)}var Ye=[function(e){return"function"===typeof e?function(e){return function(t,n){n.displayName;var r,i=n.pure,a=n.areMergedPropsEqual,o=!1;return function(t,n,u){var s=e(t,n,u);return o?i&&a(s,r)||(r=s):(o=!0,r=s),r}}}(e):void 0},function(e){return e?void 0:function(){return Qe}}],Xe=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Je(e,t,n,r){return function(i,a){return n(e(i,a),t(r,a),a)}}function $e(e,t,n,r,i){var a,o,u,s,c,l=i.areStatesEqual,f=i.areOwnPropsEqual,h=i.areStatePropsEqual,d=!1;function p(i,d){var p=!f(d,o),v=!l(i,a);return a=i,o=d,p&&v?(u=e(a,o),t.dependsOnOwnProps&&(s=t(r,o)),c=n(u,s,o)):p?(e.dependsOnOwnProps&&(u=e(a,o)),t.dependsOnOwnProps&&(s=t(r,o)),c=n(u,s,o)):v?function(){var t=e(a,o),r=!h(t,u);return u=t,r&&(c=n(u,s,o)),c}():c}return function(i,l){return d?p(i,l):(u=e(a=i,o=l),s=t(r,o),c=n(u,s,o),d=!0,c)}}function Ze(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,a=K(t,Xe),o=n(e,a),u=r(e,a),s=i(e,a);return(a.pure?$e:Je)(o,u,s,e,a)}var et=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function tt(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function nt(e,t){return e===t}function rt(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?Ve:n,i=t.mapStateToPropsFactories,a=void 0===i?Ge:i,u=t.mapDispatchToPropsFactories,s=void 0===u?We:u,c=t.mergePropsFactories,l=void 0===c?Ye:c,f=t.selectorFactory,h=void 0===f?Ze:f;return function(e,t,n,i){void 0===i&&(i={});var u=i,c=u.pure,f=void 0===c||c,d=u.areStatesEqual,p=void 0===d?nt:d,v=u.areOwnPropsEqual,y=void 0===v?ze:v,m=u.areStatePropsEqual,g=void 0===m?ze:m,k=u.areMergedPropsEqual,w=void 0===k?ze:k,b=K(u,et),x=tt(e,a,"mapStateToProps"),E=tt(t,s,"mapDispatchToProps"),I=tt(n,l,"mergeProps");return r(h,o({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:x,initMapDispatchToProps:E,initMergeProps:I,pure:f,areStatesEqual:p,areOwnPropsEqual:y,areStatePropsEqual:g,areMergedPropsEqual:w},b))}}var it=rt();var at;function ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(n),!0).forEach((function(t){ot(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ct(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}at=r.unstable_batchedUpdates,Ie=at;var lt="function"===typeof Symbol&&Symbol.observable||"@@observable",ft=function(){return Math.random().toString(36).substring(7).split("").join(".")},ht={INIT:"@@redux/INIT"+ft(),REPLACE:"@@redux/REPLACE"+ft(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ft()}};function dt(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function pt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var vt=n(896),yt=n.n(vt),mt="SET_CURRENT_USERS",gt={currentUser:null},kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt,t=arguments.length>1?arguments[1]:void 0;return t.type===mt?st(st({},e),{},{currentUser:t.payload}):e},wt={UPDATE_COLLECTIONS:"UPDATE_COLLECTIONS",INC_SHOP_ITEM:"INC_SHOP_ITEM"},bt="NOT_FOUND";var xt=function(e,t){return e===t};function Et(e,t){var n="object"===typeof t?t:{equalityCheck:t},r=n.equalityCheck,i=void 0===r?xt:r,a=n.maxSize,o=void 0===a?1:a,u=n.resultEqualityCheck,s=function(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e(t[i],n[i]))return!1;return!0}}(i),c=1===o?function(e){var t;return{get:function(n){return t&&e(t.key,n)?t.value:bt},put:function(e,n){t={key:e,value:n}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}(s):function(e,t){var n=[];function r(e){var r=n.findIndex((function(n){return t(e,n.key)}));if(r>-1){var i=n[r];return r>0&&(n.splice(r,1),n.unshift(i)),i.value}return bt}return{get:r,put:function(t,i){r(t)===bt&&(n.unshift({key:t,value:i}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(o,s);function l(){var t=c.get(arguments);if(t===bt){if(t=e.apply(null,arguments),u){var n=c.getEntries(),r=n.find((function(e){return u(e.value,t)}));r&&(t=r.value)}c.put(arguments,t)}return t}return l.clearCache=function(){return c.clear()},l}function It(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var n=t.map((function(e){return"function"===typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}function St(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var a,o=0,u={memoizeOptions:void 0},s=r.pop();if("object"===typeof s&&(u=s,s=r.pop()),"function"!==typeof s)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof s+"]");var c=u,l=c.memoizeOptions,f=void 0===l?n:l,h=Array.isArray(f)?f:[f],d=It(r),p=e.apply(void 0,[function(){return o++,s.apply(null,arguments)}].concat(h)),v=e((function(){for(var e=[],t=d.length,n=0;n<t;n++)e.push(d[n].apply(null,arguments));return a=p.apply(null,e)}));return Object.assign(v,{resultFunc:s,memoizedResultFunc:p,dependencies:d,lastResult:function(){return a},recomputations:function(){return o},resetRecomputations:function(){return o=0}}),v};return i}var _t=St(Et),Tt=function(e,t){if(void 0===t&&(t=_t),"object"!==typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e),r=t(n.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t,r){return e[n[r]]=t,e}),{})}));return r},Ct=_t([function(e){return e.shop}],(function(e){return e.collections})),At=_t([Ct],(function(e){return e?Object.keys(e).map((function(t){return e[t]})):[]})),Nt=_t([At],(function(e){return e?e.sort((function(e,t){return e.category.toLowerCase()>t.category.toLowerCase()?-1:1})):null})),Ot=function(e,t){var n=Object.keys(e).map((function(t){return e[t]}));return n.map((function(e){return e.id===t?st(st({},e),{},{quantity:e.quantity+1}):e}))},Pt={collections:null},Rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt,t=arguments.length>1?arguments[1]:void 0;switch(console.log("REDUCER",t),t.type){case wt.UPDATE_COLLECTIONS:return st(st({},e),{},{collections:t.payload});case wt.INC_SHOP_ITEM:return st(st({},e),{},{collections:Ot(e.collections,t.payload)});default:return e}},Dt="ADD_ITEM",Lt="REMOVE_ITEM",Mt="CLEAR_ITEM_FROM_CART",Ft="CLEAR_ALL_ITEMS_FROM_CART";function Ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jt(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Vt(e,t){if(e){if("string"===typeof e)return Ut(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ut(e,t):void 0}}function Bt(e){return function(e){if(Array.isArray(e))return Ut(e)}(e)||jt(e)||Vt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var zt=function(e,t){return e.find((function(e){return e.id===t.id}))?e.map((function(e){return e.id===t.id?st(st({},e),{},{quantity:e.quantity+1}):e})):[].concat(Bt(e),[st(st({},t),{},{quantity:1})])},qt=function(e,t){return 1===e.find((function(e){return e.id===t.id})).quantity?e.filter((function(e){return e.id!==t.id})):e.map((function(e){return e.id===t.id?st(st({},e),{},{quantity:e.quantity-1}):e}))},Kt={cartItems:[]},Ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Dt:return st(st({},e),{},{cartItems:zt(e.cartItems,t.payload)});case Lt:return st(st({},e),{},{cartItems:qt(e.cartItems,t.payload)});case Mt:return st(st({},e),{},{cartItems:e.cartItems.filter((function(e){return e.id!==t.payload.id}))});case Ft:return st(st({},e),{},{cartItems:[]});default:return e}},Wt={UPDATE_CATEGORIES:"UPDATE_CATEGORIES"},Gt={categories:null},Qt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt,t=arguments.length>1?arguments[1]:void 0;return t.type===Wt.UPDATE_CATEGORIES?st(st({},e),{},{categories:t.payload}):e},Yt={SEND_TICKET:"SEND_TICKET"},Xt={tickets:null},Jt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt,t=arguments.length>1?arguments[1]:void 0;return t.type===Yt.SEND_TICKET?st(st({},e),{},{tickets:t.payload}):e},$t=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:ht.INIT}))throw new Error(ct(12));if("undefined"===typeof n(void 0,{type:ht.PROBE_UNKNOWN_ACTION()}))throw new Error(ct(13))}))}(n)}catch(u){a=u}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},u=0;u<o.length;u++){var s=o[u],c=n[s],l=e[s],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(ct(14))}i[s]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}({user:kt,shop:Rt,cart:Ht,category:Qt,ticket:Jt}),Zt=[yt()],en=function e(t,n,r){var i;if("function"===typeof n&&"function"===typeof r||"function"===typeof r&&"function"===typeof arguments[3])throw new Error(ct(0));if("function"===typeof n&&"undefined"===typeof r&&(r=n,n=void 0),"undefined"!==typeof r){if("function"!==typeof r)throw new Error(ct(1));return r(e)(t,n)}if("function"!==typeof t)throw new Error(ct(2));var a=t,o=n,u=[],s=u,c=!1;function l(){s===u&&(s=u.slice())}function f(){if(c)throw new Error(ct(3));return o}function h(e){if("function"!==typeof e)throw new Error(ct(4));if(c)throw new Error(ct(5));var t=!0;return l(),s.push(e),function(){if(t){if(c)throw new Error(ct(6));t=!1,l();var n=s.indexOf(e);s.splice(n,1),u=null}}}function d(e){if(!dt(e))throw new Error(ct(7));if("undefined"===typeof e.type)throw new Error(ct(8));if(c)throw new Error(ct(9));try{c=!0,o=a(o,e)}finally{c=!1}for(var t=u=s,n=0;n<t.length;n++){(0,t[n])()}return e}function p(e){if("function"!==typeof e)throw new Error(ct(10));a=e,d({type:ht.REPLACE})}function v(){var e,t=h;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(ct(11));function n(){e.next&&e.next(f())}return n(),{unsubscribe:t(n)}}})[lt]=function(){return this},e}return d({type:ht.INIT}),(i={dispatch:d,subscribe:h,getState:f,replaceReducer:p})[lt]=v,i}($t,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(ct(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=pt.apply(void 0,a)(n.dispatch),st(st({},n),{},{dispatch:r})}}}.apply(void 0,Zt)),tn=en;function nn(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function rn(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){nn(a,r,i,o,u,"next",e)}function u(e){nn(a,r,i,o,u,"throw",e)}o(void 0)}))}}function an(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function on(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function un(e,t,n){return t&&on(e.prototype,t),n&&on(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function sn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}function cn(e){return cn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},cn(e)}function ln(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function fn(e){return fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fn(e)}function hn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dn(e,t){if(t&&("object"===fn(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return hn(e)}function pn(e){var t=ln();return function(){var n,r=cn(e);if(t){var i=cn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dn(this,n)}}var vn=n(757),yn=n.n(vn);function mn(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Vt(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function gn(e){if(Array.isArray(e))return e}function kn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function wn(e,t){return gn(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||Vt(e,t)||kn()}function bn(e,t,n){return bn=ln()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&i(a,n.prototype),a},bn.apply(null,arguments)}function xn(e){var t="function"===typeof Map?new Map:void 0;return xn=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return bn(e,arguments,cn(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),i(n,e)},xn(e)}var En=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},In={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(En(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Sn=function(e){return function(e){var t=En(e);return In.encodeByteArray(t,!0)}(e).replace(/\./g,"")},_n=function(e){try{return In.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Tn(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&Cn(n)&&(e[n]=Tn(e[n],t[n]));return e}function Cn(e){return"__proto__"!==e}var An=function(){function e(){var t=this;an(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return un(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Nn(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Sn(JSON.stringify({alg:"none",type:"JWT"})),Sn(JSON.stringify(a)),""].join(".")}function On(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Pn(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(On())}function Rn(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function Dn(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Ln(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Mn(){var e=On();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Fn(){return"object"===typeof indexedDB}var Un=function(e){sn(n,e);var t=pn(n);function n(e,r,i){var a;return an(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(hn(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(hn(a),jn.prototype.create),a}return un(n)}(xn(Error)),jn=function(){function e(t,n,r){an(this,e),this.service=t,this.serviceName=n,this.errors=r}return un(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Vn(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Un(n,a,t);return o}}]),e}();function Vn(e,t){return e.replace(Bn,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Bn=/\{\$([^}]+)}/g;function zn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function qn(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Kn(u)&&Kn(s)){if(!qn(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Kn(e){return null!==e&&"object"===typeof e}function Hn(e){for(var t=[],n=function(){var e=wn(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Wn(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=wn(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Gn(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Qn(e,t){var n=new Yn(e,t);return n.subscribe.bind(n)}var Yn=function(){function e(t,n){var r=this;an(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return un(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=mn(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Xn),void 0===r.error&&(r.error=Xn),void 0===r.complete&&(r.complete=Xn);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Xn(){}function Jn(e){return e&&e._delegate?e._delegate:e}var $n=function(){function e(t,n,r){an(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return un(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Zn="[DEFAULT]",er=function(){function e(t,n){an(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return un(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new An;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Zn})}catch(s){}var t,n=mn(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=wn(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=rn(vn.mark((function e(){var t;return vn.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Bt(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Bt(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zn;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zn;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=mn(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=wn(i.value,2),s=u[0],c=u[1],l=this.normalizeInstanceIdentifier(s);r===l&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=mn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(TS){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Zn?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(TS){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zn;return this.component?this.component.multipleInstances?e:Zn:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var tr,nr,rr=function(){function e(t){an(this,e),this.name=t,this.providers=new Map}return un(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new er(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),ir=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(nr||(nr={}));var ar,or,ur={debug:nr.DEBUG,verbose:nr.VERBOSE,info:nr.INFO,warn:nr.WARN,error:nr.ERROR,silent:nr.SILENT},sr=nr.INFO,cr=(ot(tr={},nr.DEBUG,"log"),ot(tr,nr.VERBOSE,"log"),ot(tr,nr.INFO,"info"),ot(tr,nr.WARN,"warn"),ot(tr,nr.ERROR,"error"),tr),lr=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=cr[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},fr=function(){function e(t){an(this,e),this.name=t,this._logLevel=sr,this._logHandler=lr,this._userLogHandler=null,ir.push(this)}return un(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in nr))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?ur[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,nr.DEBUG].concat(t)),this._logHandler.apply(this,[this,nr.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,nr.VERBOSE].concat(t)),this._logHandler.apply(this,[this,nr.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,nr.INFO].concat(t)),this._logHandler.apply(this,[this,nr.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,nr.WARN].concat(t)),this._logHandler.apply(this,[this,nr.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,nr.ERROR].concat(t)),this._logHandler.apply(this,[this,nr.ERROR].concat(t))}}]),e}();var hr=function(){function e(t){an(this,e),this.container=t}return un(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var dr="@firebase/app",pr="0.7.17",vr=new fr("@firebase/app"),yr="[DEFAULT]",mr=(ot(ar={},dr,"fire-core"),ot(ar,"@firebase/app-compat","fire-core-compat"),ot(ar,"@firebase/analytics","fire-analytics"),ot(ar,"@firebase/analytics-compat","fire-analytics-compat"),ot(ar,"@firebase/app-check","fire-app-check"),ot(ar,"@firebase/app-check-compat","fire-app-check-compat"),ot(ar,"@firebase/auth","fire-auth"),ot(ar,"@firebase/auth-compat","fire-auth-compat"),ot(ar,"@firebase/database","fire-rtdb"),ot(ar,"@firebase/database-compat","fire-rtdb-compat"),ot(ar,"@firebase/functions","fire-fn"),ot(ar,"@firebase/functions-compat","fire-fn-compat"),ot(ar,"@firebase/installations","fire-iid"),ot(ar,"@firebase/installations-compat","fire-iid-compat"),ot(ar,"@firebase/messaging","fire-fcm"),ot(ar,"@firebase/messaging-compat","fire-fcm-compat"),ot(ar,"@firebase/performance","fire-perf"),ot(ar,"@firebase/performance-compat","fire-perf-compat"),ot(ar,"@firebase/remote-config","fire-rc"),ot(ar,"@firebase/remote-config-compat","fire-rc-compat"),ot(ar,"@firebase/storage","fire-gcs"),ot(ar,"@firebase/storage-compat","fire-gcs-compat"),ot(ar,"@firebase/firestore","fire-fst"),ot(ar,"@firebase/firestore-compat","fire-fst-compat"),ot(ar,"fire-js","fire-js"),ot(ar,"firebase","fire-js-all"),ar),gr=new Map,kr=new Map;function wr(e,t){try{e.container.addComponent(t)}catch(n){vr.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function br(e,t){e.container.addOrOverwriteComponent(t)}function xr(e){var t=e.name;if(kr.has(t))return vr.debug("There were multiple attempts to register component ".concat(t,".")),!1;kr.set(t,e);var n,r=mn(gr.values());try{for(r.s();!(n=r.n()).done;){wr(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Er(e,t){return e.container.getProvider(t)}function Ir(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yr;Er(e,t).clearInstance(n)}function Sr(){kr.clear()}var _r,Tr,Cr=(ot(or={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ot(or,"bad-app-name","Illegal App name: '{$appName}"),ot(or,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),ot(or,"app-deleted","Firebase App named '{$appName}' already deleted"),ot(or,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ot(or,"invalid-log-argument","First argument to `onLog` must be null or a function."),or),Ar=new jn("app","Firebase",Cr),Nr=function(){function e(t,n,r){var i=this;an(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $n("app",(function(){return i}),"PUBLIC"))}return un(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Ar.create("app-deleted",{appName:this._name})}}]),e}(),Or="9.6.7";function Pr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:yr,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Ar.create("bad-app-name",{appName:String(i)});var a=gr.get(i);if(a){if(qn(e,a.options)&&qn(r,a.config))return a;throw Ar.create("duplicate-app",{appName:i})}var o,u=new rr(i),s=mn(kr.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new Nr(e,r,u);return gr.set(i,l),l}function Rr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yr,t=gr.get(e);if(!t)throw Ar.create("no-app",{appName:e});return t}function Dr(){return Array.from(gr.values())}function Lr(e){return Mr.apply(this,arguments)}function Mr(){return Mr=rn(vn.mark((function e(t){var n;return vn.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!gr.has(n)){e.next=6;break}return gr.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),Mr.apply(this,arguments)}function Fr(e,t,n){var r,i=null!==(r=mr[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void vr.warn(u.join(" "))}xr(new $n("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Ur(e,t){if(null!==e&&"function"!==typeof e)throw Ar.create("invalid-log-argument");!function(e,t){var n,r=mn(ir);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=ur[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:nr[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function jr(e){var t;t=e,ir.forEach((function(e){e.setLogLevel(t)}))}_r="",xr(new $n("platform-logger",(function(e){return new hr(e)}),"PRIVATE")),Fr(dr,pr,_r),Fr(dr,pr,"esm2017"),Fr("fire-js","");var Vr=function(){function e(t,n){var r=this;an(this,e),this._delegate=t,this.firebase=n,wr(t,new $n("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return un(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Lr(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yr;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yr;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){wr(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){br(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Br=(ot(Tr={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ot(Tr,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Tr),zr=new jn("app-compat","Firebase",Br);var qr=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Pr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(zn(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Fr,setLogLevel:jr,onLog:Ur,apps:null,SDK_VERSION:Or,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(xr(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw zr.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Tn(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!zn(n,e=e||yr))throw zr.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Vr);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Tn(n,e)},createSubscribe:Qn,ErrorFactory:jn,deepExtend:Tn}),n}(),Kr=new fr("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Kr.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Hr=self.firebase.SDK_VERSION;Hr&&Hr.indexOf("LITE")>=0&&Kr.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Wr=qr;!function(e){Fr("@firebase/app-compat","0.1.18",e)}();function Gr(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=cn(e)););return e}function Qr(){return Qr="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Gr(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Qr.apply(this,arguments)}Wr.registerVersion("firebase","9.6.7","app-compat");function Yr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Xr;Object.create;var Jr="facebook.com",$r="github.com",Zr="google.com",ei="password",ti="twitter.com",ni="EMAIL_SIGNIN",ri="PASSWORD_RESET",ii="RECOVER_EMAIL",ai="REVERT_SECOND_FACTOR_ADDITION",oi="VERIFY_AND_CHANGE_EMAIL",ui="VERIFY_EMAIL";function si(){return ot({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var ci=function(){var e;return ot(e={},"admin-restricted-operation","This operation is restricted to administrators only."),ot(e,"argument-error",""),ot(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),ot(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),ot(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),ot(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),ot(e,"cordova-not-ready","Cordova framework is not ready."),ot(e,"cors-unsupported","This browser is not supported."),ot(e,"credential-already-in-use","This credential is already associated with a different user account."),ot(e,"custom-token-mismatch","The custom token corresponds to a different audience."),ot(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),ot(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),ot(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),ot(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),ot(e,"email-already-in-use","The email address is already in use by another account."),ot(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),ot(e,"expired-action-code","The action code has expired."),ot(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),ot(e,"internal-error","An internal AuthError has occurred."),ot(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),ot(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),ot(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),ot(e,"invalid-auth-event","An internal AuthError has occurred."),ot(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),ot(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),ot(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),ot(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),ot(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),ot(e,"invalid-email","The email address is badly formatted."),ot(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),ot(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),ot(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),ot(e,"invalid-credential","The supplied auth credential is malformed or has expired."),ot(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),ot(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),ot(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),ot(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),ot(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),ot(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),ot(e,"wrong-password","The password is invalid or the user does not have a password."),ot(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),ot(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),ot(e,"invalid-provider-id","The specified provider ID is invalid."),ot(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),ot(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),ot(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),ot(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),ot(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),ot(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),ot(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),ot(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),ot(e,"missing-continue-uri","A continue URL must be provided in the request."),ot(e,"missing-iframe-start","An internal AuthError has occurred."),ot(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),ot(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),ot(e,"missing-multi-factor-info","No second factor identifier is provided."),ot(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),ot(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),ot(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),ot(e,"app-deleted","This instance of FirebaseApp has been deleted."),ot(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),ot(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),ot(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),ot(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),ot(e,"no-auth-event","An internal AuthError has occurred."),ot(e,"no-such-provider","User was not linked to an account with the given provider."),ot(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),ot(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),ot(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),ot(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),ot(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),ot(e,"provider-already-linked","User can only be linked to one identity for the given provider."),ot(e,"quota-exceeded","The project's quota for this operation has been exceeded."),ot(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),ot(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),ot(e,"rejected-credential","The request contains malformed or mismatching credentials."),ot(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),ot(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),ot(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),ot(e,"timeout","The operation has timed out."),ot(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),ot(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),ot(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),ot(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),ot(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),ot(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),ot(e,"unverified-email","The operation requires a verified email."),ot(e,"user-cancelled","The user did not grant your application the permissions it requested."),ot(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),ot(e,"user-disabled","The user account has been disabled by an administrator."),ot(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),ot(e,"user-signed-out",""),ot(e,"weak-password","The password must be 6 characters long or more."),ot(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),ot(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},li=si,fi=new jn("auth","Firebase",si()),hi=new fr("@firebase/auth");function di(e){if(hi.logLevel<=nr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];hi.error.apply(hi,["Auth (".concat(Or,"): ").concat(e)].concat(n))}}function pi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw gi.apply(void 0,[e].concat(n))}function vi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return gi.apply(void 0,[e].concat(n))}function yi(e,t,n){var r=Object.assign(Object.assign({},li()),ot({},t,n));return new jn("auth","Firebase",r).create(t,{appName:e.name})}function mi(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&pi(e,"argument-error"),yi(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function gi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Bt(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Bt(o)))}return fi.create.apply(fi,[e].concat(n))}function ki(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw gi.apply(void 0,[t].concat(r))}}function wi(e){var t="INTERNAL ASSERTION FAILED: "+e;throw di(t),new Error(t)}function bi(e,t){e||wi(t)}var xi=new Map;function Ei(e){bi(e instanceof Function,"Expected a class definition");var t=xi.get(e);return t?(bi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,xi.set(e,t),t)}function Ii(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Si(){return"http:"===_i()||"https:"===_i()}function _i(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Ti=function(){function e(t,n){an(this,e),this.shortDelay=t,this.longDelay=n,bi(n>t,"Short delay should be less than long delay!"),this.isMobile=Pn()||Ln()}return un(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Si()||Dn()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Ci(e,t){bi(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Ai=function(){function e(){an(this,e)}return un(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Ni=(ot(Xr={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),ot(Xr,"MISSING_CUSTOM_TOKEN","internal-error"),ot(Xr,"INVALID_IDENTIFIER","invalid-email"),ot(Xr,"MISSING_CONTINUE_URI","internal-error"),ot(Xr,"INVALID_PASSWORD","wrong-password"),ot(Xr,"MISSING_PASSWORD","internal-error"),ot(Xr,"EMAIL_EXISTS","email-already-in-use"),ot(Xr,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),ot(Xr,"INVALID_IDP_RESPONSE","invalid-credential"),ot(Xr,"INVALID_PENDING_TOKEN","invalid-credential"),ot(Xr,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),ot(Xr,"MISSING_REQ_TYPE","internal-error"),ot(Xr,"EMAIL_NOT_FOUND","user-not-found"),ot(Xr,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),ot(Xr,"EXPIRED_OOB_CODE","expired-action-code"),ot(Xr,"INVALID_OOB_CODE","invalid-action-code"),ot(Xr,"MISSING_OOB_CODE","internal-error"),ot(Xr,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),ot(Xr,"INVALID_ID_TOKEN","invalid-user-token"),ot(Xr,"TOKEN_EXPIRED","user-token-expired"),ot(Xr,"USER_NOT_FOUND","user-token-expired"),ot(Xr,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),ot(Xr,"INVALID_CODE","invalid-verification-code"),ot(Xr,"INVALID_SESSION_INFO","invalid-verification-id"),ot(Xr,"INVALID_TEMPORARY_PROOF","invalid-credential"),ot(Xr,"MISSING_SESSION_INFO","missing-verification-id"),ot(Xr,"SESSION_EXPIRED","code-expired"),ot(Xr,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),ot(Xr,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),ot(Xr,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),ot(Xr,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),ot(Xr,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),ot(Xr,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),ot(Xr,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),ot(Xr,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),ot(Xr,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),ot(Xr,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),ot(Xr,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Xr),Oi=new Ti(3e4,6e4);function Pi(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Ri(e,t,n,r){return Di.apply(this,arguments)}function Di(){return Di=rn(yn().mark((function e(t,n,r,i){var a,o=arguments;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Li(t,a,rn(yn().mark((function e(){var a,o,u,s;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Hn(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Ai.fetch()(ji(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Di.apply(this,arguments)}function Li(e,t,n){return Mi.apply(this,arguments)}function Mi(){return Mi=rn(yn().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Ni),n),e.prev=2,a=new Vi(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Bi(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=wn(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw Bi(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=25;break}throw Bi(t,"email-already-in-use",u);case 25:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=30;break}throw yi(t,d,h);case 30:pi(t,d);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof Un)){e.next=37;break}throw e.t0;case 37:pi(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),Mi.apply(this,arguments)}function Fi(e,t,n,r){return Ui.apply(this,arguments)}function Ui(){return Ui=rn(yn().mark((function e(t,n,r,i){var a,o,u=arguments;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Ri(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&pi(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Ui.apply(this,arguments)}function ji(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Ci(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Vi=function(){function e(t){var n=this;an(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(vi(n.auth,"network-request-failed"))}),Oi.get())}))}return un(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Bi(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=vi(e,t,r);return i.customData._tokenResponse=n,i}function zi(e,t){return qi.apply(this,arguments)}function qi(){return qi=rn(yn().mark((function e(t,n){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ri(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),qi.apply(this,arguments)}function Ki(e,t){return Hi.apply(this,arguments)}function Hi(){return Hi=rn(yn().mark((function e(t,n){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ri(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Hi.apply(this,arguments)}function Wi(e,t){return Gi.apply(this,arguments)}function Gi(){return Gi=rn(yn().mark((function e(t,n){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ri(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Gi.apply(this,arguments)}function Qi(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Yi(){return Yi=rn(yn().mark((function e(t){var n,r,i,a,o,u,s=arguments;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Jn(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,ki((a=Ji(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Qi(Xi(a.auth_time)),issuedAtTime:Qi(Xi(a.iat)),expirationTime:Qi(Xi(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Yi.apply(this,arguments)}function Xi(e){return 1e3*Number(e)}function Ji(e){var t=wn(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return di("JWT malformed, contained fewer than 3 sections"),null;try{var a=_n(r);return a?JSON.parse(a):(di("Failed to decode base64 JWT payload"),null)}catch(o){return di("Caught error parsing JWT payload as JSON",o),null}}function $i(e,t){return Zi.apply(this,arguments)}function Zi(){return Zi=rn(yn().mark((function e(t,n){var r=arguments;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Un&&ea(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Zi.apply(this,arguments)}function ea(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var ta=function(){function e(t){an(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return un(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(rn(yn().mark((function t(){return yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=rn(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),na=function(){function e(t,n){an(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return un(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Qi(this.lastLoginAt),this.creationTime=Qi(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function ra(e){return ia.apply(this,arguments)}function ia(){return ia=rn(yn().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,$i(t,Wi(r,{idToken:i}));case 6:ki(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?ua(o.providerUserInfo):[],s=oa(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new na(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),ia.apply(this,arguments)}function aa(){return(aa=rn(yn().mark((function e(t){var n;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Jn(t),e.next=3,ra(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oa(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Bt(n),Bt(t))}function ua(e){return e.map((function(e){var t=e.providerId,n=Yr(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function sa(e,t){return ca.apply(this,arguments)}function ca(){return ca=rn(yn().mark((function e(t,n){var r;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Li(t,{},rn(yn().mark((function e(){var r,i,a,o,u,s;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hn({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=ji(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Ai.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),ca.apply(this,arguments)}var la=function(){function e(){an(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return un(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){ki(e.idToken,"internal-error"),ki("undefined"!==typeof e.idToken,"internal-error"),ki("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Ji(e);return ki(t,"internal-error"),ki("undefined"!==typeof t.exp,"internal-error"),ki("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=rn(yn().mark((function e(t){var n,r=arguments;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],ki(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=rn(yn().mark((function e(t,n){var r,i,a,o;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sa(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return wi("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(ki("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(ki("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(ki("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function fa(e,t){ki("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var ha=function(){function e(t){an(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Yr(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ta(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?Bt(a.providerData):[],this.metadata=new na(a.createdAt||void 0,a.lastLoginAt||void 0)}return un(e,[{key:"getIdToken",value:function(){var e=rn(yn().mark((function e(t){var n;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$i(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(ki(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Yi.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return aa.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(ki(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){ki(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=rn(yn().mark((function e(t){var n,r,i=arguments;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,ra(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=rn(yn().mark((function e(){var t;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,$i(this,zi(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,y=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,m=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,w=n.emailVerified,b=n.isAnonymous,x=n.providerData,E=n.stsTokenManager;ki(k&&E,t,"internal-error");var I=la.fromJSON(this.name,E);ki("string"===typeof k,t,"internal-error"),fa(f,t.name),fa(h,t.name),ki("boolean"===typeof w,t,"internal-error"),ki("boolean"===typeof b,t,"internal-error"),fa(d,t.name),fa(p,t.name),fa(v,t.name),fa(y,t.name),fa(m,t.name),fa(g,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:w,displayName:f,isAnonymous:b,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:m,lastLoginAt:g});return x&&Array.isArray(x)&&(S.providerData=x.map((function(e){return Object.assign({},e)}))),y&&(S._redirectEventId=y),S}},{key:"_fromIdTokenResponse",value:function(){var t=rn(yn().mark((function t(n,r){var i,a,o,u=arguments;return yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new la).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,ra(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),da=function(){function e(){an(this,e),this.type="NONE",this.storage={}}return un(e,[{key:"_isAvailable",value:function(){var e=rn(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=rn(yn().mark((function e(t,n){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=rn(yn().mark((function e(t){var n;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=rn(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();da.type="NONE";var pa=da;function va(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var ya=function(){function e(t,n,r){an(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=va(this.userKey,a.apiKey,o),this.fullPersistenceKey=va("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return un(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=rn(yn().mark((function e(){var t;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?ha._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=rn(yn().mark((function e(t){var n;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=rn(yn().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Ei(pa),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=rn(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Ei(pa),u=va(i,n.config.apiKey,n.name),s=null,c=mn(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=ha._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=rn(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function ma(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ba(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ga(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ea(t))return"Blackberry";if(Ia(t))return"Webos";if(ka(t))return"Safari";if((t.includes("chrome/")||wa(t))&&!t.includes("edge/"))return"Chrome";if(xa(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function ga(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On();return/firefox\//i.test(e)}function ka(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function wa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On();return/crios\//i.test(e)}function ba(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On();return/iemobile/i.test(e)}function xa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On();return/android/i.test(e)}function Ea(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On();return/blackberry/i.test(e)}function Ia(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On();return/webos/i.test(e)}function Sa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On();return/iphone|ipad|ipod/i.test(e)}function _a(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On();return Sa(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Ta(){return Mn()&&10===document.documentMode}function Ca(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On();return Sa(e)||xa(e)||Ia(e)||Ea(e)||/windows phone/i.test(e)||ba(e)}function Aa(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ma(On());break;case"Worker":t="".concat(ma(On()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Or,"/").concat(r)}var Na=function(){function e(t,n){an(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pa(this),this.idTokenSubscription=new Pa(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fi,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return un(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Ei(t)),this._initializationPromise=this.queue(rn(yn().mark((function r(){var i,a;return yn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,ya.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=rn(yn().mark((function e(){var t;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=rn(yn().mark((function e(t){var n,r,i,a,o;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return ki(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=rn(yn().mark((function e(t){var n;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=rn(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ra(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=rn(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=rn(yn().mark((function e(t){var n;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Jn(t):null)&&ki(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=rn(yn().mark((function e(t){var n=this;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&ki(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(rn(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=rn(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(rn(yn().mark((function n(){return yn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Ei(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new jn("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=rn(yn().mark((function e(t,n){var r;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=rn(yn().mark((function e(t){var n;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return ki(n=t&&Ei(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,ya.create(this,[Ei(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=rn(yn().mark((function e(t){var n,r;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(rn(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=rn(yn().mark((function e(t){var n=this;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(rn(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ki(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=rn(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return ki(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Aa(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=rn(yn().mark((function e(){var t;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ot({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Oa(e){return Jn(e)}var Pa=function(){function e(t){var n=this;an(this,e),this.auth=t,this.observer=null,this.addObserver=Qn((function(e){return n.observer=e}))}return un(e,[{key:"next",get:function(){return ki(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Ra(e,t,n){var r=Oa(e);ki(r._canInitEmulator,r,"emulator-config-failed"),ki(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Da(t),o=function(e){var t=Da(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:La(r.substr(a.length+1))}}var o=wn(r.split(":"),2);return{host:o[0],port:La(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Da(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function La(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Ma=function(){function e(t,n){an(this,e),this.providerId=t,this.signInMethod=n}return un(e,[{key:"toJSON",value:function(){return wi("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return wi("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return wi("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return wi("not implemented")}}]),e}();function Fa(e,t){return Ua.apply(this,arguments)}function Ua(){return Ua=rn(yn().mark((function e(t,n){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ri(t,"POST","/v1/accounts:resetPassword",Pi(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ua.apply(this,arguments)}function ja(e,t){return Va.apply(this,arguments)}function Va(){return Va=rn(yn().mark((function e(t,n){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ri(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Va.apply(this,arguments)}function Ba(e,t){return za.apply(this,arguments)}function za(){return za=rn(yn().mark((function e(t,n){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ri(t,"POST","/v1/accounts:update",Pi(t,n)));case 1:case"end":return e.stop()}}),e)}))),za.apply(this,arguments)}function qa(e,t){return Ka.apply(this,arguments)}function Ka(){return Ka=rn(yn().mark((function e(t,n){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fi(t,"POST","/v1/accounts:signInWithPassword",Pi(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ka.apply(this,arguments)}function Ha(e,t){return Wa.apply(this,arguments)}function Wa(){return Wa=rn(yn().mark((function e(t,n){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ri(t,"POST","/v1/accounts:sendOobCode",Pi(t,n)));case 1:case"end":return e.stop()}}),e)}))),Wa.apply(this,arguments)}function Ga(e,t){return Qa.apply(this,arguments)}function Qa(){return Qa=rn(yn().mark((function e(t,n){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ha(t,n));case 1:case"end":return e.stop()}}),e)}))),Qa.apply(this,arguments)}function Ya(e,t){return Xa.apply(this,arguments)}function Xa(){return Xa=rn(yn().mark((function e(t,n){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ha(t,n));case 1:case"end":return e.stop()}}),e)}))),Xa.apply(this,arguments)}function Ja(e,t){return $a.apply(this,arguments)}function $a(){return $a=rn(yn().mark((function e(t,n){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ha(t,n));case 1:case"end":return e.stop()}}),e)}))),$a.apply(this,arguments)}function Za(e,t){return eo.apply(this,arguments)}function eo(){return eo=rn(yn().mark((function e(t,n){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ha(t,n));case 1:case"end":return e.stop()}}),e)}))),eo.apply(this,arguments)}function to(e,t){return no.apply(this,arguments)}function no(){return no=rn(yn().mark((function e(t,n){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fi(t,"POST","/v1/accounts:signInWithEmailLink",Pi(t,n)));case 1:case"end":return e.stop()}}),e)}))),no.apply(this,arguments)}function ro(e,t){return io.apply(this,arguments)}function io(){return io=rn(yn().mark((function e(t,n){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fi(t,"POST","/v1/accounts:signInWithEmailLink",Pi(t,n)));case 1:case"end":return e.stop()}}),e)}))),io.apply(this,arguments)}var ao=function(e){sn(n,e);var t=pn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return an(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return un(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=rn(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",qa(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",to(t,{email:this._email,oobCode:this._password}));case 5:pi(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=rn(yn().mark((function e(t,n){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ja(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",ro(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:pi(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Ma);function oo(e,t){return uo.apply(this,arguments)}function uo(){return uo=rn(yn().mark((function e(t,n){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fi(t,"POST","/v1/accounts:signInWithIdp",Pi(t,n)));case 1:case"end":return e.stop()}}),e)}))),uo.apply(this,arguments)}var so=function(e){sn(n,e);var t=pn(n);function n(){var e;return an(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return un(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return oo(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,oo(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,oo(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Hn(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):pi("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Yr(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Ma);function co(e,t){return lo.apply(this,arguments)}function lo(){return lo=rn(yn().mark((function e(t,n){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ri(t,"POST","/v1/accounts:sendVerificationCode",Pi(t,n)));case 1:case"end":return e.stop()}}),e)}))),lo.apply(this,arguments)}function fo(){return fo=rn(yn().mark((function e(t,n){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fi(t,"POST","/v1/accounts:signInWithPhoneNumber",Pi(t,n)));case 1:case"end":return e.stop()}}),e)}))),fo.apply(this,arguments)}function ho(){return ho=rn(yn().mark((function e(t,n){var r;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fi(t,"POST","/v1/accounts:signInWithPhoneNumber",Pi(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Bi(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),ho.apply(this,arguments)}var po=ot({},"USER_NOT_FOUND","user-not-found");function vo(){return vo=rn(yn().mark((function e(t,n){var r;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Fi(t,"POST","/v1/accounts:signInWithPhoneNumber",Pi(t,r),po));case 2:case"end":return e.stop()}}),e)}))),vo.apply(this,arguments)}var yo=function(e){sn(n,e);var t=pn(n);function n(e){var r;return an(this,n),(r=t.call(this,"phone","phone")).params=e,r}return un(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return fo.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return ho.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return vo.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Ma);var mo=function(){function e(t){var n,r,i,a,o,u;an(this,e);var s=Wn(Gn(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);ki(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return un(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Wn(Gn(e)).link,n=t?Wn(Gn(t)).deep_link_id:null,r=Wn(Gn(e)).deep_link_id;return(r?Wn(Gn(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(TS){return null}}}]),e}();var go=function(){function e(){an(this,e),this.providerId=e.PROVIDER_ID}return un(e,null,[{key:"credential",value:function(e,t){return ao._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=mo.parseLink(t);return ki(n,"argument-error"),ao._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();go.PROVIDER_ID="password",go.EMAIL_PASSWORD_SIGN_IN_METHOD="password",go.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var ko=function(){function e(t){an(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return un(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),wo=function(e){sn(n,e);var t=pn(n);function n(){var e;return an(this,n),(e=t.apply(this,arguments)).scopes=[],e}return un(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Bt(this.scopes)}}]),n}(ko),bo=function(e){sn(n,e);var t=pn(n);function n(){return an(this,n),t.apply(this,arguments)}return un(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return ki(e.idToken||e.accessToken,"argument-error"),so._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return ki("providerId"in t&&"signInMethod"in t,"argument-error"),so._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(wo),xo=function(e){sn(n,e);var t=pn(n);function n(){return an(this,n),t.call(this,"facebook.com")}return un(n,null,[{key:"credential",value:function(e){return so._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(TS){return null}}}]),n}(wo);xo.FACEBOOK_SIGN_IN_METHOD="facebook.com",xo.PROVIDER_ID="facebook.com";var Eo=function(e){sn(n,e);var t=pn(n);function n(){var e;return an(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return un(n,null,[{key:"credential",value:function(e,t){return so._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(TS){return null}}}]),n}(wo);Eo.GOOGLE_SIGN_IN_METHOD="google.com",Eo.PROVIDER_ID="google.com";var Io=function(e){sn(n,e);var t=pn(n);function n(){return an(this,n),t.call(this,"github.com")}return un(n,null,[{key:"credential",value:function(e){return so._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(TS){return null}}}]),n}(wo);Io.GITHUB_SIGN_IN_METHOD="github.com",Io.PROVIDER_ID="github.com";var So=function(e){sn(n,e);var t=pn(n);function n(e,r){var i;return an(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return un(n,[{key:"_getIdTokenResponse",value:function(e){return oo(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,oo(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,oo(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Ma),_o=function(e){sn(n,e);var t=pn(n);function n(e){return an(this,n),ki(e.startsWith("saml."),"argument-error"),t.call(this,e)}return un(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=So.fromJSON(e);return ki(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return So._create(r,n)}catch(i){return null}}}]),n}(ko),To=function(e){sn(n,e);var t=pn(n);function n(){return an(this,n),t.call(this,"twitter.com")}return un(n,null,[{key:"credential",value:function(e,t){return so._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(TS){return null}}}]),n}(wo);function Co(e,t){return Ao.apply(this,arguments)}function Ao(){return Ao=rn(yn().mark((function e(t,n){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fi(t,"POST","/v1/accounts:signUp",Pi(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ao.apply(this,arguments)}To.TWITTER_SIGN_IN_METHOD="twitter.com",To.PROVIDER_ID="twitter.com";var No=function(){function e(t){an(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return un(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=rn(yn().mark((function t(n,r,i){var a,o,u,s,c=arguments;return yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,ha._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Oo(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=rn(yn().mark((function t(n,r,i){var a;return yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Oo(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Oo(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Po(){return Po=rn(yn().mark((function e(t){var n,r,i,a;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Oa(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new No({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Co(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,No._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Po.apply(this,arguments)}var Ro=function(e){sn(n,e);var t=pn(n);function n(e,r,i,a){var o,u;return an(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(hn(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return un(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Un);function Do(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Ro._fromErrorAndOperation(e,n,t,r);throw n}))}function Lo(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Mo(e,t){return Fo.apply(this,arguments)}function Fo(){return Fo=rn(yn().mark((function e(t,n){var r,i,a,o;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jn(t),e.next=3,Vo(!0,r,n);case 3:return e.t0=Ki,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Lo(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Fo.apply(this,arguments)}function Uo(e,t){return jo.apply(this,arguments)}function jo(){return jo=rn(yn().mark((function e(t,n){var r,i,a=arguments;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=$i,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",No._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),jo.apply(this,arguments)}function Vo(e,t,n){return Bo.apply(this,arguments)}function Bo(){return Bo=rn(yn().mark((function e(t,n,r){var i,a;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ra(n);case 2:i=Lo(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",ki(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)}))),Bo.apply(this,arguments)}function zo(e,t){return qo.apply(this,arguments)}function qo(){return qo=rn(yn().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,$i(t,Do(i,a,n,t),r);case 6:return ki((o=e.sent).idToken,i,"internal-error"),ki(u=Ji(o.idToken),i,"internal-error"),s=u.sub,ki(t.uid===s,i,"user-mismatch"),e.abrupt("return",No._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&pi(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),qo.apply(this,arguments)}function Ko(e,t){return Ho.apply(this,arguments)}function Ho(){return Ho=rn(yn().mark((function e(t,n){var r,i,a,o,u=arguments;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Do(t,i,n);case 4:return a=e.sent,e.next=7,No._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Ho.apply(this,arguments)}function Wo(e,t){return Go.apply(this,arguments)}function Go(){return Go=rn(yn().mark((function e(t,n){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ko(Oa(t),n));case 1:case"end":return e.stop()}}),e)}))),Go.apply(this,arguments)}function Qo(e,t){return Yo.apply(this,arguments)}function Yo(){return(Yo=rn(yn().mark((function e(t,n){var r;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jn(t),e.next=3,Vo(!1,r,n.providerId);case 3:return e.abrupt("return",Uo(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xo(e,t){return Jo.apply(this,arguments)}function Jo(){return(Jo=rn(yn().mark((function e(t,n){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zo(Jn(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $o(e,t){return Zo.apply(this,arguments)}function Zo(){return Zo=rn(yn().mark((function e(t,n){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fi(t,"POST","/v1/accounts:signInWithCustomToken",Pi(t,n)));case 1:case"end":return e.stop()}}),e)}))),Zo.apply(this,arguments)}function eu(){return eu=rn(yn().mark((function e(t,n){var r,i,a;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Oa(t),e.next=3,$o(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,No._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),eu.apply(this,arguments)}var tu=function(){function e(t,n){an(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return un(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?nu._fromServerResponse(e,t):pi(e,"internal-error")}}]),e}(),nu=function(e){sn(n,e);var t=pn(n);function n(e){var r;return an(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return un(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(tu);function ru(e,t,n){var r;ki((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),ki("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ki(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(ki(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function iu(){return iu=rn(yn().mark((function e(t,n,r){var i,a;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Jn(t),a={requestType:"PASSWORD_RESET",email:n},r&&ru(i,a,r),e.next=5,Ya(i,a);case 5:case"end":return e.stop()}}),e)}))),iu.apply(this,arguments)}function au(){return au=rn(yn().mark((function e(t,n,r){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fa(Jn(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),au.apply(this,arguments)}function ou(){return ou=rn(yn().mark((function e(t,n){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ba(Jn(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),ou.apply(this,arguments)}function uu(e,t){return su.apply(this,arguments)}function su(){return su=rn(yn().mark((function e(t,n){var r,i,a,o;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jn(t),e.next=3,Fa(r,{oobCode:n});case 3:i=e.sent,ki(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return ki(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:ki(i.mfaInfo,r,"internal-error");case 13:ki(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=tu._fromServerResponse(Oa(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),su.apply(this,arguments)}function cu(){return cu=rn(yn().mark((function e(t,n){var r,i;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uu(Jn(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),cu.apply(this,arguments)}function lu(e,t,n){return fu.apply(this,arguments)}function fu(){return fu=rn(yn().mark((function e(t,n,r){var i,a,o;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Oa(t),e.next=3,Co(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,No._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),fu.apply(this,arguments)}function hu(){return hu=rn(yn().mark((function e(t,n,r){var i,a;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Jn(t),a={requestType:"EMAIL_SIGNIN",email:n},ki(r.handleCodeInApp,i,"argument-error"),r&&ru(i,a,r),e.next=6,Ja(i,a);case 6:case"end":return e.stop()}}),e)}))),hu.apply(this,arguments)}function du(){return du=rn(yn().mark((function e(t,n,r){var i,a;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Jn(t),ki((a=go.credentialWithLink(n,r||Ii()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Wo(i,a));case 4:case"end":return e.stop()}}),e)}))),du.apply(this,arguments)}function pu(e,t){return vu.apply(this,arguments)}function vu(){return vu=rn(yn().mark((function e(t,n){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ri(t,"POST","/v1/accounts:createAuthUri",Pi(t,n)));case 1:case"end":return e.stop()}}),e)}))),vu.apply(this,arguments)}function yu(){return yu=rn(yn().mark((function e(t,n){var r,i,a,o;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Si()?Ii():"http://localhost",i={identifier:n,continueUri:r},e.next=4,pu(Jn(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),yu.apply(this,arguments)}function mu(){return(mu=rn(yn().mark((function e(t,n){var r,i,a,o;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jn(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&ru(r.auth,a,n),e.next=8,Ga(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gu(){return(gu=rn(yn().mark((function e(t,n,r){var i,a,o,u;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Jn(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&ru(i.auth,o,r),e.next=8,Za(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ku(e,t){return wu.apply(this,arguments)}function wu(){return wu=rn(yn().mark((function e(t,n){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ri(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),wu.apply(this,arguments)}function bu(){return(bu=rn(yn().mark((function e(t,n){var r,i,a,o,u,s,c;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Jn(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,$i(a,ku(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xu(e,t,n){return Eu.apply(this,arguments)}function Eu(){return Eu=rn(yn().mark((function e(t,n,r){var i,a,o,u;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,$i(t,ja(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),Eu.apply(this,arguments)}var Iu=un((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};an(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Su=function(e){sn(n,e);var t=pn(n);function n(e,r,i,a){var o;return an(this,n),(o=t.call(this,e,r,i)).username=a,o}return un(n)}(Iu),_u=function(e){sn(n,e);var t=pn(n);function n(e,r){return an(this,n),t.call(this,e,"facebook.com",r)}return un(n)}(Iu),Tu=function(e){sn(n,e);var t=pn(n);function n(e,r){return an(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return un(n)}(Su),Cu=function(e){sn(n,e);var t=pn(n);function n(e,r){return an(this,n),t.call(this,e,"google.com",r)}return un(n)}(Iu),Au=function(e){sn(n,e);var t=pn(n);function n(e,r,i){return an(this,n),t.call(this,e,"twitter.com",r,i)}return un(n)}(Su);function Nu(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Ji(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Iu(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new _u(a,i);case"github.com":return new Tu(a,i);case"google.com":return new Cu(a,i);case"twitter.com":return new Au(a,i,e.screenName||null);case"custom":case"anonymous":return new Iu(a,null);default:return new Iu(a,r,i)}}(n)}var Ou=function(){function e(t,n){an(this,e),this.type=t,this.credential=n}return un(e,[{key:"toJSON",value:function(){return{multiFactorSession:ot({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Pu=function(){function e(t,n,r){an(this,e),this.session=t,this.hints=n,this.signInResolver=r}return un(e,[{key:"resolveSignIn",value:function(){var e=rn(yn().mark((function e(t){var n;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Oa(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return tu._fromServerResponse(r,e)}));ki(i.mfaPendingCredential,r,"internal-error");var o=Ou._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=rn(yn().mark((function e(t){var a,u,s;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,No._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return ki(n.user,r,"internal-error"),e.abrupt("return",No._forOperation(n.user,n.operationType,u));case 17:pi(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Ru(e,t){return Ri(e,"POST","/v2/accounts/mfaEnrollment:start",Pi(e,t))}function Du(e,t){return Ri(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Pi(e,t))}var Lu=function(){function e(t){var n=this;an(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return tu._fromServerResponse(t.auth,e)})))}))}return un(e,[{key:"getSession",value:function(){var e=rn(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Ou,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=rn(yn().mark((function e(t,n){var r,i,a;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,$i(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=rn(yn().mark((function e(t){var n,r,i;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,$i(this.user,Du(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Mu=new WeakMap;var Fu="__sak",Uu=function(){function e(t,n){an(this,e),this.storageRetriever=t,this.type=n}return un(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Fu,"1"),this.storage.removeItem(Fu),Promise.resolve(!0)):Promise.resolve(!1)}catch(TS){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var ju=function(e){sn(n,e);var t=pn(n);function n(){var e;return an(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=On();return ka(e)||Sa(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Ca(),e._shouldAllowMigration=!0,e}return un(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Ta()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=rn(yn().mark((function e(t,r){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qr(cn(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=rn(yn().mark((function e(t){var r;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qr(cn(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=rn(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qr(cn(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Uu);ju.type="LOCAL";var Vu=ju,Bu=function(e){sn(n,e);var t=pn(n);function n(){return an(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return un(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Uu);Bu.type="SESSION";var zu=Bu;function qu(e){return Promise.all(e.map(function(){var e=rn(yn().mark((function e(t){var n;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Ku=function(){function e(t){an(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return un(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=rn(yn().mark((function e(t){var n,r,i,a,o,u,s,c;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=rn(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,qu(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Hu(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ku.receivers=[];var Wu=function(){function e(t){an(this,e),this.target=t,this.handlers=new Set}return un(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=rn(yn().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=Hu("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Gu(){return window}function Qu(){return"undefined"!==typeof Gu().WorkerGlobalScope&&"function"===typeof Gu().importScripts}function Yu(){return Xu.apply(this,arguments)}function Xu(){return(Xu=rn(yn().mark((function e(){var t;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Ju(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var $u="firebaseLocalStorageDb",Zu="firebaseLocalStorage",es="fbase_key",ts=function(){function e(t){an(this,e),this.request=t}return un(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function ns(e,t){return e.transaction([Zu],t?"readwrite":"readonly").objectStore(Zu)}function rs(){var e=indexedDB.deleteDatabase($u);return new ts(e).toPromise()}function is(){var e=indexedDB.open($u,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Zu,{keyPath:es})}catch(r){n(r)}})),e.addEventListener("success",rn(yn().mark((function n(){var r;return yn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Zu)){n.next=12;break}return r.close(),n.next=5,rs();case 5:return n.t0=t,n.next=8,is();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function as(e,t,n){return os.apply(this,arguments)}function os(){return os=rn(yn().mark((function e(t,n,r){var i,a;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ns(t,!0).put((ot(i={},es,n),ot(i,"value",r),i)),e.abrupt("return",new ts(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),os.apply(this,arguments)}function us(e,t){return ss.apply(this,arguments)}function ss(){return ss=rn(yn().mark((function e(t,n){var r,i;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ns(t,!1).get(n),e.next=3,new ts(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),ss.apply(this,arguments)}function cs(e,t){var n=ns(e,!0).delete(t);return new ts(n).toPromise()}var ls=function(){function e(){an(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return un(e,[{key:"_openDb",value:function(){var e=rn(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,is();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=rn(yn().mark((function e(t){var n,r;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=rn(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qu()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=rn(yn().mark((function e(){var t=this;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Ku._getInstance(Qu()?self:null),this.receiver._subscribe("keyChanged",function(){var e=rn(yn().mark((function e(n,r){var i;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=rn(yn().mark((function e(t,n){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=rn(yn().mark((function e(){var t,n,r;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yu();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Wu(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=rn(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Ju()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=rn(yn().mark((function e(){var t;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,is();case 5:return t=e.sent,e.next=8,as(t,Fu,"1");case 8:return e.next=10,cs(t,Fu);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=rn(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=rn(yn().mark((function e(t,n){var r=this;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(rn(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return as(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=rn(yn().mark((function e(t){var n;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return us(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=rn(yn().mark((function e(t){var n=this;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(rn(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return cs(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=rn(yn().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=ns(e,!1).getAll();return new ts(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=mn(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(rn(yn().mark((function t(){return yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();ls.type="LOCAL";var fs=ls;function hs(e,t){return Ri(e,"POST","/v2/accounts/mfaSignIn:start",Pi(e,t))}function ds(e){return ps.apply(this,arguments)}function ps(){return ps=rn(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ri(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),ps.apply(this,arguments)}function vs(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=vi("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function ys(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var ms=1e12,gs=function(){function e(t){an(this,e),this.auth=t,this.counter=ms,this._widgets=new Map}return un(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new ks(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||ms;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||ms;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=rn(yn().mark((function e(t){var n,r;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||ms,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ks=function(){function e(t,n,r){var i=this;an(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;ki(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return un(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var ws=ys("rcb"),bs=new Ti(3e4,6e4),xs="https://www.google.com/recaptcha/api.js?",Es=function(){function e(){an(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Gu().grecaptcha}return un(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return ki(Is(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Gu().grecaptcha):new Promise((function(r,i){var a=Gu().setTimeout((function(){i(vi(e,"network-request-failed"))}),bs.get());Gu()[ws]=function(){Gu().clearTimeout(a),delete Gu()[ws];var o=Gu().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(vi(e,"internal-error"))},vs("".concat(xs,"?").concat(Hn({onload:ws,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(vi(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!Gu().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Is(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Ss=function(){function e(){an(this,e)}return un(e,[{key:"load",value:function(){var e=rn(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new gs(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),_s="recaptcha",Ts={theme:"light",type:"image"},Cs=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Ts),r=arguments.length>2?arguments[2]:void 0;an(this,e),this.parameters=n,this.type=_s,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Oa(r),this.isInvisible="invisible"===this.parameters.size,ki("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;ki(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ss:new Es,this.validateStartingState()}return un(e,[{key:"verify",value:function(){var e=rn(yn().mark((function e(){var t,n,r,i=this;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){ki(!this.parameters.sitekey,this.auth,"argument-error"),ki(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ki("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Gu()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){ki(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=rn(yn().mark((function e(){var t,n;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=rn(yn().mark((function e(){var t;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ki(Si()&&!Qu(),this.auth,"internal-error"),e.next=3,As();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,ds(this.auth);case 8:ki(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return ki(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function As(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Ns=function(){function e(t,n){an(this,e),this.verificationId=t,this.onConfirmation=n}return un(e,[{key:"confirm",value:function(e){var t=yo._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Os(){return Os=rn(yn().mark((function e(t,n,r){var i,a;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Oa(t),e.next=3,Ls(i,n,Jn(r));case 3:return a=e.sent,e.abrupt("return",new Ns(a,(function(e){return Wo(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Os.apply(this,arguments)}function Ps(e,t,n){return Rs.apply(this,arguments)}function Rs(){return(Rs=rn(yn().mark((function e(t,n,r){var i,a;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Jn(t),e.next=3,Vo(!1,i,"phone");case 3:return e.next=5,Ls(i.auth,n,Jn(r));case 5:return a=e.sent,e.abrupt("return",new Ns(a,(function(e){return Qo(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ds(){return(Ds=rn(yn().mark((function e(t,n,r){var i,a;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Jn(t),e.next=3,Ls(i.auth,n,Jn(r));case 3:return a=e.sent,e.abrupt("return",new Ns(a,(function(e){return Xo(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ls(e,t,n){return Ms.apply(this,arguments)}function Ms(){return Ms=rn(yn().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,ki("string"===typeof a,t,"argument-error"),ki(r.type===_s,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return ki("enroll"===u.type,t,"internal-error"),e.next=13,Ru(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return ki("signin"===u.type,t,"internal-error"),ki(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,hs(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,co(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Ms.apply(this,arguments)}function Fs(){return(Fs=rn(yn().mark((function e(t,n){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uo(Jn(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Us=function(){function e(t){an(this,e),this.providerId=e.PROVIDER_ID,this.auth=Oa(t)}return un(e,[{key:"verifyPhoneNumber",value:function(e,t){return Ls(this.auth,e,Jn(t))}}],[{key:"credential",value:function(e,t){return yo._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?yo._fromTokenResponse(n,r):null}}]),e}();function js(e,t){return t?Ei(t):(ki(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Us.PROVIDER_ID="phone",Us.PHONE_SIGN_IN_METHOD="phone";var Vs=function(e){sn(n,e);var t=pn(n);function n(e){var r;return an(this,n),(r=t.call(this,"custom","custom")).params=e,r}return un(n,[{key:"_getIdTokenResponse",value:function(e){return oo(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return oo(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return oo(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Ma);function Bs(e){return Ko(e.auth,new Vs(e),e.bypassAuthState)}function zs(e){var t=e.auth,n=e.user;return ki(n,t,"internal-error"),zo(n,new Vs(e),e.bypassAuthState)}function qs(e){return Ks.apply(this,arguments)}function Ks(){return Ks=rn(yn().mark((function e(t){var n,r;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,ki(r=t.user,n,"internal-error"),e.abrupt("return",Uo(r,new Vs(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Ks.apply(this,arguments)}var Hs=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];an(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return un(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=rn(yn().mark((function t(n,r){return yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=rn(yn().mark((function e(t){var n,r,i,a,o,u,s;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Bs;case"linkViaPopup":case"linkViaRedirect":return qs;case"reauthViaPopup":case"reauthViaRedirect":return zs;default:pi(this.auth,"internal-error")}}},{key:"resolve",value:function(e){bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Ws=new Ti(2e3,1e4);function Gs(e,t,n){return Qs.apply(this,arguments)}function Qs(){return Qs=rn(yn().mark((function e(t,n,r){var i,a,o;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Oa(t),mi(t,n,ko),a=js(i,r),o=new $s(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Qs.apply(this,arguments)}function Ys(){return Ys=rn(yn().mark((function e(t,n,r){var i,a,o;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mi((i=Jn(t)).auth,n,ko),a=js(i.auth,r),o=new $s(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Ys.apply(this,arguments)}function Xs(e,t,n){return Js.apply(this,arguments)}function Js(){return Js=rn(yn().mark((function e(t,n,r){var i,a,o;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mi((i=Jn(t)).auth,n,ko),a=js(i.auth,r),o=new $s(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Js.apply(this,arguments)}var $s=function(e){sn(n,e);var t=pn(n);function n(e,r,i,a,o){var u;return an(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=hn(u),u}return un(n,[{key:"executeNotNull",value:function(){var e=rn(yn().mark((function e(){var t;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return ki(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=rn(yn().mark((function e(){var t,n=this;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bi(1===this.filter.length,"Popup operations only handle one event"),t=Hu(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(vi(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(vi(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(vi(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Ws.get())}()}}]),n}(Hs);$s.currentPopupAction=null;var Zs=new Map,ec=function(e){sn(n,e);var t=pn(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return an(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return un(n,[{key:"execute",value:function(){var e=rn(yn().mark((function e(){var t,r;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Zs.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,tc(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Qr(cn(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Zs.set(this.auth._key(),t);case 21:return this.bypassAuthState||Zs.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=rn(yn().mark((function e(t){var r;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Qr(cn(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Qr(cn(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=rn(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Hs);function tc(e,t){return nc.apply(this,arguments)}function nc(){return nc=rn(yn().mark((function e(t,n){var r,i,a;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=oc(n),i=ac(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),nc.apply(this,arguments)}function rc(e,t){return ic.apply(this,arguments)}function ic(){return ic=rn(yn().mark((function e(t,n){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ac(t)._set(oc(n),"true"));case 1:case"end":return e.stop()}}),e)}))),ic.apply(this,arguments)}function ac(e){return Ei(e._redirectPersistence)}function oc(e){return va("pendingRedirect",e.config.apiKey,e.name)}function uc(e,t,n){return function(e,t,n){return sc.apply(this,arguments)}(e,t,n)}function sc(){return sc=rn(yn().mark((function e(t,n,r){var i,a;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Oa(t),mi(t,n,ko),a=js(i,r),e.next=5,rc(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),sc.apply(this,arguments)}function cc(e,t,n){return function(e,t,n){return lc.apply(this,arguments)}(e,t,n)}function lc(){return lc=rn(yn().mark((function e(t,n,r){var i,a,o;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mi((i=Jn(t)).auth,n,ko),a=js(i.auth,r),e.next=5,rc(a,i.auth);case 5:return e.next=7,mc(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)}))),lc.apply(this,arguments)}function fc(e,t,n){return function(e,t,n){return hc.apply(this,arguments)}(e,t,n)}function hc(){return hc=rn(yn().mark((function e(t,n,r){var i,a,o;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mi((i=Jn(t)).auth,n,ko),a=js(i.auth,r),e.next=5,Vo(!1,i,n.providerId);case 5:return e.next=7,rc(a,i.auth);case 7:return e.next=9,mc(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)}))),hc.apply(this,arguments)}function dc(e,t){return pc.apply(this,arguments)}function pc(){return pc=rn(yn().mark((function e(t,n){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oa(t)._initializationPromise;case 2:return e.abrupt("return",vc(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),pc.apply(this,arguments)}function vc(e,t){return yc.apply(this,arguments)}function yc(){return yc=rn(yn().mark((function e(t,n){var r,i,a,o,u,s=arguments;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Oa(t),a=js(i,n),o=new ec(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),yc.apply(this,arguments)}function mc(e){return gc.apply(this,arguments)}function gc(){return(gc=rn(yn().mark((function e(t){var n;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Hu("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var kc=function(){function e(t){an(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return un(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bc(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!bc(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(vi(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(wc(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(wc(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function wc(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function bc(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function xc(e){return Ec.apply(this,arguments)}function Ec(){return Ec=rn(yn().mark((function e(t){var n,r=arguments;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Ri(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Ec.apply(this,arguments)}var Ic=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sc=/^https?/;function _c(){return _c=rn(yn().mark((function e(t){var n,r,i,a,o;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,xc(t);case 4:n=e.sent,r=n.authorizedDomains,i=mn(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Tc(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:pi(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),_c.apply(this,arguments)}function Tc(e){var t=Ii(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Sc.test(r))return!1;if(Ic.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Cc=new Ti(3e4,6e4);function Ac(){var e=Gu().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Bt(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Nc=null;function Oc(e){return Nc=Nc||function(e){return new Promise((function(t,n){var r,i,a;function o(){Ac(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Ac(),n(vi(e,"network-request-failed"))},timeout:Cc.get()})}if(null===(i=null===(r=Gu().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Gu().gapi)||void 0===a?void 0:a.load)){var u=ys("iframefcb");return Gu()[u]=function(){gapi.load?o():n(vi(e,"network-request-failed"))},vs("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Nc=null,e}))}(e),Nc}var Pc=new Ti(5e3,15e3),Rc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Dc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Lc(e){var t=e.config;ki(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Ci(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Or},i=Dc.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Hn(r).slice(1))}function Mc(e){return Fc.apply(this,arguments)}function Fc(){return Fc=rn(yn().mark((function e(t){var n,r;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oc(t);case 2:return n=e.sent,ki(r=Gu().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Lc(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Rc,dontclear:!0},(function(e){return new Promise(function(){var n=rn(yn().mark((function n(r,i){var a,o,u;return yn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Gu().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=vi(t,"network-request-failed"),o=Gu().setTimeout((function(){i(a)}),Pc.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Fc.apply(this,arguments)}var Uc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jc="_blank",Vc="http://localhost",Bc=function(){function e(t){an(this,e),this.window=t,this.associatedEvent=null}return un(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function zc(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},Uc),{width:r.toString(),height:i.toString(),top:a,left:o}),c=On().toLowerCase();n&&(u=wa(c)?jc:n),ga(c)&&(t=t||Vc,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=wn(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(_a(c)&&"_self"!==u)return qc(t||"",u),new Bc(null);var f=window.open(t||"",u,l);ki(f,e,"popup-blocked");try{f.focus()}catch(h){}return new Bc(f)}function qc(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Kc="__/auth/handler",Hc="emulator/auth/handler";function Wc(e,t,n,r,i,a){ki(e.config.authDomain,e,"auth-domain-config-required"),ki(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Or,eventId:i};if(t instanceof ko){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=wn(s[u],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof wo){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var y=v[p];void 0===d[y]&&delete d[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Kc);return Ci(t,Hc)}(e),"?").concat(Hn(d).slice(1))}var Gc="webStorageSupport",Qc=function(){function e(){an(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zu,this._completeRedirectFn=vc}return un(e,[{key:"_openPopup",value:function(){var e=rn(yn().mark((function e(t,n,r,i){var a,o;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bi(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Wc(t,n,r,Ii(),i),e.abrupt("return",zc(t,o,Hu()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=rn(yn().mark((function e(t,n,r,i){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Wc(t,n,r,Ii(),i),Gu().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(bi(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=rn(yn().mark((function e(t){var n,r;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mc(t);case 2:return n=e.sent,r=new kc(t),n.register("authEvent",(function(e){return ki(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Gc,{type:Gc},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),pi(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return _c.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Ca()||ka()||Sa()}}]),e}(),Yc=Qc,Xc=function(){function e(t){an(this,e),this.factorId=t}return un(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return wi("unexpected MultiFactorSessionType")}}}]),e}(),Jc=function(e){sn(n,e);var t=pn(n);function n(e){var r;return an(this,n),(r=t.call(this,"phone")).credential=e,r}return un(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Ri(e,"POST","/v2/accounts/mfaEnrollment:finalize",Pi(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Ri(e,"POST","/v2/accounts/mfaSignIn:finalize",Pi(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Xc),$c=function(){function e(){an(this,e)}return un(e,null,[{key:"assertion",value:function(e){return Jc._fromCredential(e)}}]),e}();$c.FACTOR_ID="phone";var Zc,el="@firebase/auth",tl="0.19.9",nl=function(){function e(t){an(this,e),this.auth=t,this.internalListeners=new Map}return un(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=rn(yn().mark((function e(t){var n;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){ki(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function rl(){return window}Zc="Browser",xr(new $n("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,a=i.apiKey,o=i.authDomain;return function(e){ki(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),ki(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var t={apiKey:a,authDomain:o,clientPlatform:Zc,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Aa(Zc)},r=new Na(e,t);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ei);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r}(r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),xr(new $n("auth-internal",(function(e){return function(e){return new nl(e)}(Oa(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Fr(el,tl,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Zc)),Fr(el,tl,"esm2017");function il(e,t,n){return al.apply(this,arguments)}function al(){return al=rn(yn().mark((function e(t,n,r){var i,a,o,u,s;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=rl(),o=a.BuildInfo,bi(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,fl(n.sessionId);case 4:return u=e.sent,s={},Sa()?s.ibi=o.packageName:xa()?s.apn=o.packageName:pi(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",Wc(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),al.apply(this,arguments)}function ol(){return ol=rn(yn().mark((function e(t){var n,r,i;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=rl(),r=n.BuildInfo,i={},Sa()?i.iosBundleId=r.packageName:xa()?i.androidPackageName=r.packageName:pi(t,"operation-not-supported-in-this-environment"),e.next=5,xc(t,i);case 5:case"end":return e.stop()}}),e)}))),ol.apply(this,arguments)}function ul(e){var t=rl().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function sl(e,t,n){return cl.apply(this,arguments)}function cl(){return cl=rn(yn().mark((function e(t,n,r){var i,a,o;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=rl(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(vi(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),xa()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),cl.apply(this,arguments)}function ll(e){var t,n,r,i,a,o,u,s,c,l,f=rl();ki("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ki("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ki("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ki("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ki("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function fl(e){return hl.apply(this,arguments)}function hl(){return(hl=rn(yn().mark((function e(t){var n,r,i;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=dl(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dl(e){if(bi(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var pl=function(e){sn(n,e);var t=pn(n);function n(){var e;return an(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return un(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Qr(cn(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=rn(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(kc);function vl(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:wl(),postBody:null,tenantId:e.tenantId,error:vi(e,"no-auth-event")}}function yl(e,t){return bl()._set(xl(e),t)}function ml(e){return gl.apply(this,arguments)}function gl(){return gl=rn(yn().mark((function e(t){var n;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bl()._get(xl(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,bl()._remove(xl(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),gl.apply(this,arguments)}function kl(e,t){var n,r,i=function(e){var t=El(e),n=t.link?decodeURIComponent(t.link):void 0,r=El(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return El(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=El(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?vi(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function wl(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function bl(){return Ei(Vu)}function xl(e){return va("authEvent",e.config.apiKey,e.name)}function El(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=gn(t=n)||jt(t)||Vt(t)||kn();r[0];return Wn(r.slice(1).join("?"))}var Il=function(){function e(){an(this,e),this._redirectPersistence=zu,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=vc}return un(e,[{key:"_initialize",value:function(){var e=rn(yn().mark((function e(t){var n,r;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new pl(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){pi(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=rn(yn().mark((function e(t,n,r,i){var a,o,u,s;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ll(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Zs.clear(),e.next=10,this._originValidation(t);case 10:return o=vl(t,r,i),e.next=13,yl(t,o);case 13:return e.next=15,il(t,o,n);case 15:return u=e.sent,e.next=18,ul(u);case 18:return s=e.sent,e.abrupt("return",sl(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return ol.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=rl(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(rn(yn().mark((function n(){return yn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ml(e);case 2:t.onEvent(_l());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=rn(yn().mark((function n(r){var i,a;return yn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,ml(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=kl(i,r.url)),t.onEvent(a||_l());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");rl().handleOpenURL=function(){var e=rn(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Sl=Il;function _l(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:vi("no-auth-event")}}function Tl(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Cl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On();return!("file:"!==Tl()&&"ionic:"!==Tl()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Al(){return Mn()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Nl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On();return/Edge\/\d+/.test(e)}function Ol(){try{var e=self.localStorage,t=Hu();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On();return Al()||Nl(e)}()||Fn()}catch(n){return Pl()&&Fn()}return!1}function Pl(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Rl(){return("http:"===Tl()||"https:"===Tl()||Dn()||Cl())&&!(Ln()||Rn())&&Ol()&&!Pl()}function Dl(){return Cl()&&"undefined"!==typeof document}function Ll(){return Ml.apply(this,arguments)}function Ml(){return(Ml=rn(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Dl()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Fl={LOCAL:"local",NONE:"none",SESSION:"session"},Ul=ki,jl="persistence";function Vl(e,t){Ul(Object.values(Fl).includes(t),e,"invalid-persistence-type"),Ln()?Ul(t!==Fl.SESSION,e,"unsupported-persistence-type"):Rn()?Ul(t===Fl.NONE,e,"unsupported-persistence-type"):Pl()?Ul(t===Fl.NONE||t===Fl.LOCAL&&Fn(),e,"unsupported-persistence-type"):Ul(t===Fl.NONE||Ol(),e,"unsupported-persistence-type")}function Bl(e){return zl.apply(this,arguments)}function zl(){return zl=rn(yn().mark((function e(t){var n,r;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=ql(),r=va(jl,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),zl.apply(this,arguments)}function ql(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var Kl=ki,Hl=function(){function e(){an(this,e),this.browserResolver=Ei(Yc),this.cordovaResolver=Ei(Sl),this.underlyingResolver=null,this._redirectPersistence=zu,this._completeRedirectFn=vc}return un(e,[{key:"_initialize",value:function(){var e=rn(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=rn(yn().mark((function e(t,n,r,i){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=rn(yn().mark((function e(t,n,r,i){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Dl()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Kl(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=rn(yn().mark((function e(){var t;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Ll();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Wl(e){return e.unwrap()}function Gl(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new $l(e,function(e,t){var n,r=Jn(e),i=t;return ki(t.customData.operationType,r,"argument-error"),ki(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Pu._fromError(r,i)}(e,t));else if(r){var i=Ql(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function Ql(e){var t=(e instanceof Un?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Un)&&"temporaryProof"in t&&"phoneNumber"in t)return Us.credentialFromResult(e);var n,r=t.providerId;if(!r||r===ei)return null;switch(r){case Zr:n=Eo;break;case Jr:n=xo;break;case $r:n=Io;break;case ti:n=To;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?So._create(r,u):so._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new bo(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof Un?n.credentialFromError(e):n.credentialFromResult(e)}function Yl(e,t){return t.catch((function(t){throw t instanceof Un&&Gl(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Ql(t)),additionalUserInfo:Nu(e),user:Zl.getOrCreate(r)}}))}function Xl(e,t){return Jl.apply(this,arguments)}function Jl(){return Jl=rn(yn().mark((function e(t,n){var r;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Yl(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),Jl.apply(this,arguments)}var $l=function(){function e(t,n){an(this,e),this.resolver=n,this.auth=t.wrapped()}return un(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Yl(Wl(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Zl=function(){function e(t){an(this,e),this._delegate=t,this.multiFactor=function(e){var t=Jn(e);return Mu.has(t)||Mu.set(t,Lu._fromUser(t)),Mu.get(t)}(t)}return un(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=rn(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yl(this.auth,Qo(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=rn(yn().mark((function e(t,n){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xl(this.auth,Ps(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=rn(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yl(this.auth,Xs(this._delegate,t,Hl)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=rn(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bl(Oa(this.auth));case 2:return e.abrupt("return",fc(this._delegate,t,Hl));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=rn(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yl(this.auth,Xo(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Xl(this.auth,function(e,t,n){return Ds.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Yl(this.auth,function(e,t,n){return Ys.apply(this,arguments)}(this._delegate,e,Hl))}},{key:"reauthenticateWithRedirect",value:function(){var e=rn(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bl(Oa(this.auth));case 2:return e.abrupt("return",cc(this._delegate,t,Hl));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return mu.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=rn(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mo(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return xu(Jn(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return xu(Jn(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Fs.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return bu.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return gu.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Zl.USER_MAP=new WeakMap;var ef=ki,tf=function(){function e(t,n){if(an(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;ef(r,"invalid-api-key",{appName:t.name}),ef(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Hl:void 0;this._delegate=n.initialize({options:{persistence:rf(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(ci),this.linkUnderlyingAuth()}return un(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Zl.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Ra(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return ou.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return uu(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return au.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=rn(yn().mark((function e(t,n){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yl(this._delegate,lu(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return yu.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=mo.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=rn(yn().mark((function e(){var t;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ef(Rl(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,dc(this._delegate,Hl);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Yl(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Oa(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=nf(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=nf(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return hu.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return iu.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=rn(yn().mark((function e(t){var n,r;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Vl(this._delegate,t),e.t0=t,e.next=e.t0===Fl.SESSION?4:e.t0===Fl.LOCAL?6:e.t0===Fl.NONE?11:13;break;case 4:return n=zu,e.abrupt("break",14);case 6:return e.next=8,Ei(fs)._isAvailable();case 8:return r=e.sent,n=r?fs:Vu,e.abrupt("break",14);case 11:return n=pa,e.abrupt("break",14);case 13:return e.abrupt("return",pi("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Yl(this._delegate,function(e){return Po.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Yl(this._delegate,Wo(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Yl(this._delegate,function(e,t){return eu.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Yl(this._delegate,function(e,t,n){return Wo(Jn(e),go.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Yl(this._delegate,function(e,t,n){return du.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Xl(this._delegate,function(e,t,n){return Os.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=rn(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ef(Rl(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Yl(this._delegate,Gs(this._delegate,t,Hl)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=rn(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ef(Rl(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Bl(this._delegate);case 3:return e.abrupt("return",uc(this._delegate,t,Hl));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return cu.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function nf(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Zl.getOrCreate(e))},error:t,complete:n}}function rf(e,t){var n=function(e,t){var n=ql();if(!n)return[];var r=va(jl,e,t);switch(n.getItem(r)){case Fl.NONE:return[pa];case Fl.LOCAL:return[fs,zu];case Fl.SESSION:return[zu];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(fs)||n.push(fs),"undefined"!==typeof window)for(var r=0,i=[Vu,zu];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(pa)||n.push(pa),n}tf.Persistence=Fl;var af=function(){function e(){an(this,e),this.providerId="phone",this._delegate=new Us(Wl(Wr.auth()))}return un(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Us.credential(e,t)}}]),e}();af.PHONE_SIGN_IN_METHOD=Us.PHONE_SIGN_IN_METHOD,af.PROVIDER_ID=Us.PROVIDER_ID;var of,uf=ki,sf=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wr.app();an(this,e),uf(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Cs(t,n,i.auth()),this.type=this._delegate.type}return un(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(of=Wr).INTERNAL.registerComponent(new $n("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new tf(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ni,PASSWORD_RESET:ri,RECOVER_EMAIL:ii,REVERT_SECOND_FACTOR_ADDITION:ai,VERIFY_AND_CHANGE_EMAIL:oi,VERIFY_EMAIL:ui}},EmailAuthProvider:go,FacebookAuthProvider:xo,GithubAuthProvider:Io,GoogleAuthProvider:Eo,OAuthProvider:bo,SAMLAuthProvider:_o,PhoneAuthProvider:af,PhoneMultiFactorGenerator:$c,RecaptchaVerifier:sf,TwitterAuthProvider:To,Auth:tf,AuthCredential:Ma,Error:Un}).setInstantiationMode("LAZY").setMultipleInstances(!1)),of.registerVersion("@firebase/auth-compat","0.2.9");var cf,lf="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},ff={},hf=hf||{},df=lf||self;function pf(){}function vf(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function yf(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var mf="closure_uid_"+(1e9*Math.random()>>>0),gf=0;function kf(e,t,n){return e.call.apply(e.bind,arguments)}function wf(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function bf(e,t,n){return(bf=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?kf:wf).apply(null,arguments)}function xf(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ef(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function If(){this.s=this.s,this.o=this.o}var Sf={};If.prototype.s=!1,If.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,mf)&&e[mf]||(e[mf]=++gf)}(this);delete Sf[e]}},If.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var _f=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Tf=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Cf(e){return Array.prototype.concat.apply([],arguments)}function Af(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Nf(e){return/^[\s\xa0]*$/.test(e)}var Of,Pf=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Rf(e,t){return-1!=e.indexOf(t)}function Df(e,t){return e<t?-1:e>t?1:0}e:{var Lf=df.navigator;if(Lf){var Mf=Lf.userAgent;if(Mf){Of=Mf;break e}}Of=""}function Ff(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Uf(e){var t={};for(var n in e)t[n]=e[n];return t}var jf="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Vf(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<jf.length;a++)n=jf[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Bf(e){return Bf[" "](e),e}Bf[" "]=pf;var zf,qf=Rf(Of,"Opera"),Kf=Rf(Of,"Trident")||Rf(Of,"MSIE"),Hf=Rf(Of,"Edge"),Wf=Hf||Kf,Gf=Rf(Of,"Gecko")&&!(Rf(Of.toLowerCase(),"webkit")&&!Rf(Of,"Edge"))&&!(Rf(Of,"Trident")||Rf(Of,"MSIE"))&&!Rf(Of,"Edge"),Qf=Rf(Of.toLowerCase(),"webkit")&&!Rf(Of,"Edge");function Yf(){var e=df.document;return e?e.documentMode:void 0}e:{var Xf="",Jf=function(){var e=Of;return Gf?/rv:([^\);]+)(\)|;)/.exec(e):Hf?/Edge\/([\d\.]+)/.exec(e):Kf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Qf?/WebKit\/(\S+)/.exec(e):qf?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Jf&&(Xf=Jf?Jf[1]:""),Kf){var $f=Yf();if(null!=$f&&$f>parseFloat(Xf)){zf=String($f);break e}}zf=Xf}var Zf,eh={};function th(){return function(e){var t=eh;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Pf(String(zf)).split("."),n=Pf("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Df(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Df(0==a[2].length,0==o[2].length)||Df(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(df.document&&Kf){var nh=Yf();Zf=nh||(parseInt(zf,10)||void 0)}else Zf=void 0;var rh=Zf,ih=function(){if(!df.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{df.addEventListener("test",pf,t),df.removeEventListener("test",pf,t)}catch(n){}return e}();function ah(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function oh(e,t){if(ah.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Gf){e:{try{Bf(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:uh[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&oh.Z.h.call(this)}}ah.prototype.h=function(){this.defaultPrevented=!0},Ef(oh,ah);var uh={2:"touch",3:"pen",4:"mouse"};oh.prototype.h=function(){oh.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var sh="closure_listenable_"+(1e6*Math.random()|0),ch=0;function lh(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++ch,this.ca=this.fa=!1}function fh(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function hh(e){this.src=e,this.g={},this.h=0}function dh(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=_f(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(fh(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ph(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}hh.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=ph(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new lh(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var vh="closure_lm_"+(1e6*Math.random()|0),yh={};function mh(e,t,n,r,i){if(r&&r.once)return kh(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)mh(e,t[a],n,r,i);return null}return n=_h(n),e&&e[sh]?e.N(t,n,yf(r)?!!r.capture:!!r,i):gh(e,t,n,!1,r,i)}function gh(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=yf(i)?!!i.capture:!!i,u=Ih(e);if(u||(e[vh]=u=new hh(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Eh;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ih||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(xh(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function kh(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)kh(e,t[a],n,r,i);return null}return n=_h(n),e&&e[sh]?e.O(t,n,yf(r)?!!r.capture:!!r,i):gh(e,t,n,!0,r,i)}function wh(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)wh(e,t[a],n,r,i);else r=yf(r)?!!r.capture:!!r,n=_h(n),e&&e[sh]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=ph(a=e.g[t],n,r,i))&&(fh(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Ih(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ph(t,n,r,i)),(n=-1<e?t[e]:null)&&bh(n))}function bh(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[sh])dh(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(xh(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ih(t))?(dh(n,e),0==n.h&&(n.src=null,t[vh]=null)):fh(e)}}}function xh(e){return e in yh?yh[e]:yh[e]="on"+e}function Eh(e,t){if(e.ca)e=!0;else{t=new oh(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&bh(e),e=n.call(r,t)}return e}function Ih(e){return(e=e[vh])instanceof hh?e:null}var Sh="__closure_events_fn_"+(1e9*Math.random()>>>0);function _h(e){return"function"===typeof e?e:(e[Sh]||(e[Sh]=function(t){return e.handleEvent(t)}),e[Sh])}function Th(){If.call(this),this.i=new hh(this),this.P=this,this.I=null}function Ch(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new ah(t,e);else if(t instanceof ah)t.target=t.target||e;else{var i=t;Vf(t=new ah(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Ah(o,r,!0,t)&&i}if(i=Ah(o=t.g=e,r,!0,t)&&i,i=Ah(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Ah(o=t.g=n[a],r,!1,t)&&i}function Ah(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&dh(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Ef(Th,If),Th.prototype[sh]=!0,Th.prototype.removeEventListener=function(e,t,n,r){wh(this,e,t,n,r)},Th.prototype.M=function(){if(Th.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)fh(n[r]);delete t.g[e],t.h--}}this.I=null},Th.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Th.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Nh=df.JSON.stringify;function Oh(){var e=jh,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ph,Rh=function(){function e(){an(this,e),this.h=this.g=null}return un(e,[{key:"add",value:function(e,t){var n=Dh.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Dh=new(function(){function e(t,n){an(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return un(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Lh}),(function(e){return e.reset()})),Lh=function(){function e(){an(this,e),this.next=this.g=this.h=null}return un(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Mh(e){df.setTimeout((function(){throw e}),0)}function Fh(e,t){Ph||function(){var e=df.Promise.resolve(void 0);Ph=function(){e.then(Vh)}}(),Uh||(Ph(),Uh=!0),jh.add(e,t)}var Uh=!1,jh=new Rh;function Vh(){for(var e;e=Oh();){try{e.h.call(e.g)}catch(n){Mh(n)}var t=Dh;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Uh=!1}function Bh(e,t){Th.call(this),this.h=e||1,this.g=t||df,this.j=bf(this.kb,this),this.l=Date.now()}function zh(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function qh(e,t,n){if("function"===typeof e)n&&(e=bf(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=bf(e.handleEvent,e)}return 2147483647<Number(t)?-1:df.setTimeout(e,t||0)}function Kh(e){e.g=qh((function(){e.g=null,e.i&&(e.i=!1,Kh(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Ef(Bh,Th),(cf=Bh.prototype).da=!1,cf.S=null,cf.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ch(this,"tick"),this.da&&(zh(this),this.start()))}},cf.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},cf.M=function(){Bh.Z.M.call(this),zh(this),delete this.g};var Hh=function(e){sn(n,e);var t=pn(n);function n(e,r){var i;return an(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return un(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Kh(this)}},{key:"M",value:function(){Qr(cn(n.prototype),"M",this).call(this),this.g&&(df.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(If);function Wh(e){If.call(this),this.h=e,this.g={}}Ef(Wh,If);var Gh=[];function Qh(e,t,n,r){Array.isArray(n)||(n&&(Gh[0]=n.toString()),n=Gh);for(var i=0;i<n.length;i++){var a=mh(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Yh(e){Ff(e.g,(function(e,t){this.g.hasOwnProperty(t)&&bh(e)}),e),e.g={}}function Xh(){this.g=!0}function Jh(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Nh(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Wh.prototype.M=function(){Wh.Z.M.call(this),Yh(this)},Wh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Xh.prototype.Aa=function(){this.g=!1},Xh.prototype.info=function(){};var $h={},Zh=null;function ed(){return Zh=Zh||new Th}function td(e){ah.call(this,$h.Ma,e)}function nd(e){var t=ed();Ch(t,new td(t,e))}function rd(e,t){ah.call(this,$h.STAT_EVENT,e),this.stat=t}function id(e){var t=ed();Ch(t,new rd(t,e))}function ad(e,t){ah.call(this,$h.Na,e),this.size=t}function od(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return df.setTimeout((function(){e()}),t)}$h.Ma="serverreachability",Ef(td,ah),$h.STAT_EVENT="statevent",Ef(rd,ah),$h.Na="timingevent",Ef(ad,ah);var ud={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},sd={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function cd(){}function ld(e){return e.h||(e.h=e.i())}function fd(){}cd.prototype.h=null;var hd,dd={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function pd(){ah.call(this,"d")}function vd(){ah.call(this,"c")}function yd(){}function md(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Wh(this),this.P=kd,e=Wf?125:void 0,this.W=new Bh(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new gd}function gd(){this.i=null,this.g="",this.h=!1}Ef(pd,ah),Ef(vd,ah),Ef(yd,cd),yd.prototype.g=function(){return new XMLHttpRequest},yd.prototype.i=function(){return{}},hd=new yd;var kd=45e3,wd={},bd={};function xd(e,t,n){e.K=1,e.v=Hd(jd(t)),e.s=n,e.U=!0,Ed(e,null)}function Ed(e,t){e.F=Date.now(),Td(e),e.A=jd(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),ip(n.h,"t",r),e.C=0,n=e.l.H,e.h=new gd,e.g=ov(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Hh(bf(e.Ia,e,e.g),e.O)),Qh(e.V,e.g,"readystatechange",e.gb),t=e.H?Uf(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),nd(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Id(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Sd(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=_d(e,n))==bd){4==t&&(e.o=4,id(14),i=!1),Jh(e.j,e.m,null,"[Incomplete Response]");break}if(r==wd){e.o=4,id(15),Jh(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Jh(e.j,e.m,r,null),Pd(e,r)}Id(e)&&r!=bd&&r!=wd&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,id(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),$p(t),t.L=!0,id(11))):(Jh(e.j,e.m,n,"[Invalid Chunked Response]"),Od(e),Nd(e))}function _d(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?bd:(n=Number(t.substring(n,r)),isNaN(n)?wd:(r+=1)+n>t.length?bd:(t=t.substr(r,n),e.C=r+n,t))}function Td(e){e.Y=Date.now()+e.P,Cd(e,e.P)}function Cd(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=od(bf(e.eb,e),t)}function Ad(e){e.B&&(df.clearTimeout(e.B),e.B=null)}function Nd(e){0==e.l.G||e.I||tv(e.l,e)}function Od(e){Ad(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,zh(e.W),Yh(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Pd(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||hp(n.i,e)))if(n.I=e.N,!e.J&&hp(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;ev(n),qp(n)}Jp(n),id(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=od(bf(n.ab,n),6e3));if(1>=fp(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else rv(n,11)}else if((e.J||n.g==e)&&ev(n),!Nf(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Rf(l,"spdy")||Rf(l,"quic")||Rf(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(dp(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Kd(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=av(r,r.H?r.la:null,r.W),d.J){pp(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Ad(p),Td(p)),r.g=d}else Xp(r);0<n.l.length&&Wp(n)}else"stop"!=a[0]&&"close"!=a[0]||rv(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?rv(n,7):zp(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}nd(4)}catch(a){}}function Rd(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(vf(e)||"string"===typeof e)Tf(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(vf(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(vf(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Dd(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Dd)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Ld(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Md(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Md(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Md(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(cf=md.prototype).setTimeout=function(e){this.P=e},cf.gb=function(e){e=e.target;var t=this.L;t&&3==Fp(e)?t.l():this.Ia(e)},cf.Ia=function(e){try{if(e==this.g)e:{var t=Fp(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Wf||this.g&&(this.h.h||this.g.ga()||Up(this.g)))){this.I||4!=t||7==n||nd(8==n||0>=r?3:2),Ad(this);var i=this.g.ba();this.N=i;t:if(Id(this)){var a=Up(this.g);e="";var o=a.length,u=4==Fp(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Od(this),Nd(this);var s="";break t}this.h.i=new df.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Nf(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,id(12),Od(this),Nd(this);break e}Jh(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Pd(this,i)}this.U?(Sd(this,t,s),Wf&&this.i&&3==t&&(Qh(this.V,this.W,"tick",this.fb),this.W.start())):(Jh(this.j,this.m,s,null),Pd(this,s)),4==t&&Od(this),this.i&&!this.I&&(4==t?tv(this.l,this):(this.i=!1,Td(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,id(12)):(this.o=0,id(13)),Od(this),Nd(this)}}}catch(t){}},cf.fb=function(){if(this.g){var e=Fp(this.g),t=this.g.ga();this.C<t.length&&(Ad(this),Sd(this,e,t),this.i&&4!=e&&Td(this))}},cf.cancel=function(){this.I=!0,Od(this)},cf.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(nd(3),id(17)),Od(this),this.o=2,Nd(this)):Cd(this,this.Y-e)},(cf=Dd.prototype).R=function(){Ld(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},cf.T=function(){return Ld(this),this.g.concat()},cf.get=function(e,t){return Md(this.h,e)?this.h[e]:t},cf.set=function(e,t){Md(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},cf.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Fd=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ud(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Ud){this.g=void 0!==t?t:e.g,Vd(this,e.j),this.s=e.s,Bd(this,e.i),zd(this,e.m),this.l=e.l,t=e.h;var n=new ep;n.i=t.i,t.g&&(n.g=new Dd(t.g),n.h=t.h),qd(this,n),this.o=e.o}else e&&(n=String(e).match(Fd))?(this.g=!!t,Vd(this,n[1]||"",!0),this.s=Wd(n[2]||""),Bd(this,n[3]||"",!0),zd(this,n[4]),this.l=Wd(n[5]||"",!0),qd(this,n[6]||"",!0),this.o=Wd(n[7]||"")):(this.g=!!t,this.h=new ep(null,this.g))}function jd(e){return new Ud(e)}function Vd(e,t,n){e.j=n?Wd(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Bd(e,t,n){e.i=n?Wd(t,!0):t}function zd(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function qd(e,t,n){t instanceof ep?(e.h=t,function(e,t){t&&!e.j&&(tp(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(np(this,t),ip(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Gd(t,$d)),e.h=new ep(t,e.g))}function Kd(e,t,n){e.h.set(t,n)}function Hd(e){return Kd(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Wd(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Gd(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Qd),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Qd(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ud.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Gd(t,Yd,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Gd(t,Yd,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Gd(n,"/"==n.charAt(0)?Jd:Xd,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Gd(n,Zd)),e.join("")};var Yd=/[#\/\?@]/g,Xd=/[#\?:]/g,Jd=/[#\?]/g,$d=/[#\?@]/g,Zd=/#/g;function ep(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function tp(e){e.g||(e.g=new Dd,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function np(e,t){tp(e),t=ap(e,t),Md(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Md((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Ld(e)))}function rp(e,t){return tp(e),t=ap(e,t),Md(e.g.h,t)}function ip(e,t,n){np(e,t),0<n.length&&(e.i=null,e.g.set(ap(e,t),Af(n)),e.h+=n.length)}function ap(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(cf=ep.prototype).add=function(e,t){tp(this),this.i=null,e=ap(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},cf.forEach=function(e,t){tp(this),this.g.forEach((function(n,r){Tf(n,(function(n){e.call(t,n,r,this)}),this)}),this)},cf.T=function(){tp(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},cf.R=function(e){tp(this);var t=[];if("string"===typeof e)rp(this,e)&&(t=Cf(t,this.g.get(ap(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Cf(t,e[n])}return t},cf.set=function(e,t){return tp(this),this.i=null,rp(this,e=ap(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},cf.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},cf.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var op=un((function e(t,n){an(this,e),this.h=t,this.g=n}));function up(e){this.l=e||cp,df.PerformanceNavigationTiming?e=0<(e=df.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(df.g&&df.g.Ea&&df.g.Ea()&&df.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var sp,cp=10;function lp(e){return!!e.h||!!e.g&&e.g.size>=e.j}function fp(e){return e.h?1:e.g?e.g.size:0}function hp(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function dp(e,t){e.g?e.g.add(t):e.h=t}function pp(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function vp(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=mn(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Af(e.i)}function yp(){}function mp(){this.g=new yp}function gp(e,t,n){var r=n||"";try{Rd(e,(function(e,n){var i=e;yf(e)&&(i=Nh(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function kp(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function wp(e){this.l=e.$b||null,this.j=e.ib||!1}function bp(e,t){Th.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=xp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}up.prototype.cancel=function(){if(this.i=vp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=mn(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},yp.prototype.stringify=function(e){return df.JSON.stringify(e,void 0)},yp.prototype.parse=function(e){return df.JSON.parse(e,void 0)},Ef(wp,cd),wp.prototype.g=function(){return new bp(this.l,this.j)},wp.prototype.i=(sp={},function(){return sp}),Ef(bp,Th);var xp=0;function Ep(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Ip(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Sp(e)}function Sp(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(cf=bp.prototype).open=function(e,t){if(this.readyState!=xp)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Sp(this)},cf.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||df).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},cf.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ip(this)),this.readyState=xp},cf.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Sp(this)),this.g&&(this.readyState=3,Sp(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof df.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ep(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},cf.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ip(this):Sp(this),3==this.readyState&&Ep(this)}},cf.Ua=function(e){this.g&&(this.response=this.responseText=e,Ip(this))},cf.Ta=function(e){this.g&&(this.response=e,Ip(this))},cf.ha=function(){this.g&&Ip(this)},cf.setRequestHeader=function(e,t){this.v.append(e,t)},cf.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},cf.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(bp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var _p=df.JSON.parse;function Tp(e){Th.call(this),this.headers=new Dd,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Cp,this.K=this.L=!1}Ef(Tp,Th);var Cp="",Ap=/^https?$/i,Np=["POST","PUT"];function Op(e){return"content-type"==e.toLowerCase()}function Pp(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Rp(e),Lp(e)}function Rp(e){e.D||(e.D=!0,Ch(e,"complete"),Ch(e,"error"))}function Dp(e){if(e.h&&"undefined"!=typeof hf&&(!e.C[1]||4!=Fp(e)||2!=e.ba()))if(e.v&&4==Fp(e))qh(e.Fa,0,e);else if(Ch(e,"readystatechange"),4==Fp(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Fd)[1]||null;if(!a&&df.self&&df.self.location){var o=df.self.location.protocol;a=o.substr(0,o.length-1)}i=!Ap.test(a?a.toLowerCase():"")}t=i}if(t)Ch(e,"complete"),Ch(e,"success");else{e.m=6;try{var u=2<Fp(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",Rp(e)}}finally{Lp(e)}}}function Lp(e,t){if(e.g){Mp(e);var n=e.g,r=e.C[0]?pf:null;e.g=null,e.C=null,t||Ch(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Mp(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(df.clearTimeout(e.A),e.A=null)}function Fp(e){return e.g?e.g.readyState:0}function Up(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Cp:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(KT){return null}}function jp(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Ff(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Kd(e,t,n))}function Vp(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Bp(e){this.za=0,this.l=[],this.h=new Xh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Vp("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Vp("baseRetryDelayMs",5e3,e),this.$a=Vp("retryDelaySeedMs",1e4,e),this.Ya=Vp("forwardChannelMaxRetries",2,e),this.ra=Vp("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new up(e&&e.concurrentRequestLimit),this.Ca=new mp,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function zp(e){if(Kp(e),3==e.G){var t=e.V++,n=jd(e.F);Kd(n,"SID",e.J),Kd(n,"RID",t),Kd(n,"TYPE","terminate"),Qp(e,n),(t=new md(e,e.h,t,void 0)).K=2,t.v=Hd(jd(n)),n=!1,df.navigator&&df.navigator.sendBeacon&&(n=df.navigator.sendBeacon(t.v.toString(),"")),!n&&df.Image&&((new Image).src=t.v,n=!0),n||(t.g=ov(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Td(t)}iv(e)}function qp(e){e.g&&($p(e),e.g.cancel(),e.g=null)}function Kp(e){qp(e),e.u&&(df.clearTimeout(e.u),e.u=null),ev(e),e.i.cancel(),e.m&&("number"===typeof e.m&&df.clearTimeout(e.m),e.m=null)}function Hp(e,t){e.l.push(new op(e.Za++,t)),3==e.G&&Wp(e)}function Wp(e){lp(e.i)||e.m||(e.m=!0,Fh(e.Ha,e),e.C=0)}function Gp(e,t){var n;n=t?t.m:e.V++;var r=jd(e.F);Kd(r,"SID",e.J),Kd(r,"RID",n),Kd(r,"AID",e.U),Qp(e,r),e.o&&e.s&&jp(r,e.o,e.s),n=new md(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Yp(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),dp(e.i,n),xd(n,r,t)}function Qp(e,t){e.j&&Rd({},(function(e,n){Kd(t,n,e)}))}function Yp(e,t,n){n=Math.min(e.l.length,n);var r=e.j?bf(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{gp(l,o,"req"+c+"_")}catch(Dv){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Xp(e){e.g||e.u||(e.Y=1,Fh(e.Ga,e),e.A=0)}function Jp(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=od(bf(e.Ga,e),nv(e,e.A)),e.A++,!0)}function $p(e){null!=e.B&&(df.clearTimeout(e.B),e.B=null)}function Zp(e){e.g=new md(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=jd(e.oa);Kd(t,"RID","rpc"),Kd(t,"SID",e.J),Kd(t,"CI",e.N?"0":"1"),Kd(t,"AID",e.U),Qp(e,t),Kd(t,"TYPE","xmlhttp"),e.o&&e.s&&jp(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Hd(jd(t)),n.s=null,n.U=!0,Ed(n,e)}function ev(e){null!=e.v&&(df.clearTimeout(e.v),e.v=null)}function tv(e,t){var n=null;if(e.g==t){ev(e),$p(e),e.g=null;var r=2}else{if(!hp(e.i,t))return;n=t.D,pp(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Ch(r=ed(),new ad(r,n,t,i)),Wp(e)}else Xp(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(fp(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=od(bf(e.Ha,e,t),nv(e,e.C)),e.C++,!0))}(e,t)||2==r&&Jp(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:rv(e,5);break;case 4:rv(e,10);break;case 3:rv(e,6);break;default:rv(e,2)}}function nv(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function rv(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=bf(e.jb,e);n||(n=new Ud("//www.google.com/images/cleardot.gif"),df.location&&"http"==df.location.protocol||Vd(n,"https"),Hd(n)),function(e,t){var n=new Xh;if(df.Image){var r=new Image;r.onload=xf(kp,n,r,"TestLoadImage: loaded",!0,t),r.onerror=xf(kp,n,r,"TestLoadImage: error",!1,t),r.onabort=xf(kp,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=xf(kp,n,r,"TestLoadImage: timeout",!1,t),df.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else id(2);e.G=0,e.j&&e.j.va(t),iv(e),Kp(e)}function iv(e){e.G=0,e.I=-1,e.j&&(0==vp(e.i).length&&0==e.l.length||(e.i.i.length=0,Af(e.l),e.l.length=0),e.j.ua())}function av(e,t,n){var r=function(e){return e instanceof Ud?jd(e):new Ud(e,void 0)}(n);if(""!=r.i)t&&Bd(r,t+"."+r.i),zd(r,r.m);else{var i=df.location;r=function(e,t,n,r){var i=new Ud(null,void 0);return e&&Vd(i,e),t&&Bd(i,t),n&&zd(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Ff(e.aa,(function(e,t){Kd(r,t,e)})),t=e.D,n=e.sa,t&&n&&Kd(r,t,n),Kd(r,"VER",e.ma),Qp(e,r),r}function ov(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Tp(new wp({ib:!0})):new Tp(e.qa)).L=e.H,t}function uv(){}function sv(){if(Kf&&!(10<=Number(rh)))throw Error("Environmental error: no available transport.")}function cv(e,t){Th.call(this),this.g=new Bp(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Nf(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Nf(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new hv(this)}function lv(e){pd.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function fv(){vd.call(this),this.status=1}function hv(e){this.g=e}(cf=Tp.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():hd.g(),this.C=this.u?ld(this.u):ld(hd),this.g.onreadystatechange=bf(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Pp(this,a)}e=n||"";var i=new Dd(this.headers);r&&Rd(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Op,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=df.FormData&&e instanceof df.FormData,!(0<=_f(Np,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Mp(this),0<this.B&&((this.K=function(e){return Kf&&th()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=bf(this.pa,this)):this.A=qh(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Pp(this,a)}},cf.pa=function(){"undefined"!=typeof hf&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ch(this,"timeout"),this.abort(8))},cf.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ch(this,"complete"),Ch(this,"abort"),Lp(this))},cf.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Lp(this,!0)),Tp.Z.M.call(this)},cf.Fa=function(){this.s||(this.F||this.v||this.l?Dp(this):this.cb())},cf.cb=function(){Dp(this)},cf.ba=function(){try{return 2<Fp(this)?this.g.status:-1}catch(sp){return-1}},cf.ga=function(){try{return this.g?this.g.responseText:""}catch(sp){return""}},cf.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),_p(t)}},cf.Da=function(){return this.m},cf.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(cf=Bp.prototype).ma=8,cf.G=1,cf.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(KT){}},cf.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new md(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Vf(n=Uf(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Yp(this,t,r),Kd(i=jd(this.F),"RID",e),Kd(i,"CVER",22),this.D&&Kd(i,"X-HTTP-Session-Id",this.D),Qp(this,i),this.o&&n&&jp(i,this.o,n),dp(this.i,t),this.Ra&&Kd(i,"TYPE","init"),this.ja?(Kd(i,"$req",r),Kd(i,"SID","null"),t.$=!0,xd(t,i,null)):xd(t,i,r),this.G=2}}else 3==this.G&&(e?Gp(this,e):0==this.l.length||lp(this.i)||Gp(this))},cf.Ga=function(){if(this.u=null,Zp(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=od(bf(this.bb,this),e)}},cf.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,id(10),qp(this),Zp(this))},cf.ab=function(){null!=this.v&&(this.v=null,qp(this),Jp(this),id(19))},cf.jb=function(e){e?(this.h.info("Successfully pinged google.com"),id(2)):(this.h.info("Failed to ping google.com"),id(1))},(cf=uv.prototype).xa=function(){},cf.wa=function(){},cf.va=function(){},cf.ua=function(){},cf.Oa=function(){},sv.prototype.g=function(e,t){return new cv(e,t)},Ef(cv,Th),cv.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Fh(bf(e.hb,e,t))),id(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=av(e,null,e.W),Wp(e)},cv.prototype.close=function(){zp(this.g)},cv.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Hp(this.g,t)}else this.v?((t={}).__data__=Nh(e),Hp(this.g,t)):Hp(this.g,e)},cv.prototype.M=function(){this.g.j=null,delete this.j,zp(this.g),delete this.g,cv.Z.M.call(this)},Ef(lv,pd),Ef(fv,vd),Ef(hv,uv),hv.prototype.xa=function(){Ch(this.g,"a")},hv.prototype.wa=function(e){Ch(this.g,new lv(e))},hv.prototype.va=function(e){Ch(this.g,new fv(e))},hv.prototype.ua=function(){Ch(this.g,"b")},sv.prototype.createWebChannel=sv.prototype.g,cv.prototype.send=cv.prototype.u,cv.prototype.open=cv.prototype.m,cv.prototype.close=cv.prototype.close,ud.NO_ERROR=0,ud.TIMEOUT=8,ud.HTTP_ERROR=6,sd.COMPLETE="complete",fd.EventType=dd,dd.OPEN="a",dd.CLOSE="b",dd.ERROR="c",dd.MESSAGE="d",Th.prototype.listen=Th.prototype.N,Tp.prototype.listenOnce=Tp.prototype.O,Tp.prototype.getLastError=Tp.prototype.La,Tp.prototype.getLastErrorCode=Tp.prototype.Da,Tp.prototype.getStatus=Tp.prototype.ba,Tp.prototype.getResponseJson=Tp.prototype.Qa,Tp.prototype.getResponseText=Tp.prototype.ga,Tp.prototype.send=Tp.prototype.ea;var dv=ff.createWebChannelTransport=function(){return new sv},pv=ff.getStatEventTarget=function(){return ed()},vv=ff.ErrorCode=ud,yv=ff.EventType=sd,mv=ff.Event=$h,gv=ff.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},kv=ff.FetchXmlHttpFactory=wp,wv=ff.WebChannel=fd,bv=ff.XhrIo=Tp,xv="@firebase/firestore",Ev=function(){function e(t){an(this,e),this.uid=t}return un(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Ev.UNAUTHENTICATED=new Ev(null),Ev.GOOGLE_CREDENTIALS=new Ev("google-credentials-uid"),Ev.FIRST_PARTY=new Ev("first-party-uid"),Ev.MOCK_USER=new Ev("mock-user");var Iv="9.6.7",Sv=new fr("@firebase/firestore");function _v(){return Sv.logLevel}function Tv(e){if(Sv.logLevel<=nr.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Nv);Sv.debug.apply(Sv,["Firestore (".concat(Iv,"): ").concat(e)].concat(Bt(i)))}}function Cv(e){if(Sv.logLevel<=nr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Nv);Sv.error.apply(Sv,["Firestore (".concat(Iv,"): ").concat(e)].concat(Bt(i)))}}function Av(e){if(Sv.logLevel<=nr.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Nv);Sv.warn.apply(Sv,["Firestore (".concat(Iv,"): ").concat(e)].concat(Bt(i)))}}function Nv(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Ov(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Iv,") INTERNAL ASSERTION FAILED: ")+e;throw Cv(t),new Error(t)}function Pv(e,t){e||Ov()}function Rv(e,t){return e}var Dv={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Lv=function(e){sn(n,e);var t=pn(n);function n(e,r){var i;return an(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return un(n)}(Un),Mv=un((function e(){var t=this;an(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Fv=un((function e(t,n){an(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Uv=function(){function e(){an(this,e)}return un(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Ev.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),jv=function(){function e(t){an(this,e),this.token=t,this.changeListener=null}return un(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Vv=function(){function e(t){an(this,e),this.t=t,this.currentUser=Ev.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return un(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Mv;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Mv,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(rn(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Tv("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Tv("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Mv)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Tv("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Pv("string"==typeof n.accessToken),new Fv(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Pv(null===e||"string"==typeof e),new Ev(e)}}]),e}(),Bv=un((function e(t,n,r){an(this,e),this.type="FirstParty",this.user=Ev.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),zv=function(){function e(t,n,r){an(this,e),this.h=t,this.l=n,this.m=r}return un(e,[{key:"getToken",value:function(){return Promise.resolve(new Bv(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Ev.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),qv=un((function e(t){an(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Kv=function(){function e(t){an(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return un(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Tv("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,Tv("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Tv("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):Tv("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Pv("string"==typeof t.token),e.p=t.token,new qv(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),Hv=function(){function e(t,n){var r=this;an(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return un(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Wv(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Hv.A=-1;var Gv=function(){function e(){an(this,e)}return un(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Wv(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Qv(e,t){return e<t?-1:e>t?1:0}function Yv(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Xv(e){return e+"\0"}var Jv=function(){function e(t,n){if(an(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Lv(Dv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Lv(Dv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Lv(Dv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Lv(Dv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return un(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Qv(this.nanoseconds,e.nanoseconds):Qv(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),$v=function(){function e(t){an(this,e),this.timestamp=t}return un(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Jv(0,0))}}]),e}();function Zv(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ey(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ty(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var ny=function(){function e(t,n,r){an(this,e),void 0===n?n=0:n>t.length&&Ov(),void 0===r?r=t.length-n:r>t.length-n&&Ov(),this.segments=t,this.offset=n,this.len=r}return un(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),ry=function(e){sn(n,e);var t=pn(n);function n(){return an(this,n),t.apply(this,arguments)}return un(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Lv(Dv.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,Bt(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(ny),iy=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ay=function(e){sn(n,e);var t=pn(n);function n(){return an(this,n),t.apply(this,arguments)}return un(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return iy.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Lv(Dv.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Lv(Dv.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Lv(Dv.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Lv(Dv.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(ny),oy=function(){function e(t){an(this,e),this.fields=t,t.sort(ay.comparator)}return un(e,[{key:"covers",value:function(e){var t,n=mn(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Yv(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var uy=function(e){function t(e){an(this,t),this.binaryString=e}return un(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Qv(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();uy.EMPTY_BYTE_STRING=new uy("");var sy=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cy(e){if(Pv(!!e),"string"==typeof e){var t=0,n=sy.exec(e);if(Pv(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ly(e.seconds),nanos:ly(e.nanos)}}function ly(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function fy(e){return"string"==typeof e?uy.fromBase64String(e):uy.fromUint8Array(e)}function hy(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function dy(e){var t=e.mapValue.fields.__previous_value__;return hy(t)?dy(t):t}function py(e){var t=cy(e.mapValue.fields.__local_write_time__.timestampValue);return new Jv(t.seconds,t.nanos)}var vy=un((function e(t,n,r,i,a,o,u,s){an(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),yy=function(){function e(t,n){an(this,e),this.projectId=t,this.database=n||"(default)"}return un(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function my(e){return null==e}function gy(e){return 0===e&&1/e==-1/0}function ky(e){return"number"==typeof e&&Number.isInteger(e)&&!gy(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var wy=function(){function e(t){an(this,e),this.path=t}return un(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===ry.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(ry.fromString(t))}},{key:"fromName",value:function(t){return new e(ry.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(ry.emptyPath())}},{key:"comparator",value:function(e,t){return ry.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new ry(t.slice()))}}]),e}(),by={mapValue:{fields:{__type__:{stringValue:"__max___"}}}};function xy(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?hy(e)?4:10:Ov()}function Ey(e,t){if(e===t)return!0;var n=xy(e);if(n!==xy(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return py(e).isEqual(py(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=cy(e.timestampValue),r=cy(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return fy(e.bytesValue).isEqual(fy(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ly(e.geoPointValue.latitude)===ly(t.geoPointValue.latitude)&&ly(e.geoPointValue.longitude)===ly(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ly(e.integerValue)===ly(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=ly(e.doubleValue),r=ly(t.doubleValue);return n===r?gy(n)===gy(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Yv(e.arrayValue.values||[],t.arrayValue.values||[],Ey);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Zv(n)!==Zv(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ey(n[i],r[i])))return!1;return!0}(e,t);default:return Ov()}}function Iy(e,t){return void 0!==(e.values||[]).find((function(e){return Ey(e,t)}))}function Sy(e,t){if(e===t)return 0;var n=xy(e),r=xy(t);if(n!==r)return Qv(n,r);switch(n){case 0:return 0;case 1:return Qv(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=ly(e.integerValue||e.doubleValue),r=ly(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return _y(e.timestampValue,t.timestampValue);case 4:return _y(py(e),py(t));case 5:return Qv(e.stringValue,t.stringValue);case 6:return function(e,t){var n=fy(e),r=fy(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Qv(n[i],r[i]);if(0!==a)return a}return Qv(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Qv(ly(e.latitude),ly(t.latitude));return 0!==n?n:Qv(ly(e.longitude),ly(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Sy(n[i],r[i]);if(a)return a}return Qv(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Qv(r[o],a[o]);if(0!==u)return u;var s=Sy(n[r[o]],i[a[o]]);if(0!==s)return s}return Qv(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Ov()}}function _y(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Qv(e,t);var n=cy(e),r=cy(t),i=Qv(n.seconds,r.seconds);return 0!==i?i:Qv(n.nanos,r.nanos)}function Ty(e){return Cy(e)}function Cy(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=cy(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?fy(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,wy.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=mn(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Cy(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=mn(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Cy(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Ov();var t,n}function Ay(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Ny(e){return!!e&&"integerValue"in e}function Oy(e){return!!e&&"arrayValue"in e}function Py(e){return!!e&&"nullValue"in e}function Ry(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Dy(e){return!!e&&"mapValue"in e}function Ly(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return ey(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Ly(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Ly(e.arrayValue.values[r]);return n}return Object.assign({},e)}var My=function(){function e(t){an(this,e),this.value=t}return un(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Dy(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ly(t)}},{key:"setAll",value:function(e){var t=this,n=ay.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Ly(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Dy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Ey(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Dy(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){ey(t,(function(t,n){return e[t]=n}));var r,i=mn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Ly(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Fy(e){var t=[];return ey(e.fields,(function(e,n){var r=new ay([e]);if(Dy(n)){var i=Fy(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=mn(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new oy(t)}var Uy=function(){function e(t,n,r,i,a,o){an(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return un(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=My.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=My.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,$v.min(),$v.min(),My.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,$v.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,$v.min(),My.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,$v.min(),My.empty(),2)}}]),e}(),jy=un((function e(t,n,r,i){an(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));jy.UNKNOWN_ID=-1;var Vy=un((function e(t,n){an(this,e),this.fieldPath=t,this.kind=n})),By=function(){function e(t,n){an(this,e),this.sequenceNumber=t,this.offset=n}return un(e,null,[{key:"empty",value:function(){return new e(0,zy.min())}}]),e}(),zy=function(){function e(t,n,r){an(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return un(e,null,[{key:"min",value:function(){return new e($v.min(),wy.empty(),-1)}}]),e}(),qy=un((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;an(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.P=null}));function Ky(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new qy(e,t,n,r,i,a,o)}function Hy(e){var t=Rv(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Ty(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),my(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Ty(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Ty(e)})).join(",")),t.P=n}return t.P}function Wy(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!am(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Ey(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!um(e.startAt,t.startAt)&&um(e.endAt,t.endAt)}function Gy(e){return wy.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Qy=function(e){sn(n,e);var t=pn(n);function n(e,r,i){var a;return an(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return un(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.V(Sy(t,this.value)):null!==t&&xy(this.value)===xy(t)&&this.V(Sy(t,this.value))}},{key:"V",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ov()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.v(e,t,r):new Yy(e,t,r):"array-contains"===t?new Zy(e,r):"in"===t?new em(e,r):"not-in"===t?new tm(e,r):"array-contains-any"===t?new nm(e,r):new n(e,t,r)}},{key:"v",value:function(e,t,n){return"in"===t?new Xy(e,n):new Jy(e,n)}}]),n}(function(){return un((function e(){an(this,e)}))}()),Yy=function(e){sn(n,e);var t=pn(n);function n(e,r,i){var a;return an(this,n),(a=t.call(this,e,r,i)).key=wy.fromName(i.referenceValue),a}return un(n,[{key:"matches",value:function(e){var t=wy.comparator(e.key,this.key);return this.V(t)}}]),n}(Qy),Xy=function(e){sn(n,e);var t=pn(n);function n(e,r){var i;return an(this,n),(i=t.call(this,e,"in",r)).keys=$y("in",r),i}return un(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Qy),Jy=function(e){sn(n,e);var t=pn(n);function n(e,r){var i;return an(this,n),(i=t.call(this,e,"not-in",r)).keys=$y("not-in",r),i}return un(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Qy);function $y(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return wy.fromName(e.referenceValue)}))}var Zy=function(e){sn(n,e);var t=pn(n);function n(e,r){return an(this,n),t.call(this,e,"array-contains",r)}return un(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Oy(t)&&Iy(t.arrayValue,this.value)}}]),n}(Qy),em=function(e){sn(n,e);var t=pn(n);function n(e,r){return an(this,n),t.call(this,e,"in",r)}return un(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Iy(this.value.arrayValue,t)}}]),n}(Qy),tm=function(e){sn(n,e);var t=pn(n);function n(e,r){return an(this,n),t.call(this,e,"not-in",r)}return un(n,[{key:"matches",value:function(e){if(Iy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Iy(this.value.arrayValue,t)}}]),n}(Qy),nm=function(e){sn(n,e);var t=pn(n);function n(e,r){return an(this,n),t.call(this,e,"array-contains-any",r)}return un(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Oy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Iy(t.value.arrayValue,e)}))}}]),n}(Qy),rm=un((function e(t,n){an(this,e),this.position=t,this.inclusive=n})),im=un((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";an(this,e),this.field=t,this.dir=n}));function am(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function om(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?wy.comparator(wy.fromName(o.referenceValue),n.key):Sy(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function um(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Ey(e.position[n],t.position[n]))return!1;return!0}var sm=un((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;an(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.D=null,this.C=null,this.startAt,this.endAt}));function cm(e,t,n,r,i,a,o,u){return new sm(e,t,n,r,i,a,o,u)}function lm(e){return new sm(e)}function fm(e){return!my(e.limit)&&"F"===e.limitType}function hm(e){return!my(e.limit)&&"L"===e.limitType}function dm(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function pm(e){var t,n=mn(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function vm(e){return null!==e.collectionGroup}function ym(e){var t=Rv(e);if(null===t.D){t.D=[];var n=pm(t),r=dm(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new im(n)),t.D.push(new im(ay.keyField(),"asc"));else{var i,a=!1,o=mn(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new im(ay.keyField(),s))}}}return t.D}function mm(e){var t=Rv(e);if(!t.C)if("F"===t.limitType)t.C=Ky(t.path,t.collectionGroup,ym(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=mn(ym(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new im(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new rm(t.endAt.position,!t.endAt.inclusive):null,s=t.startAt?new rm(t.startAt.position,!t.startAt.inclusive):null;t.C=Ky(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function gm(e,t,n){return new sm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function km(e,t){return Wy(mm(e),mm(t))&&e.limitType===t.limitType}function wm(e){return"".concat(Hy(mm(e)),"|lt:").concat(e.limitType)}function bm(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Ty(t.value));var t})).join(", "),"]")),my(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Ty(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Ty(e)})).join(",")),"Target(".concat(t,")")}(mm(e)),"; limitType=").concat(e.limitType,")")}function xm(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):wy.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=mn(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=mn(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=om(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,ym(e),t))&&!(e.endAt&&!function(e,t,n){var r=om(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,ym(e),t))}(e,t)}function Em(e){return function(t,n){var r,i=!1,a=mn(ym(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Im(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Im(e,t,n){var r=e.field.isKeyField()?wy.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Sy(r,i):Ov()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ov()}}function Sm(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gy(t)?"-0":t}}function _m(e){return{integerValue:""+e}}function Tm(e,t){return ky(t)?_m(t):Sm(e,t)}var Cm=un((function e(){an(this,e),this._=void 0}));function Am(e,t,n){return e instanceof Pm?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Rm?Dm(e,t):e instanceof Lm?Mm(e,t):function(e,t){var n=Om(e,t),r=Um(n)+Um(e.k);return Ny(n)&&Ny(e.k)?_m(r):Sm(e.O,r)}(e,t)}function Nm(e,t,n){return e instanceof Rm?Dm(e,t):e instanceof Lm?Mm(e,t):n}function Om(e,t){return e instanceof Fm?Ny(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Pm=function(e){sn(n,e);var t=pn(n);function n(){return an(this,n),t.apply(this,arguments)}return un(n)}(Cm),Rm=function(e){sn(n,e);var t=pn(n);function n(e){var r;return an(this,n),(r=t.call(this)).elements=e,r}return un(n)}(Cm);function Dm(e,t){var n,r=jm(t),i=mn(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Ey(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Lm=function(e){sn(n,e);var t=pn(n);function n(e){var r;return an(this,n),(r=t.call(this)).elements=e,r}return un(n)}(Cm);function Mm(e,t){var n,r=jm(t),i=mn(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Ey(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Fm=function(e){sn(n,e);var t=pn(n);function n(e,r){var i;return an(this,n),(i=t.call(this)).O=e,i.k=r,i}return un(n)}(Cm);function Um(e){return ly(e.integerValue||e.doubleValue)}function jm(e){return Oy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Vm=un((function e(t,n){an(this,e),this.field=t,this.transform=n}));var Bm=un((function e(t,n){an(this,e),this.version=t,this.transformResults=n})),zm=function(){function e(t,n){an(this,e),this.updateTime=t,this.exists=n}return un(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function qm(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Km=un((function e(){an(this,e)}));function Hm(e,t,n){e instanceof Xm?function(e,t,n){var r=e.value.clone(),i=Zm(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Jm?function(e,t,n){if(qm(e.precondition,t)){var r=Zm(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll($m(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Wm(e,t,n){e instanceof Xm?function(e,t,n){if(qm(e.precondition,t)){var r=e.value.clone(),i=eg(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Ym(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Jm?function(e,t,n){if(qm(e.precondition,t)){var r=eg(e.fieldTransforms,n,t),i=t.data;i.setAll($m(e)),i.setAll(r),t.convertToFoundDocument(Ym(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){qm(e.precondition,t)&&t.convertToNoDocument($v.min())}(e,t)}function Gm(e,t){var n,r=null,i=mn(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Om(a.transform,o||null);null!=u&&(null==r&&(r=My.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Qm(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Yv(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Rm&&t instanceof Rm||e instanceof Lm&&t instanceof Lm?Yv(e.elements,t.elements,Ey):e instanceof Fm&&t instanceof Fm?Ey(e.k,t.k):e instanceof Pm&&t instanceof Pm}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Ym(e){return e.isFoundDocument()?e.version:$v.min()}var Xm=function(e){sn(n,e);var t=pn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return an(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return un(n)}(Km),Jm=function(e){sn(n,e);var t=pn(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return an(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return un(n)}(Km);function $m(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Zm(e,t,n){var r=new Map;Pv(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Nm(o,u,n[i]))}return r}function eg(e,t,n){var r,i=new Map,a=mn(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Am(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var tg,ng,rg=function(e){sn(n,e);var t=pn(n);function n(e,r){var i;return an(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return un(n)}(Km),ig=function(e){sn(n,e);var t=pn(n);function n(e,r){var i;return an(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return un(n)}(Km),ag=un((function e(t){an(this,e),this.count=t}));function og(e){switch(e){default:return Ov();case Dv.CANCELLED:case Dv.UNKNOWN:case Dv.DEADLINE_EXCEEDED:case Dv.RESOURCE_EXHAUSTED:case Dv.INTERNAL:case Dv.UNAVAILABLE:case Dv.UNAUTHENTICATED:return!1;case Dv.INVALID_ARGUMENT:case Dv.NOT_FOUND:case Dv.ALREADY_EXISTS:case Dv.PERMISSION_DENIED:case Dv.FAILED_PRECONDITION:case Dv.ABORTED:case Dv.OUT_OF_RANGE:case Dv.UNIMPLEMENTED:case Dv.DATA_LOSS:return!0}}function ug(e){if(void 0===e)return Cv("GRPC error has no .code"),Dv.UNKNOWN;switch(e){case tg.OK:return Dv.OK;case tg.CANCELLED:return Dv.CANCELLED;case tg.UNKNOWN:return Dv.UNKNOWN;case tg.DEADLINE_EXCEEDED:return Dv.DEADLINE_EXCEEDED;case tg.RESOURCE_EXHAUSTED:return Dv.RESOURCE_EXHAUSTED;case tg.INTERNAL:return Dv.INTERNAL;case tg.UNAVAILABLE:return Dv.UNAVAILABLE;case tg.UNAUTHENTICATED:return Dv.UNAUTHENTICATED;case tg.INVALID_ARGUMENT:return Dv.INVALID_ARGUMENT;case tg.NOT_FOUND:return Dv.NOT_FOUND;case tg.ALREADY_EXISTS:return Dv.ALREADY_EXISTS;case tg.PERMISSION_DENIED:return Dv.PERMISSION_DENIED;case tg.FAILED_PRECONDITION:return Dv.FAILED_PRECONDITION;case tg.ABORTED:return Dv.ABORTED;case tg.OUT_OF_RANGE:return Dv.OUT_OF_RANGE;case tg.UNIMPLEMENTED:return Dv.UNIMPLEMENTED;case tg.DATA_LOSS:return Dv.DATA_LOSS;default:return Ov()}}(ng=tg||(tg={}))[ng.OK=0]="OK",ng[ng.CANCELLED=1]="CANCELLED",ng[ng.UNKNOWN=2]="UNKNOWN",ng[ng.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ng[ng.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ng[ng.NOT_FOUND=5]="NOT_FOUND",ng[ng.ALREADY_EXISTS=6]="ALREADY_EXISTS",ng[ng.PERMISSION_DENIED=7]="PERMISSION_DENIED",ng[ng.UNAUTHENTICATED=16]="UNAUTHENTICATED",ng[ng.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ng[ng.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ng[ng.ABORTED=10]="ABORTED",ng[ng.OUT_OF_RANGE=11]="OUT_OF_RANGE",ng[ng.UNIMPLEMENTED=12]="UNIMPLEMENTED",ng[ng.INTERNAL=13]="INTERNAL",ng[ng.UNAVAILABLE=14]="UNAVAILABLE",ng[ng.DATA_LOSS=15]="DATA_LOSS";var sg=function(){function e(t,n){an(this,e),this.comparator=t,this.root=n||lg.EMPTY}return un(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,lg.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,lg.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new cg(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new cg(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new cg(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new cg(this.root,e,this.comparator,!0)}}]),e}(),cg=function(){function e(t,n,r,i){an(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return un(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),lg=function(){function e(t,n,r,i,a){an(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return un(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Ov();if(this.right.isRed())throw Ov();var e=this.left.check();if(e!==this.right.check())throw Ov();return e+(this.isRed()?0:1)}}]),e}();lg.EMPTY=null,lg.RED=!0,lg.BLACK=!1,lg.EMPTY=new(function(){function e(){an(this,e),this.size=0}return un(e,[{key:"key",get:function(){throw Ov()}},{key:"value",get:function(){throw Ov()}},{key:"color",get:function(){throw Ov()}},{key:"left",get:function(){throw Ov()}},{key:"right",get:function(){throw Ov()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new lg(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var fg=function(){function e(t){an(this,e),this.comparator=t,this.data=new sg(this.comparator)}return un(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new hg(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new hg(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),hg=function(){function e(t){an(this,e),this.iter=t}return un(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function dg(e){return e.hasNext()?e.getNext():void 0}var pg=new sg(wy.comparator);function vg(){return pg}var yg=new sg(wy.comparator);function mg(){return yg}var gg=new sg(wy.comparator),kg=new fg(wy.comparator);function wg(){for(var e=kg,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var bg=new fg(Qv);function xg(){return bg}var Eg=function(){function e(t,n,r,i,a){an(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return un(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Ig.createSynthesizedTargetChangeForCurrentChange(t,n)),new e($v.min(),r,xg(),vg(),wg())}}]),e}(),Ig=function(){function e(t,n,r,i,a){an(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return un(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(uy.EMPTY_BYTE_STRING,n,wg(),wg(),wg())}}]),e}(),Sg=un((function e(t,n,r,i){an(this,e),this.M=t,this.removedTargetIds=n,this.key=r,this.$=i})),_g=un((function e(t,n){an(this,e),this.targetId=t,this.F=n})),Tg=un((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:uy.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;an(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Cg=function(){function e(){an(this,e),this.B=0,this.L=Og(),this.U=uy.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}return un(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}},{key:"H",value:function(){var e=wg(),t=wg(),n=wg();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ov()}})),new Ig(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=Og()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.q=!0}}]),e}(),Ag=function(){function e(t){an(this,e),this.nt=t,this.st=new Map,this.it=vg(),this.rt=Ng(),this.ot=new fg(Qv)}return un(e,[{key:"ct",value:function(e){var t,n=mn(e.M);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.$&&e.$.isFoundDocument()?this.ut(r,e.$):this.at(r,e.key,e.$)}}catch(u){n.e(u)}finally{n.f()}var i,a=mn(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.at(o,e.key,e.$)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:Ov()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.F.count,r=this.wt(t);if(r){var i=r.target;if(Gy(i))if(0===n){var a=new wy(i.path);this.at(t,a,Uy.newNoDocument(a,$v.min()))}else Pv(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&Gy(a.target)){var o=new wy(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.at(i,o,Uy.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=wg();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new Eg(e,n,this.ot,this.it,r);return this.it=vg(),this.rt=Ng(),this.ot=new fg(Qv),i}},{key:"ut",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Et(t.key).add(e))}}},{key:"at",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Et(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new Cg,this.st.set(e,t)),t}},{key:"Et",value:function(e){var t=this.rt.get(e);return t||(t=new fg(Qv),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||Tv("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Tt(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new Cg),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.at(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Ng(){return new sg(wy.comparator)}function Og(){return new sg(wy.comparator)}var Pg={asc:"ASCENDING",desc:"DESCENDING"},Rg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Dg=un((function e(t,n){an(this,e),this.databaseId=t,this.N=n}));function Lg(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Mg(e,t){return e.N?t.toBase64():t.toUint8Array()}function Fg(e,t){return Lg(e,t.toTimestamp())}function Ug(e){return Pv(!!e),$v.fromTimestamp(function(e){var t=cy(e);return new Jv(t.seconds,t.nanos)}(e))}function jg(e,t){return function(e){return new ry(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Vg(e){var t=ry.fromString(e);return Pv(ck(t)),t}function Bg(e,t){return jg(e.databaseId,t.path)}function zg(e,t){var n=Vg(t);if(n.get(1)!==e.databaseId.projectId)throw new Lv(Dv.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Lv(Dv.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new wy(Wg(n))}function qg(e,t){return jg(e.databaseId,t)}function Kg(e){var t=Vg(e);return 4===t.length?ry.emptyPath():Wg(t)}function Hg(e){return new ry(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Wg(e){return Pv(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Gg(e,t,n){return{name:Bg(e,t),fields:n.value.mapValue.fields}}function Qg(e,t,n){var r=zg(e,t.name),i=Ug(t.updateTime),a=new My({mapValue:{fields:t.fields}}),o=Uy.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Yg(e,t){return"found"in t?function(e,t){Pv(!!t.found),t.found.name,t.found.updateTime;var n=zg(e,t.found.name),r=Ug(t.found.updateTime),i=new My({mapValue:{fields:t.found.fields}});return Uy.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Pv(!!t.missing),Pv(!!t.readTime);var n=zg(e,t.missing),r=Ug(t.readTime);return Uy.newNoDocument(n,r)}(e,t):Ov()}function Xg(e,t){var n;if(t instanceof Xm)n={update:Gg(e,t.key,t.value)};else if(t instanceof rg)n={delete:Bg(e,t.key)};else if(t instanceof Jm)n={update:Gg(e,t.key,t.data),updateMask:sk(t.fieldMask)};else{if(!(t instanceof ig))return Ov();n={verify:Bg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Pm)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Rm)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Lm)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Fm)return{fieldPath:t.field.canonicalString(),increment:n.k};throw Ov()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Fg(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ov()}(e,t.precondition)),n}function Jg(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?zm.updateTime(Ug(e.updateTime)):void 0!==e.exists?zm.exists(e.exists):zm.none()}(t.currentDocument):zm.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Pv("REQUEST_TIME"===t.setToServerValue),n=new Pm;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Rm(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Lm(i)}else"increment"in t?n=new Fm(e,t.increment):Ov();var a=ay.fromServerFormat(t.fieldPath);return new Vm(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=zg(e,t.update.name),a=new My({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new oy(t.map((function(e){return ay.fromServerFormat(e)})))}(t.updateMask);return new Jm(i,a,o,n,r)}return new Xm(i,a,n,r)}if(t.delete){var u=zg(e,t.delete);return new rg(u,n)}if(t.verify){var s=zg(e,t.verify);return new ig(s,n)}return Ov()}function $g(e,t){return{documents:[qg(e,t.path)]}}function Zg(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=qg(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=qg(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Ry(e.value))return{unaryFilter:{field:ik(e.field),op:"IS_NAN"}};if(Py(e.value))return{unaryFilter:{field:ik(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ry(e.value))return{unaryFilter:{field:ik(e.field),op:"IS_NOT_NAN"}};if(Py(e.value))return{unaryFilter:{field:ik(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ik(e.field),op:rk(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:ik(e.field),direction:nk(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||my(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function ek(e){var t=Kg(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Pv(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=tk(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new im(ak(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return my(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new rm(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new rm(n,t)}(n.endAt)),cm(t,i,u,o,s,"F",c,l)}function tk(e){return e?void 0!==e.unaryFilter?[uk(e)]:void 0!==e.fieldFilter?[ok(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return tk(e)})).reduce((function(e,t){return e.concat(t)})):Ov():[]}function nk(e){return Pg[e]}function rk(e){return Rg[e]}function ik(e){return{fieldPath:e.canonicalString()}}function ak(e){return ay.fromServerFormat(e.fieldPath)}function ok(e){return Qy.create(ak(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ov()}}(e.fieldFilter.op),e.fieldFilter.value)}function uk(e){switch(e.unaryFilter.op){case"IS_NAN":var t=ak(e.unaryFilter.field);return Qy.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=ak(e.unaryFilter.field);return Qy.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ak(e.unaryFilter.field);return Qy.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=ak(e.unaryFilter.field);return Qy.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ov()}}function sk(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function ck(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function lk(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=hk(t)),t=fk(e.get(n),t);return hk(t)}function fk(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function hk(e){return e+"\x01\x01"}function dk(e){var t=e.length;if(Pv(t>=2),2===t)return Pv("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),ry.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Ov(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Ov()}a=o+2}return new ry(r)}var pk=un((function e(t,n){an(this,e),this.seconds=t,this.nanoseconds=n})),vk=un((function e(t,n,r){an(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r}));vk.store="owner",vk.key="owner";var yk=un((function e(t,n,r){an(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}));yk.store="mutationQueues",yk.keyPath="userId";var mk=un((function e(t,n,r,i,a){an(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a}));mk.store="mutations",mk.keyPath="batchId",mk.userMutationsIndex="userMutationsIndex",mk.userMutationsKeyPath=["userId","batchId"];var gk=function(){function e(){an(this,e)}return un(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,lk(t)]}},{key:"key",value:function(e,t,n){return[e,lk(t),n]}}]),e}();gk.store="documentMutations",gk.PLACEHOLDER=new gk;var kk=un((function e(t,n){an(this,e),this.path=t,this.readTime=n})),wk=un((function e(t,n){an(this,e),this.path=t,this.version=n})),bk=un((function e(t,n,r,i,a,o){an(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=o}));bk.store="remoteDocuments",bk.readTimeIndex="readTimeIndex",bk.readTimeIndexPath="readTime",bk.collectionReadTimeIndex="collectionReadTimeIndex",bk.collectionReadTimeIndexPath=["parentPath","readTime"];var xk=un((function e(t){an(this,e),this.byteSize=t}));xk.store="remoteDocumentGlobal",xk.key="remoteDocumentGlobalKey";var Ek=un((function e(t,n,r,i,a,o,u){an(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=o,this.query=u}));Ek.store="targets",Ek.keyPath="targetId",Ek.queryTargetsIndexName="queryTargetsIndex",Ek.queryTargetsKeyPath=["canonicalId","targetId"];var Ik=un((function e(t,n,r){an(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r}));Ik.store="targetDocuments",Ik.keyPath=["targetId","path"],Ik.documentTargetsIndex="documentTargetsIndex",Ik.documentTargetsKeyPath=["path","targetId"];var Sk=un((function e(t,n,r,i){an(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}));Sk.key="targetGlobalKey",Sk.store="targetGlobal";var _k=un((function e(t,n){an(this,e),this.collectionId=t,this.parent=n}));_k.store="collectionParents",_k.keyPath=["collectionId","parent"];var Tk=un((function e(t,n,r,i){an(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}));Tk.store="clientMetadata",Tk.keyPath="clientId";var Ck=un((function e(t,n,r){an(this,e),this.bundleId=t,this.createTime=n,this.version=r}));Ck.store="bundles",Ck.keyPath="bundleId";var Ak=un((function e(t,n,r){an(this,e),this.name=t,this.readTime=n,this.bundledQuery=r}));Ak.store="namedQueries",Ak.keyPath="name";var Nk=un((function e(t,n,r){an(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r}));Nk.store="indexConfiguration",Nk.keyPath="indexId",Nk.collectionGroupIndex="collectionGroupIndex",Nk.collectionGroupIndexPath="collectionGroup";var Ok=un((function e(t,n,r,i,a,o){an(this,e),this.indexId=t,this.uid=n,this.sequenceNumber=r,this.readTime=i,this.documentKey=a,this.largestBatchId=o}));Ok.store="indexState",Ok.keyPath=["indexId","uid"],Ok.sequenceNumberIndex="sequenceNumberIndex",Ok.sequenceNumberIndexPath=["uid","sequenceNumber"];var Pk=un((function e(t,n,r,i,a){an(this,e),this.indexId=t,this.uid=n,this.arrayValue=r,this.directionalValue=i,this.documentKey=a}));Pk.store="indexEntries",Pk.keyPath=["indexId","uid","arrayValue","directionalValue","documentKey"],Pk.documentKeyIndex="documentKeyIndex",Pk.documentKeyIndexPath=["indexId","uid","documentKey"];var Rk=un((function e(t,n,r,i,a,o){an(this,e),this.userId=t,this.collectionPath=n,this.documentId=r,this.collectionGroup=i,this.largestBatchId=a,this.overlayMutation=o}));Rk.store="documentOverlays",Rk.keyPath=["userId","collectionPath","documentId"],Rk.collectionPathOverlayIndex="collectionPathOverlayIndex",Rk.collectionPathOverlayIndexPath=["userId","collectionPath","largestBatchId"],Rk.collectionGroupOverlayIndex="collectionGroupOverlayIndex",Rk.collectionGroupOverlayIndexPath=["userId","collectionGroup","largestBatchId"];var Dk=[yk.store,mk.store,gk.store,bk.store,Ek.store,vk.store,Sk.store,Ik.store].concat([Tk.store]).concat([xk.store]).concat([_k.store]).concat([Ck.store,Ak.store]),Lk=[].concat(Bt(Dk),[Rk.store]),Mk=[].concat(Bt(Lk),[Nk.store,Ok.store,Pk.store]),Fk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Uk=function(){function e(){an(this,e),this.onCommittedListeners=[]}return un(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),jk=function(){function e(t){var n=this;an(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return un(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Ov(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=mn(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),Vk=function(){function e(t,n){var r=this;an(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new Mv,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new qk(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=Qk(e.target.error);r.At.reject(new qk(t,n))}}return un(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(Tv("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"Pt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Hk(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new qk(n,t)}}}]),e}(),Bk=function(){function e(t,n,r){an(this,e),this.name=t,this.version=n,this.bt=r,12.2===e.vt(On())&&Cv("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return un(e,[{key:"xt",value:function(){var e=rn(yn().mark((function e(t){var n=this;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Tv("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new qk(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Lv(Dv.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Lv(Dv.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new qk(t,n))},i.onupgradeneeded=function(e){Tv("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.bt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){Tv("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Ot&&(this.db.onversionchange=function(e){return n.Ot(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mt",value:function(e){this.Ot=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=rn(yn().mark((function e(t,n,r,i){var a,o,u,s,c=this;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(yn().mark((function e(){var n,o;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.xt(t);case 2:return c.db=e.sent,n=Vk.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.Pt(),e})).catch((function(e){return n.abort(e),jk.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,Tv("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Tv("SimpleDb","Removing database:",e),Wk(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"Vt",value:function(){if(!Fn())return!1;if(e.St())return!0;var t=On(),n=e.vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/point-of-sale",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Ct)}},{key:"Nt",value:function(e,t){return e.store(t)}},{key:"vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),zk=function(){function e(t){an(this,e),this.$t=t,this.Ft=!1,this.Bt=null}return un(e,[{key:"isDone",get:function(){return this.Ft}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.$t=e}},{key:"done",value:function(){this.Ft=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return Wk(this.$t.delete())}}]),e}(),qk=function(e){sn(n,e);var t=pn(n);function n(e,r){var i;return an(this,n),(i=t.call(this,Dv.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return un(n)}(Lv);function Kk(e){return"IndexedDbTransactionError"===e.name}var Hk=function(){function e(t){an(this,e),this.store=t}return un(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Tv("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Tv("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Wk(n)}},{key:"add",value:function(e){return Tv("SimpleDb","ADD",this.store.name,e,e),Wk(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Wk(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Tv("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Tv("SimpleDb","DELETE",this.store.name,e),Wk(this.store.delete(e))}},{key:"count",value:function(){return Tv("SimpleDb","COUNT",this.store.name),Wk(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Kt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new jk((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Gt",value:function(e,t){Tv("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Kt(r,(function(e,t,n){return n.delete()}))}},{key:"Qt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Kt(r,t)}},{key:"Wt",value:function(e){var t=this.cursor({});return new jk((function(n,r){t.onerror=function(e){var t=Qk(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Kt",value:function(e,t){var n=[];return new jk((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new zk(i),o=t(i.primaryKey,i.value,a);if(o instanceof jk){var u=o.catch((function(e){return a.done(),jk.reject(e)}));n.push(u)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return jk.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Wk(e){return new jk((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Qk(e.target.error);n(t)}}))}var Gk=!1;function Qk(e){var t=Bk.vt(On());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Lv("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Gk||(Gk=!0,setTimeout((function(){throw r}),0)),r}}return e}var Yk=function(e){sn(n,e);var t=pn(n);function n(e,r){var i;return an(this,n),(i=t.call(this)).zt=e,i.currentSequenceNumber=r,i}return un(n)}(Uk);function Xk(e,t){var n=Rv(e);return Bk.Nt(n.zt,t)}var Jk=function(){function e(t,n,r,i){an(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return un(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Hm(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=mn(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&Wm(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=mn(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&Wm(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument($v.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),wg())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Yv(this.mutations,e.mutations,(function(e,t){return Qm(e,t)}))&&Yv(this.baseMutations,e.baseMutations,(function(e,t){return Qm(e,t)}))}}]),e}(),$k=function(){function e(t,n,r,i){an(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return un(e,null,[{key:"from",value:function(t,n,r){Pv(t.mutations.length===r.length);for(var i=gg,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Zk=function(){function e(t,n){an(this,e),this.largestBatchId=t,this.mutation=n}return un(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),ew=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:$v.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:$v.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:uy.EMPTY_BYTE_STRING;an(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return un(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),tw=un((function e(t){an(this,e),this.Ht=t}));function nw(e,t){var n;if(t.document)n=Qg(e.Ht,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=wy.fromSegments(t.noDocument.path),i=uw(t.noDocument.readTime);n=Uy.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Ov();var a=wy.fromSegments(t.unknownDocument.path),o=uw(t.unknownDocument.version);n=Uy.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(aw(t.readTime)),n}function rw(e,t){var n=iw(t.readTime),r=t.key.path.popLast().toArray();if(t.isFoundDocument()){var i=function(e,t){return{name:Bg(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Lg(e,t.version.toTimestamp())}}(e.Ht,t),a=t.hasCommittedMutations;return new bk(null,null,i,a,n,r)}if(t.isNoDocument()){var o=t.key.path.toArray(),u=ow(t.version),s=t.hasCommittedMutations;return new bk(null,new kk(o,u),null,s,n,r)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=ow(t.version);return new bk(new wk(c,l),null,null,!0,n,r)}return Ov()}function iw(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function aw(e){var t=new Jv(e[0],e[1]);return $v.fromTimestamp(t)}function ow(e){var t=e.toTimestamp();return new pk(t.seconds,t.nanoseconds)}function uw(e){var t=new Jv(e.seconds,e.nanoseconds);return $v.fromTimestamp(t)}function sw(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Jg(e.Ht,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Jg(e.Ht,t)})),u=Jv.fromMillis(t.localWriteTimeMs);return new Jk(t.batchId,u,n,o)}function cw(e){var t,n,r=uw(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?uw(e.lastLimboFreeSnapshotVersion):$v.min();return void 0!==e.query.documents?(Pv(1===(n=e.query).documents.length),t=mm(lm(Kg(n.documents[0])))):t=function(e){return mm(ek(e))}(e.query),new ew(t,e.targetId,0,e.lastListenSequenceNumber,r,i,uy.fromBase64String(e.resumeToken))}function lw(e,t){var n,r=ow(t.snapshotVersion),i=ow(t.lastLimboFreeSnapshotVersion);n=Gy(t.target)?$g(e.Ht,t.target):Zg(e.Ht,t.target);var a=t.resumeToken.toBase64();return new Ek(t.targetId,Hy(t.target),r,a,t.sequenceNumber,i,n)}function fw(e){var t=ek({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?gm(t,t.limit,"L"):t}function hw(e,t){return new Zk(t.largestBatchId,Jg(e.Ht,t.overlayMutation))}function dw(e,t){var n=t.path.lastSegment();return[e,lk(t.path.popLast()),n]}var pw=function(){function e(){an(this,e)}return un(e,[{key:"getBundleMetadata",value:function(e,t){return vw(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:uw(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return vw(e).put({bundleId:(n=t).id,createTime:ow(Ug(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return yw(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:fw(t.bundledQuery),readTime:uw(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return yw(e).put(function(e){return{name:e.name,readTime:ow(Ug(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function vw(e){return Xk(e,Ck.store)}function yw(e){return Xk(e,Ak.store)}var mw=function(){function e(t,n){an(this,e),this.O=t,this.userId=n}return un(e,[{key:"getOverlay",value:function(e,t){var n=this;return gw(e).get(dw(this.userId,t)).next((function(e){return e?hw(n.O,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n){var a=new Zk(t,n);i.push(r.Yt(e,a))})),jk.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(lk(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(gw(e).Gt(Rk.collectionPathOverlayIndex,i))})),jk.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=new Map,a=lk(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return gw(e).qt(Rk.collectionPathOverlayIndex,o).next((function(e){var t,n=mn(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=hw(r.O,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=new Map,u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return gw(e).Qt({index:Rk.collectionGroupOverlayIndex,range:u},(function(e,t,n){var u=hw(a.O,t);o.size<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Yt",value:function(e,t){return gw(e).put(function(e,t,n){var r=wn(dw(t,n.mutation.key),3),i=(r[0],r[1]),a=r[2];return new Rk(t,i,a,n.mutation.key.getCollectionGroup(),n.largestBatchId,Xg(e.Ht,n.mutation))}(this.O,this.userId,t))}}],[{key:"Jt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function gw(e){return Xk(e,Rk.store)}var kw=function(){function e(){an(this,e)}return un(e,[{key:"Xt",value:function(e,t){this.Zt(e,t),t.te()}},{key:"Zt",value:function(e,t){if("nullValue"in e)this.ee(t,5);else if("booleanValue"in e)this.ee(t,10),t.ne(e.booleanValue?1:0);else if("integerValue"in e)this.ee(t,15),t.ne(ly(e.integerValue));else if("doubleValue"in e){var n=ly(e.doubleValue);isNaN(n)?this.ee(t,13):(this.ee(t,15),gy(n)?t.ne(0):t.ne(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ee(t,20),"string"==typeof r?t.se(r):(t.se("".concat(r.seconds||"")),t.ne(r.nanos||0))}else if("stringValue"in e)this.ie(e.stringValue,t),this.re(t);else if("bytesValue"in e)this.ee(t,30),t.oe(fy(e.bytesValue)),this.re(t);else if("referenceValue"in e)this.ce(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ee(t,45),t.ne(i.latitude||0),t.ne(i.longitude||0)}else"mapValue"in e?Ey(e,by)?this.ee(t,Number.MAX_SAFE_INTEGER):(this.ue(e.mapValue,t),this.re(t)):"arrayValue"in e?(this.ae(e.arrayValue,t),this.re(t)):Ov()}},{key:"ie",value:function(e,t){this.ee(t,25),this.he(e,t)}},{key:"he",value:function(e,t){t.se(e)}},{key:"ue",value:function(e,t){var n=e.fields||{};this.ee(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.ie(a,t),this.Zt(n[a],t)}}},{key:"ae",value:function(e,t){var n=e.values||[];this.ee(t,50);var r,i=mn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.Zt(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ce",value:function(e,t){var n=this;this.ee(t,37),wy.fromName(e).path.forEach((function(e){n.ee(t,60),n.he(e,t)}))}},{key:"ee",value:function(e,t){e.ne(t)}},{key:"re",value:function(e){e.ne(2)}}]),e}();function ww(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function bw(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=ww(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}kw.le=new kw;var xw=function(){function e(){an(this,e),this.buffer=new Uint8Array(1024),this.position=0}return un(e,[{key:"fe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.de(n.value),n=t.next();this._e()}},{key:"we",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.me(n.value),n=t.next();this.ge()}},{key:"ye",value:function(e){var t,n=mn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.de(i);else if(i<2048)this.de(960|i>>>6),this.de(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.de(480|i>>>12),this.de(128|63&i>>>6),this.de(128|63&i);else{var a=r.codePointAt(0);this.de(240|a>>>18),this.de(128|63&a>>>12),this.de(128|63&a>>>6),this.de(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this._e()}},{key:"pe",value:function(e){var t,n=mn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.me(i);else if(i<2048)this.me(960|i>>>6),this.me(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.me(480|i>>>12),this.me(128|63&i>>>6),this.me(128|63&i);else{var a=r.codePointAt(0);this.me(240|a>>>18),this.me(128|63&a>>>12),this.me(128|63&a>>>6),this.me(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ge()}},{key:"Ie",value:function(e){var t=this.Ee(e),n=bw(t);this.Te(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Ae",value:function(e){var t=this.Ee(e),n=bw(t);this.Te(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Re",value:function(){this.Pe(255),this.Pe(255)}},{key:"be",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Te(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Ve",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"de",value:function(e){var t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}},{key:"me",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"_e",value:function(){this.Pe(0),this.Pe(1)}},{key:"ge",value:function(){this.ve(0),this.ve(1)}},{key:"Pe",value:function(e){this.Te(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Te(1),this.buffer[this.position++]=~e}},{key:"Te",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Ew=function(){function e(t){an(this,e),this.Se=t}return un(e,[{key:"oe",value:function(e){this.Se.fe(e)}},{key:"se",value:function(e){this.Se.ye(e)}},{key:"ne",value:function(e){this.Se.Ie(e)}},{key:"te",value:function(){this.Se.Re()}}]),e}(),Iw=function(){function e(t){an(this,e),this.Se=t}return un(e,[{key:"oe",value:function(e){this.Se.we(e)}},{key:"se",value:function(e){this.Se.pe(e)}},{key:"ne",value:function(e){this.Se.Ae(e)}},{key:"te",value:function(){this.Se.be()}}]),e}(),Sw=function(){function e(){an(this,e),this.Se=new xw,this.De=new Ew(this.Se),this.Ce=new Iw(this.Se)}return un(e,[{key:"seed",value:function(e){this.Se.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.De:this.Ce}},{key:"Ve",value:function(){return this.Se.Ve()}},{key:"reset",value:function(){this.Se.reset()}}]),e}(),_w=un((function e(t,n,r,i){an(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}));function Tw(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=wy.comparator(e.documentKey,t.documentKey))?n:0!==(n=Cw(e.arrayValue,t.arrayValue))?n:Cw(e.directionalValue,t.directionalValue)}function Cw(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Aw=function(){function e(){an(this,e),this.xe=new Nw}return un(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.xe.add(t),jk.resolve()}},{key:"getCollectionParents",value:function(e,t){return jk.resolve(this.xe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return jk.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return jk.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t,n){return jk.resolve(wg())}},{key:"getFieldIndex",value:function(e,t){return jk.resolve(null)}},{key:"getFieldIndexes",value:function(e,t){return jk.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return jk.resolve(null)}},{key:"updateCollectionGroup",value:function(e,t,n){return jk.resolve()}},{key:"updateIndexEntries",value:function(e,t){return jk.resolve()}}]),e}(),Nw=function(){function e(){an(this,e),this.index={}}return un(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new fg(ry.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new fg(ry.comparator)).toArray()}}]),e}(),Ow=function(){function e(t){an(this,e),this.user=t,this.ke=new Nw,this.uid=t.uid||""}return un(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.ke.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.ke.add(t)}));var a={collectionId:r,parent:lk(i)};return Pw(e).put(a)}return jk.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Xv(t),""],!1,!0);return Pw(e).qt(r).next((function(e){var r,i=mn(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(dk(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=Dw(e),r=function(e){return new Nk(e.indexId,e.collectionGroup,e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]})))}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Dw(e),r=Lw(e),i=Rw(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t,n){return jk.resolve(wg())}},{key:"getFieldIndex",value:function(e,t){return jk.resolve(null)}},{key:"Oe",value:function(e,t){var n,r=new Sw,i=mn(function(e){return e.fields.filter((function(e){return 2!==e.kind}))}(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ne(a.kind);kw.le.Xt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Ve()}},{key:"Me",value:function(e){var t=new Sw;return kw.le.Xt(e,t.Ne(0)),t.Ve()}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Dw(e),i=Lw(e);return(t?r.qt(Nk.collectionGroupIndex,IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return jk.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new By(t.sequenceNumber,new zy(uw(t.readTime),new wy(dk(t.documentKey)),t.largestBatchId)):By.empty(),r=e.fields.map((function(e){var t=wn(e,2),n=t[0],r=t[1];return new Vy(ay.fromServerFormat(n),r)}));return new jy(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){return e.indexState.sequenceNumber-t.indexState.sequenceNumber})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Dw(e),a=Lw(e);return this.$e(e).next((function(e){return i.qt(Nk.collectionGroupIndex,IDBKeyRange.bound(t,t)).next((function(t){return jk.forEach(t,(function(t){return a.put(function(e,t,n,r){return new Ok(e,t.uid||"",n,ow(r.readTime),lk(r.documentKey.path),r.largestBatchId)}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return jk.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?jk.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),jk.forEach(a,(function(r){return n.Fe(e,t,r).next((function(t){var a=n.Be(i,r);return t.isEqual(a)?jk.resolve():n.Le(e,i,t,a)}))}))}))}))}},{key:"Ue",value:function(e,t,n){return Rw(e).put(new Pk(n.indexId,this.uid,n.arrayValue,n.directionalValue,lk(t.key.path)))}},{key:"qe",value:function(e,t,n){return Rw(e).delete([n.indexId,this.uid,n.arrayValue,n.directionalValue,lk(t.key.path)])}},{key:"Fe",value:function(e,t,n){var r=Rw(e),i=new fg(Tw);return r.Qt({index:Pk.documentKeyIndex,range:IDBKeyRange.only([n.indexId,this.uid,lk(t.path)])},(function(e,r){i=i.add(new _w(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"Be",value:function(e,t){var n=new fg(Tw),r=this.Oe(t,e);if(null==r)return n;var i=function(e){return e.fields.find((function(e){return 2===e.kind}))}(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Oy(a)){var o,u=mn(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new _w(t.indexId,e.key,this.Me(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new _w(t.indexId,e.key,new Uint8Array,r));return n}},{key:"Le",value:function(e,t,n,r){var i=this;Tv("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var a=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=dg(a),s=dg(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=dg(o)):l?(i(u),u=dg(a)):(u=dg(a),s=dg(o))}}(n,r,Tw,(function(n){a.push(i.Ue(e,t,n))}),(function(n){a.push(i.qe(e,t,n))})),jk.waitFor(a)}},{key:"$e",value:function(e){var t=1;return Lw(e).Qt({index:Ok.sequenceNumberIndex,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}}]),e}();function Pw(e){return Xk(e,_k.store)}function Rw(e){return Xk(e,Pk.store)}function Dw(e){return Xk(e,Nk.store)}function Lw(e){return Xk(e,Ok.store)}var Mw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Fw=function(){function e(t,n,r){an(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return un(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Uw(e,t,n){var r=e.store(mk.store),i=e.store(gk.store),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Qt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Pv(1===u)})));var c,l=[],f=mn(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=gk.key(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return jk.waitFor(a).next((function(){return l}))}function jw(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Ov();t=e.noDocument}return JSON.stringify(t).length}Fw.DEFAULT_COLLECTION_PERCENTILE=10,Fw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fw.DEFAULT=new Fw(41943040,Fw.DEFAULT_COLLECTION_PERCENTILE,Fw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fw.DISABLED=new Fw(-1,0,0);var Vw=function(){function e(t,n,r,i){an(this,e),this.userId=t,this.O=n,this.indexManager=r,this.referenceDelegate=i,this.Ke={}}return un(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return zw(e).Qt({index:mk.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=qw(e),o=zw(e);return o.add({}).next((function(u){Pv("number"==typeof u);var s,c=new Jk(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Xg(e.Ht,t)})),i=n.mutations.map((function(t){return Xg(e.Ht,t)}));return new mk(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.O,i.userId,c),f=[],h=new fg((function(e,t){return Qv(e.canonicalString(),t.canonicalString())})),d=mn(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=gk.key(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,gk.PLACEHOLDER))}}catch(y){d.e(y)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Ke[u]=c.keys()})),jk.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return zw(e).get(t).next((function(e){return e?(Pv(e.userId===n.userId),sw(n.O,e)):null}))}},{key:"Ge",value:function(e,t){var n=this;return this.Ke[t]?jk.resolve(this.Ke[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Ke[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return zw(e).Qt({index:mk.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(Pv(t.batchId>=r),a=sw(n.O,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return zw(e).Qt({index:mk.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return zw(e).qt(mk.userMutationsIndex,n).next((function(e){return e.map((function(e){return sw(t.O,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=gk.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return qw(e).Qt({range:i},(function(r,i,o){var u=wn(r,3),s=u[0],c=u[1],l=u[2],f=dk(c);if(s===n.userId&&t.path.isEqual(f))return zw(e).get(l).next((function(e){if(!e)throw Ov();Pv(e.userId===n.userId),a.push(sw(n.O,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new fg(Qv),i=[];return t.forEach((function(t){var a=gk.prefixForPath(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=qw(e).Qt({range:o},(function(e,i,a){var o=wn(e,3),u=o[0],s=o[1],c=o[2],l=dk(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),jk.waitFor(i).next((function(){return n.je(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=gk.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new fg(Qv);return qw(e).Qt({range:o},(function(e,t,a){var o=wn(e,3),s=o[0],c=o[1],l=o[2],f=dk(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.je(e,u)}))}},{key:"je",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(zw(e).get(t).next((function(e){if(null===e)throw Ov();Pv(e.userId===n.userId),r.push(sw(n.O,e))})))})),jk.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Uw(e.zt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Qe(t.batchId)})),jk.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Qe",value:function(e){delete this.Ke[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return jk.resolve();var r=IDBKeyRange.lowerBound(gk.prefixForUser(t.userId)),i=[];return qw(e).Qt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=dk(e[1]);i.push(a)}else r.done()})).next((function(){Pv(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Bw(e,this.userId,t)}},{key:"We",value:function(e){var t=this;return Kw(e).get(this.userId).next((function(e){return e||new yk(t.userId,-1,"")}))}}],[{key:"Jt",value:function(t,n,r,i){return Pv(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Bw(e,t,n){var r=gk.prefixForPath(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return qw(e).Qt({range:a,jt:!0},(function(e,n,r){var a=wn(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function zw(e){return Xk(e,mk.store)}function qw(e){return Xk(e,gk.store)}function Kw(e){return Xk(e,yk.store)}var Hw=function(){function e(t){an(this,e),this.ze=t}return un(e,[{key:"next",value:function(){return this.ze+=2,this.ze}}],[{key:"He",value:function(){return new e(0)}},{key:"Je",value:function(){return new e(-1)}}]),e}(),Ww=function(){function e(t,n){an(this,e),this.referenceDelegate=t,this.O=n}return un(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Ye(e).next((function(n){var r=new Hw(n.highestTargetId);return n.highestTargetId=r.next(),t.Xe(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Ye(e).next((function(e){return $v.fromTimestamp(new Jv(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Ye(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Ye(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Xe(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Ze(e,t).next((function(){return n.Ye(e).next((function(r){return r.targetCount+=1,n.tn(t,r),n.Xe(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Ze(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Gw(e).delete(t.targetId)})).next((function(){return n.Ye(e)})).next((function(t){return Pv(t.targetCount>0),t.targetCount-=1,n.Xe(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Gw(e).Qt((function(o,u){var s=cw(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return jk.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Gw(e).Qt((function(e,n){var r=cw(n);t(r)}))}},{key:"Ye",value:function(e){return Qw(e).get(Sk.key).next((function(e){return Pv(null!==e),e}))}},{key:"Xe",value:function(e,t){return Qw(e).put(Sk.key,t)}},{key:"Ze",value:function(e,t){return Gw(e).put(lw(this.O,t))}},{key:"tn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Ye(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Hy(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Gw(e).Qt({range:r,index:Ek.queryTargetsIndexName},(function(e,n,r){var a=cw(n);Wy(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Yw(e);return t.forEach((function(t){var o=lk(t.path);i.push(a.put(new Ik(n,o))),i.push(r.referenceDelegate.addReference(e,n,t))})),jk.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Yw(e);return jk.forEach(t,(function(t){var a=lk(t.path);return jk.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Yw(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Yw(e),i=wg();return r.Qt({range:n,jt:!0},(function(e,t,n){var r=dk(e[1]),a=new wy(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=lk(t.path),r=IDBKeyRange.bound([n],[Xv(n)],!1,!0),i=0;return Yw(e).Qt({index:Ik.documentTargetsIndex,jt:!0,range:r},(function(e,t,n){var r=wn(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Tt",value:function(e,t){return Gw(e).get(t).next((function(e){return e?cw(e):null}))}}]),e}();function Gw(e){return Xk(e,Ek.store)}function Qw(e){return Xk(e,Sk.store)}function Yw(e){return Xk(e,Ik.store)}function Xw(e){return Jw.apply(this,arguments)}function Jw(){return Jw=rn(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Dv.FAILED_PRECONDITION&&t.message===Fk){e.next=2;break}throw t;case 2:Tv("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Jw.apply(this,arguments)}function $w(e,t){var n=wn(e,2),r=n[0],i=n[1],a=wn(t,2),o=a[0],u=a[1],s=Qv(r,o);return 0===s?Qv(i,u):s}var Zw=function(){function e(t){an(this,e),this.en=t,this.buffer=new fg($w),this.nn=0}return un(e,[{key:"sn",value:function(){return++this.nn}},{key:"rn",value:function(e){var t=[e,this.sn()];if(this.buffer.size<this.en)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();$w(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),eb=function(){function e(t,n){an(this,e),this.garbageCollector=t,this.asyncQueue=n,this.on=!1,this.cn=null}return un(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.un(e)}},{key:"stop",value:function(){this.cn&&(this.cn.cancel(),this.cn=null)}},{key:"started",get:function(){return null!==this.cn}},{key:"un",value:function(e){var t=this,n=this.on?3e5:6e4;Tv("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.cn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,rn(yn().mark((function n(){return yn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.cn=null,t.on=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!Kk(n.t0)){n.next=12;break}Tv("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,Xw(n.t0);case 14:return n.next=16,t.un(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),tb=function(){function e(t,n){an(this,e),this.an=t,this.params=n}return un(e,[{key:"calculateTargetCount",value:function(e,t){return this.an.hn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return jk.resolve(Hv.A);var r=new Zw(t);return this.an.forEachTarget(e,(function(e){return r.rn(e.sequenceNumber)})).next((function(){return n.an.ln(e,(function(e){return r.rn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.an.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.an.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Tv("LruGarbageCollector","Garbage collection skipped; disabled"),jk.resolve(Mw)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Tv("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Mw):n.fn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.an.getCacheSize(e)}},{key:"fn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Tv("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),_v()<=nr.DEBUG&&Tv("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),jk.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),nb=function(){function e(t,n){an(this,e),this.db=t,this.garbageCollector=function(e,t){return new tb(e,t)}(this,n)}return un(e,[{key:"hn",value:function(e){var t=this.dn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"dn",value:function(e){var t=0;return this.ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"ln",value:function(e,t){return this._n(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return rb(e,n)}},{key:"removeReference",value:function(e,t,n){return rb(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return rb(e,t)}},{key:"wn",value:function(e,t){return function(e,t){var n=!1;return Kw(e).Wt((function(r){return Bw(e,r,t).next((function(e){return e&&(n=!0),jk.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this._n(e,(function(o,u){if(u<=t){var s=n.wn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,$v.min()),Yw(e).delete([0,lk(o.path)])}))}));i.push(s)}})).next((function(){return jk.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return rb(e,t)}},{key:"_n",value:function(e,t){var n,r=Yw(e),i=Hv.A;return r.Qt({index:Ik.documentTargetsIndex},(function(e,r){var a=wn(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Hv.A&&t(new wy(dk(n)),i),i=s,n=u):i=Hv.A})).next((function(){i!==Hv.A&&t(new wy(dk(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function rb(e,t){return Yw(e).put(function(e,t){return new Ik(0,lk(e.path),t)}(t,e.currentSequenceNumber))}var ib=function(){function e(t,n){an(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return un(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=mn(n);try{for(i.s();!(r=i.n()).done;){var a=wn(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){ey(this.inner,(function(t,n){var r,i=mn(n);try{for(i.s();!(r=i.n()).done;){var a=wn(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return ty(this.inner)}}]),e}(),ab=function(){function e(){an(this,e),this.changes=new ib((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return un(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Uy.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?jk.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),ob=function(){function e(t){an(this,e),this.O=t}return un(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return cb(e).put(lb(t),n)}},{key:"removeEntry",value:function(e,t){var n=cb(e),r=lb(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.mn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return cb(e).get(lb(t)).next((function(e){return n.gn(t,e)}))}},{key:"yn",value:function(e,t){var n=this;return cb(e).get(lb(t)).next((function(e){return{document:n.gn(t,e),size:jw(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=vg();return this.pn(e,t,(function(e,t){var i=n.gn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"In",value:function(e,t){var n=this,r=vg(),i=new sg(wy.comparator);return this.pn(e,t,(function(e,t){var a=n.gn(e,t);r=r.insert(e,a),i=i.insert(e,jw(t))})).next((function(){return{documents:r,En:i}}))}},{key:"pn",value:function(e,t,n){if(t.isEmpty())return jk.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return cb(e).Qt({range:r},(function(e,t,r){for(var o=wy.fromSegments(e);a&&wy.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.Ut(a.path.toArray()):r.done()})).next((function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null}))}},{key:"getAll",value:function(e,t,n){var r=this,i=vg(),a=t.length+1,o={};if(n.isEqual($v.min())){var u=t.toArray();o.range=IDBKeyRange.lowerBound(u)}else{var s=t.toArray(),c=iw(n);o.range=IDBKeyRange.lowerBound([s,c],!0),o.index=bk.collectionReadTimeIndex}return cb(e).Qt(o,(function(e,n,o){if(e.length===a){var u=r.gn(wy.fromSegments(e),n);t.isPrefixOf(u.key.path)?i=i.insert(u.key,u):o.done()}})).next((function(){return i}))}},{key:"newChangeBuffer",value:function(e){return new ub(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return sb(e).get(xk.key).next((function(e){return Pv(!!e),e}))}},{key:"mn",value:function(e,t){return sb(e).put(xk.key,t)}},{key:"gn",value:function(e,t){if(t){var n=nw(this.O,t);if(!n.isNoDocument()||!n.version.isEqual($v.min()))return n}return Uy.newInvalidDocument(e)}}]),e}(),ub=function(e){sn(n,e);var t=pn(n);function n(e,r){var i;return an(this,n),(i=t.call(this)).Tn=e,i.trackRemovals=r,i.An=new ib((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return un(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new fg((function(e,t){return Qv(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.An.get(a);if(o.isValidDocument()){var s=rw(t.Tn.O,o);i=i.add(a.path.popLast());var c=jw(s);r+=c-u,n.push(t.Tn.addEntry(e,a,s))}else if(r-=u,t.trackRemovals){var l=rw(t.Tn.O,o.convertToNoDocument($v.min()));n.push(t.Tn.addEntry(e,a,l))}else n.push(t.Tn.removeEntry(e,a))})),i.forEach((function(r){n.push(t.Tn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Tn.updateMetadata(e,r)),jk.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Tn.yn(e,t).next((function(e){return n.An.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Tn.In(e,t).next((function(e){var t=e.documents;return e.En.forEach((function(e,t){n.An.set(e,t)})),t}))}}]),n}(ab);function sb(e){return Xk(e,xk.store)}function cb(e){return Xk(e,bk.store)}function lb(e){return e.path.toArray()}var fb=function(){function e(t){an(this,e),this.O=t}return un(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new Vk("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(vk.store)}(e),function(e){e.createObjectStore(yk.store,{keyPath:yk.keyPath}),e.createObjectStore(mk.store,{keyPath:mk.keyPath,autoIncrement:!0}).createIndex(mk.userMutationsIndex,mk.userMutationsKeyPath,{unique:!0}),e.createObjectStore(gk.store)}(e),hb(e),function(e){e.createObjectStore(bk.store)}(e));var o=jk.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Ik.store),e.deleteObjectStore(Ek.store),e.deleteObjectStore(Sk.store)}(e),hb(e)),o=o.next((function(){return function(e){var t=e.store(Sk.store),n=new Sk(0,0,$v.min().toTimestamp(),0);return t.put(Sk.key,n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store(mk.store).qt().next((function(n){e.deleteObjectStore(mk.store),e.createObjectStore(mk.store,{keyPath:mk.keyPath,autoIncrement:!0}).createIndex(mk.userMutationsIndex,mk.userMutationsKeyPath,{unique:!0});var r=t.store(mk.store),i=n.map((function(e){return r.put(e)}));return jk.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore(Tk.store,{keyPath:Tk.keyPath})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Rn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore(xk.store)}(e),i.Pn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.bn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.vn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(bk.store);t.createIndex(bk.readTimeIndex,bk.readTimeIndexPath,{unique:!1}),t.createIndex(bk.collectionReadTimeIndex,bk.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((function(){return i.Vn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore(Ck.store,{keyPath:Ck.keyPath})}(e),function(e){e.createObjectStore(Ak.store,{keyPath:Ak.keyPath})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore(Rk.store,{keyPath:Rk.keyPath});t.createIndex(Rk.collectionPathOverlayIndex,Rk.collectionPathOverlayIndexPath,{unique:!1}),t.createIndex(Rk.collectionGroupOverlayIndex,Rk.collectionGroupOverlayIndexPath,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){!function(e){e.createObjectStore(Nk.store,{keyPath:Nk.keyPath,autoIncrement:!0}).createIndex(Nk.collectionGroupIndex,Nk.collectionGroupIndexPath,{unique:!1}),e.createObjectStore(Ok.store,{keyPath:Ok.keyPath}).createIndex(Ok.sequenceNumberIndex,Ok.sequenceNumberIndexPath,{unique:!1}),e.createObjectStore(Pk.store,{keyPath:Pk.keyPath}).createIndex(Pk.documentKeyIndex,Pk.documentKeyIndexPath,{unique:!1})}(e)}))),o}},{key:"Pn",value:function(e){var t=0;return e.store(bk.store).Qt((function(e,n){t+=jw(n)})).next((function(){var n=new xk(t);return e.store(xk.store).put(xk.key,n)}))}},{key:"Rn",value:function(e){var t=this,n=e.store(yk.store),r=e.store(mk.store);return n.qt().next((function(n){return jk.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt(mk.userMutationsIndex,i).next((function(r){return jk.forEach(r,(function(r){Pv(r.userId===n.userId);var i=sw(t.O,r);return Uw(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"bn",value:function(e){var t=e.store(Ik.store),n=e.store(bk.store);return e.store(Sk.store).get(Sk.key).next((function(e){var r=[];return n.Qt((function(n,i){var a=new ry(n),o=function(e){return[0,lk(e)]}(a);r.push(t.get(o).next((function(n){return n?jk.resolve():function(n){return t.put(new Ik(0,lk(n),e.highestListenSequenceNumber))}(a)})))})).next((function(){return jk.waitFor(r)}))}))}},{key:"vn",value:function(e,t){e.createObjectStore(_k.store,{keyPath:_k.keyPath});var n=t.store(_k.store),r=new Nw,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:lk(i)})}};return t.store(bk.store).Qt({jt:!0},(function(e,t){var n=new ry(e);return i(n.popLast())})).next((function(){return t.store(gk.store).Qt({jt:!0},(function(e,t){var n=wn(e,3),r=(n[0],n[1]),a=(n[2],dk(r));return i(a.popLast())}))}))}},{key:"Vn",value:function(e){var t=this,n=e.store(Ek.store);return n.Qt((function(e,r){var i=cw(r),a=lw(t.O,i);return n.put(a)}))}}]),e}();function hb(e){e.createObjectStore(Ik.store,{keyPath:Ik.keyPath}).createIndex(Ik.documentTargetsIndex,Ik.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Ek.store,{keyPath:Ek.keyPath}).createIndex(Ek.queryTargetsIndexName,Ek.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Sk.store)}var db="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",pb=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:12;if(an(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Sn=a,this.window=o,this.document=u,this.Dn=c,this.Cn=l,this.schemaVersion=f,this.Nn=null,this.xn=!1,this.isPrimary=!1,this.networkEnabled=!0,this.kn=null,this.inForeground=!1,this.On=null,this.Mn=null,this.$n=Number.NEGATIVE_INFINITY,this.Fn=function(e){return Promise.resolve()},!e.Vt())throw new Lv(Dv.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new nb(this,i),this.Bn=n+"main",this.O=new tw(s),this.Ln=new Bk(this.Bn,this.schemaVersion,new fb(this.O)),this.Un=new Ww(this.referenceDelegate,this.O),this.qn=function(e){return new ob(e)}(this.O),this.Kn=new pw,this.window&&this.window.localStorage?this.Gn=this.window.localStorage:(this.Gn=null,!1===l&&Cv("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return un(e,[{key:"start",value:function(){var e=this;return this.jn().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Lv(Dv.FAILED_PRECONDITION,db);return e.Qn(),e.Wn(),e.zn(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Un.getHighestSequenceNumber(t)}))})).then((function(t){e.Nn=new Hv(t,e.Dn)})).then((function(){e.xn=!0})).catch((function(t){return e.Ln&&e.Ln.close(),Promise.reject(t)}))}},{key:"Hn",value:function(e){var t=this;return this.Fn=function(){var n=rn(yn().mark((function n(r){return yn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.Ln.Mt(function(){var t=rn(yn().mark((function t(n){return yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Sn.enqueueAndForget(rn(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.jn();case 4:case"end":return e.stop()}}),e)})))))}},{key:"jn",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return yb(t).put(new Tk(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Jn(t).next((function(t){t||(e.isPrimary=!1,e.Sn.enqueueRetryable((function(){return e.Fn(!1)})))}))})).next((function(){return e.Yn(t)})).next((function(n){return e.isPrimary&&!n?e.Xn(t).next((function(){return!1})):!!n&&e.Zn(t).next((function(){return!0}))}))})).catch((function(t){if(Kk(t))return Tv("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Tv("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Sn.enqueueRetryable((function(){return e.Fn(t)})),e.isPrimary=t}))}},{key:"Jn",value:function(e){var t=this;return vb(e).get(vk.key).next((function(e){return jk.resolve(t.ts(e))}))}},{key:"es",value:function(e){return yb(e).delete(this.clientId)}},{key:"ns",value:function(){var e=rn(yn().mark((function e(){var t,n,r,i,a=this;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.ss(this.$n,18e5)){e.next=6;break}return this.$n=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Xk(e,Tk.store);return t.qt().next((function(e){var n=a.rs(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return jk.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Gn){n=mn(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Gn.removeItem(this.os(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"zn",value:function(){var e=this;this.Mn=this.Sn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.jn().then((function(){return e.ns()})).then((function(){return e.zn()}))}))}},{key:"ts",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Yn",value:function(e){var t=this;return this.Cn?jk.resolve(!0):vb(e).get(vk.key).next((function(n){if(null!==n&&t.ss(n.leaseTimestampMs,5e3)&&!t.cs(n.ownerId)){if(t.ts(n)&&t.networkEnabled)return!0;if(!t.ts(n)){if(!n.allowTabSynchronization)throw new Lv(Dv.FAILED_PRECONDITION,db);return!1}}return!(!t.networkEnabled||!t.inForeground)||yb(e).qt().next((function(e){return void 0===t.rs(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Tv("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=rn(yn().mark((function e(){var t=this;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.xn=!1,this.us(),this.Mn&&(this.Mn.cancel(),this.Mn=null),this.hs(),this.ls(),e.next=7,this.Ln.runTransaction("shutdown","readwrite",[vk.store,Tk.store],(function(e){var n=new Yk(e,Hv.A);return t.Xn(n).next((function(){return t.es(n)}))}));case 7:this.Ln.close(),this.fs();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"rs",value:function(e,t){var n=this;return e.filter((function(e){return n.ss(e.updateTimeMs,t)&&!n.cs(e.clientId)}))}},{key:"ds",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return yb(t).qt().next((function(t){return e.rs(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.xn}},{key:"getMutationQueue",value:function(e,t){return Vw.Jt(e,this.O,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Un}},{key:"getRemoteDocumentCache",value:function(){return this.qn}},{key:"getIndexManager",value:function(e){return new Ow(e)}},{key:"getDocumentOverlayCache",value:function(e){return mw.Jt(this.O,e)}},{key:"getBundleCache",value:function(){return this.Kn}},{key:"runTransaction",value:function(e,t,n){var r=this;Tv("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=13===(i=this.schemaVersion)?Mk:12===i?Lk:11===i?Dk:void Ov();return this.Ln.runTransaction(e,o,u,(function(i){return a=new Yk(i,r.Nn?r.Nn.next():Hv.A),"readwrite-primary"===t?r.Jn(a).next((function(e){return!!e||r.Yn(a)})).next((function(t){if(!t)throw Cv("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Sn.enqueueRetryable((function(){return r.Fn(!1)})),new Lv(Dv.FAILED_PRECONDITION,Fk);return n(a)})).next((function(e){return r.Zn(a).next((function(){return e}))})):r._s(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"_s",value:function(e){var t=this;return vb(e).get(vk.key).next((function(e){if(null!==e&&t.ss(e.leaseTimestampMs,5e3)&&!t.cs(e.ownerId)&&!t.ts(e)&&!(t.Cn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Lv(Dv.FAILED_PRECONDITION,db)}))}},{key:"Zn",value:function(e){var t=new vk(this.clientId,this.allowTabSynchronization,Date.now());return vb(e).put(vk.key,t)}},{key:"Xn",value:function(e){var t=this,n=vb(e);return n.get(vk.key).next((function(e){return t.ts(e)?(Tv("IndexedDbPersistence","Releasing primary lease."),n.delete(vk.key)):jk.resolve()}))}},{key:"ss",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Cv("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"Qn",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.On=function(){e.Sn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.jn()}))},this.document.addEventListener("visibilitychange",this.On),this.inForeground="visible"===this.document.visibilityState)}},{key:"hs",value:function(){this.On&&(this.document.removeEventListener("visibilitychange",this.On),this.On=null)}},{key:"Wn",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.kn=function(){t.us(),!Rn()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Sn.enterRestrictedMode(!0),t.Sn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.kn))}},{key:"ls",value:function(){this.kn&&(this.window.removeEventListener("pagehide",this.kn),this.kn=null)}},{key:"cs",value:function(e){var t;try{var n=null!==(null===(t=this.Gn)||void 0===t?void 0:t.getItem(this.os(e)));return Tv("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Cv("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"us",value:function(){if(this.Gn)try{this.Gn.setItem(this.os(this.clientId),String(Date.now()))}catch(Ef){Cv("Failed to set zombie client id.",Ef)}}},{key:"fs",value:function(){if(this.Gn)try{this.Gn.removeItem(this.os(this.clientId))}catch(Ef){}}},{key:"os",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"Vt",value:function(){return Bk.Vt()}}]),e}();function vb(e){return Xk(e,vk.store)}function yb(e){return Xk(e,Tk.store)}function mb(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var gb=un((function e(t,n){an(this,e),this.progress=t,this.ws=n})),kb=function(){function e(t,n,r){an(this,e),this.qn=t,this.gs=n,this.indexManager=r}return un(e,[{key:"ys",value:function(e,t){var n=this;return this.gs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.ps(e,t,r)}))}},{key:"ps",value:function(e,t,n){return this.qn.getEntry(e,t).next((function(e){var t,r=mn(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"Is",value:function(e,t){e.forEach((function(e,n){var r,i=mn(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Es",value:function(e,t){var n=this;return this.qn.getEntries(e,t).next((function(t){return n.Ts(e,t).next((function(){return t}))}))}},{key:"Ts",value:function(e,t){var n=this;return this.gs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.Is(t,e)}))}},{key:"As",value:function(e,t,n){return function(e){return wy.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Rs(e,t.path):vm(t)?this.Ps(e,t,n):this.bs(e,t,n)}},{key:"Rs",value:function(e,t){return this.ys(e,new wy(t)).next((function(e){var t=mg();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Ps",value:function(e,t,n){var r=this,i=t.collectionGroup,a=mg();return this.indexManager.getCollectionParents(e,i).next((function(o){return jk.forEach(o,(function(o){var u=function(e,t){return new sm(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.bs(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"bs",value:function(e,t,n){var r,i=this;return this.qn.getAll(e,t.path,n).next((function(n){return r=n,i.gs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=mn(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=mn(a.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.key,c=r.get(s);null==c&&(c=Uy.newInvalidDocument(s),r=r.insert(s,c)),Wm(u,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(s))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){xm(t,n)||(r=r.remove(e))})),r}))}}]),e}(),wb=function(){function e(t,n,r,i){an(this,e),this.targetId=t,this.fromCache=n,this.vs=r,this.Vs=i}return un(e,null,[{key:"Ss",value:function(t,n){var r,i=wg(),a=wg(),o=mn(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),bb=function(){function e(){an(this,e)}return un(e,[{key:"Ds",value:function(e){this.Cs=e}},{key:"As",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual($v.min())?this.Ns(e,t):this.Cs.Es(e,r).next((function(a){var o=i.xs(t,a);return(fm(t)||hm(t))&&i.ks(t.limitType,o,r,n)?i.Ns(e,t):(_v()<=nr.DEBUG&&Tv("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),bm(t)),i.Cs.As(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"xs",value:function(e,t){var n=new fg(Em(e));return t.forEach((function(t,r){xm(e,r)&&(n=n.add(r))})),n}},{key:"ks",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ns",value:function(e,t){return _v()<=nr.DEBUG&&Tv("QueryEngine","Using full collection scan to execute query:",bm(t)),this.Cs.As(e,t,$v.min())}}]),e}(),xb=function(){function e(t,n,r,i){an(this,e),this.persistence=t,this.Os=n,this.O=i,this.Ms=new sg(Qv),this.$s=new ib((function(e){return Hy(e)}),Wy),this.Fs=$v.min(),this.Bs=t.getRemoteDocumentCache(),this.Un=t.getTargetCache(),this.Kn=t.getBundleCache(),this.Ls(r)}return un(e,[{key:"Ls",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.gs=this.persistence.getMutationQueue(e,this.indexManager),this.Us=new kb(this.Bs,this.gs,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Os.Ds(this.Us)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ms)}))}}]),e}();function Eb(e,t,n,r){return new xb(e,t,n,r)}function Ib(e,t){return Sb.apply(this,arguments)}function Sb(){return Sb=rn(yn().mark((function e(t,n){var r;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rv(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.gs.getAllMutationBatches(e).next((function(i){return t=i,r.Ls(n),r.gs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=wg(),s=mn(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=mn(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=mn(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,m=mn(v.mutations);try{for(m.s();!(y=m.n()).done;){var g=y.value;u=u.add(g.key)}}catch(k){m.e(k)}finally{m.f()}}}catch(k){p.e(k)}finally{p.f()}return r.Us.Es(e,u).next((function(e){return{qs:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Sb.apply(this,arguments)}function _b(e,t){var n=Rv(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=jk.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Pv(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.gs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.gs.performConsistencyCheck(e)})).next((function(){return n.Us.Es(e,r)}))}))}function Tb(e){var t=Rv(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Un.getLastRemoteSnapshotVersion(e)}))}function Cb(e,t){var n=Rv(e),r=t.snapshotVersion,i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.Ms;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Un.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Un.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(uy.EMPTY_BYTE_STRING,$v.min()).withLastLimboFreeSnapshotVersion($v.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Un.updateTargetData(e,c))}}));var u=vg();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Ab(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual($v.min())){var s=n.Un.getLastRemoteSnapshotVersion(e).next((function(t){return n.Un.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return jk.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Us.Ts(e,u)})).next((function(){return u}))})).then((function(e){return n.Ms=i,e}))}function Ab(e,t,n){var r=wg();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=vg();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual($v.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Tv("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function Nb(e,t){var n=Rv(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.gs.getNextMutationBatchAfterBatchId(e,t)}))}function Ob(e,t){var n=Rv(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Un.getTargetData(e,t).next((function(i){return i?(r=i,jk.resolve(r)):n.Un.allocateTargetId(e).next((function(i){return r=new ew(t,i,0,e.currentSequenceNumber),n.Un.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.$s.set(t,e.targetId)),e}))}function Pb(e,t,n){return Rb.apply(this,arguments)}function Rb(){return Rb=rn(yn().mark((function e(t,n,r){var i,a,o;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Rv(t),a=i.Ms.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Kk(e.t1)){e.next=12;break}throw e.t1;case 12:Tv("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ms=i.Ms.remove(n),i.$s.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Rb.apply(this,arguments)}function Db(e,t,n){var r=Rv(e),i=$v.min(),a=wg();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Rv(e),i=r.$s.get(n);return void 0!==i?jk.resolve(r.Ms.get(i)):r.Un.getTargetData(t,n)}(r,e,mm(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Un.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Os.As(e,t,n?i:$v.min(),n?a:wg())})).next((function(e){return{documents:e,Ks:a}}))}))}function Lb(e,t){var n=Rv(e),r=Rv(n.Un),i=n.Ms.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Tt(e,t).next((function(e){return e?e.target:null}))}))}function Mb(e){var t=Rv(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Rv(e),i=vg(),a=iw(n),o=cb(t),u=IDBKeyRange.lowerBound(a,!0);return o.Qt({index:bk.readTimeIndex,range:u},(function(e,t){var n=nw(r.O,t);i=i.insert(n.key,n),a=t.readTime})).next((function(){return{ws:i,readTime:aw(a)}}))}(t.Bs,e,t.Fs)})).then((function(e){var n=e.ws,r=e.readTime;return t.Fs=r,n}))}function Fb(e){return Ub.apply(this,arguments)}function Ub(){return Ub=rn(yn().mark((function e(t){var n;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Rv(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=cb(e),n=$v.min();return t.Qt({index:bk.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=aw(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){n.Fs=e})));case 2:case"end":return e.stop()}}),e)}))),Ub.apply(this,arguments)}function jb(e,t,n,r){return Vb.apply(this,arguments)}function Vb(){return Vb=rn(yn().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Rv(t),o=wg(),u=vg(),s=mn(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Gs(l.metadata.name),l.document&&(o=o.add(f)),(h=n.js(l)).setReadTime(n.Qs(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Bs.newChangeBuffer({trackRemovals:!0}),e.next=7,Ob(a,function(e){return mm(lm(ry.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Ab(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Un.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Un.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.Us.Ts(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),Vb.apply(this,arguments)}function Bb(e,t){return zb.apply(this,arguments)}function zb(){return zb=rn(yn().mark((function e(t,n){var r,i,a,o=arguments;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:wg(),e.next=3,Ob(t,mm(fw(n.bundledQuery)));case 3:return i=e.sent,a=Rv(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Ug(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Kn.saveNamedQuery(e,n);var o=i.withResumeToken(uy.EMPTY_BYTE_STRING,t);return a.Ms=a.Ms.insert(o.targetId,o),a.Un.updateTargetData(e,o).next((function(){return a.Un.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Un.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Kn.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),zb.apply(this,arguments)}var qb=function(){function e(t){an(this,e),this.O=t,this.Ws=new Map,this.zs=new Map}return un(e,[{key:"getBundleMetadata",value:function(e,t){return jk.resolve(this.Ws.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Ws.set(t.id,{id:(n=t).id,version:n.version,createTime:Ug(n.createTime)}),jk.resolve()}},{key:"getNamedQuery",value:function(e,t){return jk.resolve(this.zs.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.zs.set(t.name,function(e){return{name:e.name,query:fw(e.bundledQuery),readTime:Ug(e.readTime)}}(t)),jk.resolve()}}]),e}(),Kb=function(){function e(){an(this,e),this.overlays=new sg(wy.comparator),this.Hs=new Map}return un(e,[{key:"getOverlay",value:function(e,t){return jk.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n){r.Yt(e,t,n)})),jk.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Hs.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Hs.delete(n)),jk.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=new Map,i=t.length+1,a=new wy(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return jk.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new sg((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=new Map,i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=new Map,c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(t,e)})),!(s.size>=r)););return jk.resolve(s)}},{key:"Yt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);null!==r&&this.Hs.get(r.largestBatchId).delete(n.key),this.overlays=this.overlays.insert(n.key,new Zk(t,n));var i=this.Hs.get(t);void 0===i&&(i=new Set,this.Hs.set(t,i)),i.add(n.key)}}}]),e}(),Hb=function(){function e(){an(this,e),this.Js=new fg(Wb.Ys),this.Xs=new fg(Wb.Zs)}return un(e,[{key:"isEmpty",value:function(){return this.Js.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Wb(e,t);this.Js=this.Js.add(n),this.Xs=this.Xs.add(n)}},{key:"ti",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ei(new Wb(e,t))}},{key:"ni",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"si",value:function(e){var t=this,n=new wy(new ry([])),r=new Wb(n,e),i=new Wb(n,e+1),a=[];return this.Xs.forEachInRange([r,i],(function(e){t.ei(e),a.push(e.key)})),a}},{key:"ii",value:function(){var e=this;this.Js.forEach((function(t){return e.ei(t)}))}},{key:"ei",value:function(e){this.Js=this.Js.delete(e),this.Xs=this.Xs.delete(e)}},{key:"ri",value:function(e){var t=new wy(new ry([])),n=new Wb(t,e),r=new Wb(t,e+1),i=wg();return this.Xs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Wb(e,0),n=this.Js.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Wb=function(){function e(t,n){an(this,e),this.key=t,this.oi=n}return un(e,null,[{key:"Ys",value:function(e,t){return wy.comparator(e.key,t.key)||Qv(e.oi,t.oi)}},{key:"Zs",value:function(e,t){return Qv(e.oi,t.oi)||wy.comparator(e.key,t.key)}}]),e}(),Gb=function(){function e(t,n){an(this,e),this.indexManager=t,this.referenceDelegate=n,this.gs=[],this.ci=1,this.ui=new fg(Wb.Ys)}return un(e,[{key:"checkEmpty",value:function(e){return jk.resolve(0===this.gs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ci;this.ci++,this.gs.length>0&&this.gs[this.gs.length-1];var a=new Jk(i,t,n,r);this.gs.push(a);var o,u=mn(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.ui=this.ui.add(new Wb(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return jk.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return jk.resolve(this.ai(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.hi(n),i=r<0?0:r;return jk.resolve(this.gs.length>i?this.gs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return jk.resolve(0===this.gs.length?-1:this.ci-1)}},{key:"getAllMutationBatches",value:function(e){return jk.resolve(this.gs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Wb(t,0),i=new Wb(t,Number.POSITIVE_INFINITY),a=[];return this.ui.forEachInRange([r,i],(function(e){var t=n.ai(e.oi);a.push(t)})),jk.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new fg(Qv);return t.forEach((function(e){var t=new Wb(e,0),i=new Wb(e,Number.POSITIVE_INFINITY);n.ui.forEachInRange([t,i],(function(e){r=r.add(e.oi)}))})),jk.resolve(this.li(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;wy.isDocumentKey(i)||(i=i.child(""));var a=new Wb(new wy(i),0),o=new fg(Qv);return this.ui.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.oi)),!0)}),a),jk.resolve(this.li(o))}},{key:"li",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ai(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Pv(0===this.fi(t.batchId,"removed")),this.gs.shift();var r=this.ui;return jk.forEach(t.mutations,(function(i){var a=new Wb(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ui=r}))}},{key:"Qe",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Wb(t,0),r=this.ui.firstAfterOrEqual(n);return jk.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.gs.length,jk.resolve()}},{key:"fi",value:function(e,t){return this.hi(e)}},{key:"hi",value:function(e){return 0===this.gs.length?0:e-this.gs[0].batchId}},{key:"ai",value:function(e){var t=this.hi(e);return t<0||t>=this.gs.length?null:this.gs[t]}}]),e}(),Qb=function(){function e(t){an(this,e),this.di=t,this.docs=new sg(wy.comparator),this.size=0}return un(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.di(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return jk.resolve(n?n.document.mutableCopy():Uy.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=vg();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Uy.newInvalidDocument(e))})),jk.resolve(r)}},{key:"getAll",value:function(e,t,n){for(var r=vg(),i=new wy(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||s.readTime.compareTo(n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return jk.resolve(r)}},{key:"_i",value:function(e,t){return jk.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Yb(this)}},{key:"getSize",value:function(e){return jk.resolve(this.size)}}]),e}(),Yb=function(e){sn(n,e);var t=pn(n);function n(e){var r;return an(this,n),(r=t.call(this)).Tn=e,r}return un(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Tn.addEntry(e,i)):t.Tn.removeEntry(r)})),jk.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Tn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Tn.getEntries(e,t)}}]),n}(ab),Xb=function(){function e(t){an(this,e),this.persistence=t,this.wi=new ib((function(e){return Hy(e)}),Wy),this.lastRemoteSnapshotVersion=$v.min(),this.highestTargetId=0,this.mi=0,this.gi=new Hb,this.targetCount=0,this.yi=Hw.He()}return un(e,[{key:"forEachTarget",value:function(e,t){return this.wi.forEach((function(e,n){return t(n)})),jk.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return jk.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return jk.resolve(this.mi)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.yi.next(),jk.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.mi&&(this.mi=t),jk.resolve()}},{key:"Ze",value:function(e){this.wi.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.yi=new Hw(t),this.highestTargetId=t),e.sequenceNumber>this.mi&&(this.mi=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Ze(t),this.targetCount+=1,jk.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Ze(t),jk.resolve()}},{key:"removeTargetData",value:function(e,t){return this.wi.delete(t.target),this.gi.si(t.targetId),this.targetCount-=1,jk.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.wi.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.wi.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),jk.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return jk.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.wi.get(t)||null;return jk.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.gi.ti(t,n),jk.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.gi.ni(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),jk.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.gi.si(t),jk.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.gi.ri(t);return jk.resolve(n)}},{key:"containsKey",value:function(e,t){return jk.resolve(this.gi.containsKey(t))}}]),e}(),Jb=function(){function e(t,n){var r=this;an(this,e),this.pi={},this.overlays={},this.Nn=new Hv(0),this.xn=!1,this.xn=!0,this.referenceDelegate=t(this),this.Un=new Xb(this),this.indexManager=new Aw,this.qn=new Qb((function(e){return r.referenceDelegate.Ii(e)})),this.O=new tw(n),this.Kn=new qb(this.O)}return un(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.xn=!1,Promise.resolve()}},{key:"started",get:function(){return this.xn}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Kb,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.pi[e.toKey()];return n||(n=new Gb(t,this.referenceDelegate),this.pi[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Un}},{key:"getRemoteDocumentCache",value:function(){return this.qn}},{key:"getBundleCache",value:function(){return this.Kn}},{key:"runTransaction",value:function(e,t,n){var r=this;Tv("MemoryPersistence","Starting transaction:",e);var i=new $b(this.Nn.next());return this.referenceDelegate.Ei(),n(i).next((function(e){return r.referenceDelegate.Ti(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ai",value:function(e,t){return jk.or(Object.values(this.pi).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),$b=function(e){sn(n,e);var t=pn(n);function n(e){var r;return an(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return un(n)}(Uk),Zb=function(){function e(t){an(this,e),this.persistence=t,this.Ri=new Hb,this.Pi=null}return un(e,[{key:"vi",get:function(){if(this.Pi)return this.Pi;throw Ov()}},{key:"addReference",value:function(e,t,n){return this.Ri.addReference(n,t),this.vi.delete(n.toString()),jk.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Ri.removeReference(n,t),this.vi.add(n.toString()),jk.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.vi.add(t.toString()),jk.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Ri.si(t.targetId).forEach((function(e){return n.vi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ei",value:function(){this.Pi=new Set}},{key:"Ti",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return jk.forEach(this.vi,(function(r){var i=wy.fromPath(r);return t.Vi(e,i).next((function(e){e||n.removeEntry(i,$v.min())}))})).next((function(){return t.Pi=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Vi(e,t).next((function(e){e?n.vi.delete(t.toString()):n.vi.add(t.toString())}))}},{key:"Ii",value:function(e){return 0}},{key:"Vi",value:function(e,t){var n=this;return jk.or([function(){return jk.resolve(n.Ri.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ai(e,t)}])}}],[{key:"bi",value:function(t){return new e(t)}}]),e}();function ex(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function tx(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function nx(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var rx=function(){function e(t,n,r,i){an(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return un(e,[{key:"Di",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Si",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Lv(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Cv("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),ix=function(){function e(t,n,r){an(this,e),this.targetId=t,this.state=n,this.error=r}return un(e,[{key:"Di",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Si",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Lv(i.error.code,i.error.message))),a?new e(t,i.state,r):(Cv("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),ax=function(){function e(t,n){an(this,e),this.clientId=t,this.activeTargetIds=n}return un(e,null,[{key:"Si",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=xg(),o=0;i&&o<r.activeTargetIds.length;++o)i=ky(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Cv("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),ox=function(){function e(t,n){an(this,e),this.clientId=t,this.onlineState=n}return un(e,null,[{key:"Si",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Cv("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),ux=function(){function e(){an(this,e),this.activeTargetIds=xg()}return un(e,[{key:"Ci",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ni",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Di",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),sx=function(){function e(t,n,r,i,a){an(this,e),this.window=t,this.Sn=n,this.persistenceKey=r,this.xi=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ki=this.Oi.bind(this),this.Mi=new sg(Qv),this.started=!1,this.$i=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Fi=ex(this.persistenceKey,this.xi),this.Bi=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Mi=this.Mi.insert(this.xi,new ux),this.Li=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Ui=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.qi=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Ki=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Gi=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ki)}return un(e,[{key:"start",value:function(){var e=rn(yn().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.ds();case 2:t=e.sent,n=mn(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.xi){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(ex(this.persistenceKey,i)))&&(o=ax.Si(i,a))&&(this.Mi=this.Mi.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.ji(),(u=this.storage.getItem(this.Ki))&&(s=this.Qi(u))&&this.Wi(s),c=mn(this.$i);try{for(c.s();!(l=c.n()).done;)f=l.value,this.Oi(f)}catch(d){c.e(d)}finally{c.f()}this.$i=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Bi,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.zi(this.Mi)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.Mi.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Hi(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Hi(e,t,n),this.Ji(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(nx(this.persistenceKey,e));if(n){var r=ix.Si(e,n);r&&(t=r.state)}}return this.Yi.Ci(e),this.ji(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Yi.Ni(e),this.ji()}},{key:"isLocalQueryTarget",value:function(e){return this.Yi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(nx(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Xi(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Ji(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Zi(e)}},{key:"notifyBundleLoaded",value:function(){this.tr()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ki),this.removeItem(this.Fi),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Tv("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Tv("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Tv("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"Oi",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Tv("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Fi)return void Cv("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Sn.enqueueRetryable(rn(yn().mark((function e(){var r,i,a,o,u,s;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.Li.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.er(n.key),e.abrupt("return",t.nr(r,null));case 6:if(!(i=t.sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.nr(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.Ui.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.ir(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.rr(a));case 16:e.next=39;break;case 18:if(!t.qi.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.cr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.ur(o));case 23:e.next=39;break;case 25:if(n.key!==t.Ki){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.Qi(n.newValue))){e.next=30;break}return e.abrupt("return",t.Wi(u));case 30:e.next=39;break;case 32:if(n.key!==t.Bi){e.next=37;break}s=function(e){var t=Hv.A;if(null!=e)try{var n=JSON.parse(e);Pv("number"==typeof n),t=n}catch(e){Cv("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Hv.A&&t.sequenceNumberHandler(s),e.next=39;break;case 37:if(n.key!==t.Gi){e.next=39;break}return e.abrupt("return",t.syncEngine.ar());case 39:e.next=42;break;case 41:t.$i.push(n);case 42:case"end":return e.stop()}}),e)}))))}}},{key:"Yi",get:function(){return this.Mi.get(this.xi)}},{key:"ji",value:function(){this.setItem(this.Fi,this.Yi.Di())}},{key:"Hi",value:function(e,t,n){var r=new rx(this.currentUser,e,t,n),i=tx(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Di())}},{key:"Ji",value:function(e){var t=tx(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Zi",value:function(e){var t={clientId:this.xi,onlineState:e};this.storage.setItem(this.Ki,JSON.stringify(t))}},{key:"Xi",value:function(e,t,n){var r=nx(this.persistenceKey,e),i=new ix(e,t,n);this.setItem(r,i.Di())}},{key:"tr",value:function(){this.setItem(this.Gi,"value-not-used")}},{key:"er",value:function(e){var t=this.Li.exec(e);return t?t[1]:null}},{key:"sr",value:function(e,t){var n=this.er(e);return ax.Si(n,t)}},{key:"ir",value:function(e,t){var n=this.Ui.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return rx.Si(new Ev(i),r,t)}},{key:"cr",value:function(e,t){var n=this.qi.exec(e),r=Number(n[1]);return ix.Si(r,t)}},{key:"Qi",value:function(e){return ox.Si(e)}},{key:"rr",value:function(){var e=rn(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.hr(t.batchId,t.state,t.error));case 2:Tv("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ur",value:function(e){return this.syncEngine.lr(e.targetId,e.state,e.error)}},{key:"nr",value:function(e,t){var n=this,r=t?this.Mi.insert(e,t):this.Mi.remove(e),i=this.zi(this.Mi),a=this.zi(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.dr(o,u).then((function(){n.Mi=r}))}},{key:"Wi",value:function(e){this.Mi.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"zi",value:function(e){var t=xg();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"Vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),cx=function(){function e(){an(this,e),this._r=new ux,this.wr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return un(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this._r.Ci(e),this.wr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.wr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this._r.Ni(e)}},{key:"isLocalQueryTarget",value:function(e){return this._r.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.wr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this._r.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this._r.activeTargetIds.has(e)}},{key:"start",value:function(){return this._r=new ux,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),lx=function(){function e(){an(this,e)}return un(e,[{key:"mr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),fx=function(){function e(){var t=this;an(this,e),this.gr=function(){return t.yr()},this.pr=function(){return t.Ir()},this.Er=[],this.Tr()}return un(e,[{key:"mr",value:function(e){this.Er.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.gr),window.removeEventListener("offline",this.pr)}},{key:"Tr",value:function(){window.addEventListener("online",this.gr),window.addEventListener("offline",this.pr)}},{key:"yr",value:function(){Tv("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=mn(this.Er);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Ir",value:function(){Tv("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=mn(this.Er);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"Vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),hx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},dx=function(){function e(t){an(this,e),this.Ar=t.Ar,this.Rr=t.Rr}return un(e,[{key:"Pr",value:function(e){this.br=e}},{key:"vr",value:function(e){this.Vr=e}},{key:"onMessage",value:function(e){this.Sr=e}},{key:"close",value:function(){this.Rr()}},{key:"send",value:function(e){this.Ar(e)}},{key:"Dr",value:function(){this.br()}},{key:"Cr",value:function(e){this.Vr(e)}},{key:"Nr",value:function(e){this.Sr(e)}}]),e}(),px=function(e){sn(n,e);var t=pn(n);function n(e){var r;return an(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return un(n,[{key:"Br",value:function(e,t,n,r){return new Promise((function(i,a){var o=new bv;o.listenOnce(yv.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case vv.NO_ERROR:var t=o.getResponseJson();Tv("Connection","XHR received:",JSON.stringify(t)),i(t);break;case vv.TIMEOUT:Tv("Connection",'RPC "'+e+'" timed out'),a(new Lv(Dv.DEADLINE_EXCEEDED,"Request time out"));break;case vv.HTTP_ERROR:var n=o.getStatus();if(Tv("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Dv).indexOf(t)>=0?t:Dv.UNKNOWN}(r.status);a(new Lv(u,r.message))}else a(new Lv(Dv.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Lv(Dv.UNAVAILABLE,"Connection failed."));break;default:Ov()}}finally{Tv("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"Ur",value:function(e,t,n){var r=[this.kr,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=dv(),a=pv(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new kv({})),this.Fr(o.initMessageHeaders,t,n),Pn()||Ln()||On().indexOf("Electron/")>=0||Mn()||On().indexOf("MSAppHost/")>=0||Dn()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Tv("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new dx({Ar:function(e){l?Tv("Connection","Not sending because WebChannel is closed:",e):(c||(Tv("Connection","Opening WebChannel transport."),s.open(),c=!0),Tv("Connection","WebChannel sending:",e),s.send(e))},Rr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,wv.EventType.OPEN,(function(){l||Tv("Connection","WebChannel transport opened.")})),h(s,wv.EventType.CLOSE,(function(){l||(l=!0,Tv("Connection","WebChannel transport closed"),f.Cr())})),h(s,wv.EventType.ERROR,(function(e){l||(l=!0,Av("Connection","WebChannel transport errored:",e),f.Cr(new Lv(Dv.UNAVAILABLE,"The operation could not be completed")))})),h(s,wv.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Pv(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Tv("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=tg[e];if(void 0!==t)return ug(t)}(a),u=i.message;void 0===o&&(o=Dv.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.Cr(new Lv(o,u)),s.close()}else Tv("Connection","WebChannel received:",n),f.Nr(n)}})),h(a,mv.STAT_EVENT,(function(e){e.stat===gv.PROXY?Tv("Connection","Detected buffering proxy"):e.stat===gv.NOPROXY&&Tv("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Dr()}),0),f}}]),n}(function(){function e(t){an(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.kr=n+"://"+t.host,this.Or="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return un(e,[{key:"Mr",value:function(e,t,n,r,i){var a=this.$r(e,t);Tv("RestConnection","Sending: ",a,n);var o={};return this.Fr(o,r,i),this.Br(e,a,o,n).then((function(e){return Tv("RestConnection","Received: ",e),e}),(function(t){throw Av("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"Lr",value:function(e,t,n,r,i){return this.Mr(e,t,n,r,i)}},{key:"Fr",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Iv,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"$r",value:function(e,t){var n=hx[e];return"".concat(this.kr,"/v1/").concat(t,":").concat(n)}}]),e}());function vx(){return"undefined"!=typeof window?window:null}function yx(){return"undefined"!=typeof document?document:null}function mx(e){return new Dg(e,!0)}var gx=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;an(this,e),this.Sn=t,this.timerId=n,this.qr=r,this.Kr=i,this.Gr=a,this.jr=0,this.Qr=null,this.Wr=Date.now(),this.reset()}return un(e,[{key:"reset",value:function(){this.jr=0}},{key:"zr",value:function(){this.jr=this.Gr}},{key:"Hr",value:function(e){var t=this;this.cancel();var n=Math.floor(this.jr+this.Jr()),r=Math.max(0,Date.now()-this.Wr),i=Math.max(0,n-r);i>0&&Tv("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.jr," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Qr=this.Sn.enqueueAfterDelay(this.timerId,i,(function(){return t.Wr=Date.now(),e()})),this.jr*=this.Kr,this.jr<this.qr&&(this.jr=this.qr),this.jr>this.Gr&&(this.jr=this.Gr)}},{key:"Yr",value:function(){null!==this.Qr&&(this.Qr.skipDelay(),this.Qr=null)}},{key:"cancel",value:function(){null!==this.Qr&&(this.Qr.cancel(),this.Qr=null)}},{key:"Jr",value:function(){return(Math.random()-.5)*this.jr}}]),e}(),kx=function(){function e(t,n,r,i,a,o,u,s){an(this,e),this.Sn=t,this.Xr=r,this.Zr=i,this.eo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.no=0,this.so=null,this.io=null,this.stream=null,this.ro=new gx(t,n)}return un(e,[{key:"oo",value:function(){return 1===this.state||5===this.state||this.co()}},{key:"co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.uo()}},{key:"stop",value:function(){var e=rn(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.oo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ao",value:function(){this.state=0,this.ro.reset()}},{key:"ho",value:function(){var e=this;this.co()&&null===this.so&&(this.so=this.Sn.enqueueAfterDelay(this.Xr,6e4,(function(){return e.lo()})))}},{key:"fo",value:function(e){this._o(),this.stream.send(e)}},{key:"lo",value:function(){var e=rn(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_o",value:function(){this.so&&(this.so.cancel(),this.so=null)}},{key:"wo",value:function(){this.io&&(this.io.cancel(),this.io=null)}},{key:"close",value:function(){var e=rn(yn().mark((function e(t,n){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._o(),this.wo(),this.ro.cancel(),this.no++,4!==t?this.ro.reset():n&&n.code===Dv.RESOURCE_EXHAUSTED?(Cv(n.toString()),Cv("Using maximum backoff delay to prevent overloading the backend."),this.ro.zr()):n&&n.code===Dv.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.mo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.vr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"mo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.yo(this.no),n=this.no;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=wn(t,2),i=r[0],a=r[1];e.no===n&&e.po(i,a)}),(function(n){t((function(){var t=new Lv(Dv.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Io(t)}))}))}},{key:"po",value:function(e,t){var n=this,r=this.yo(this.no);this.stream=this.Eo(e,t),this.stream.Pr((function(){r((function(){return n.state=2,n.io=n.Sn.enqueueAfterDelay(n.Zr,1e4,(function(){return n.co()&&(n.state=3),Promise.resolve()})),n.listener.Pr()}))})),this.stream.vr((function(e){r((function(){return n.Io(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"uo",value:function(){var e=this;this.state=5,this.ro.Hr(rn(yn().mark((function t(){return yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Io",value:function(e){return Tv("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"yo",value:function(e){var t=this;return function(n){t.Sn.enqueueAndForget((function(){return t.no===e?n():(Tv("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),wx=function(e){sn(n,e);var t=pn(n);function n(e,r,i,a,o,u){var s;return an(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).O=o,s}return un(n,[{key:"Eo",value:function(e,t){return this.eo.Ur("Listen",e,t)}},{key:"onMessage",value:function(e){this.ro.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ov()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(Pv(void 0===t||"string"==typeof t),uy.fromBase64String(t||"")):(Pv(void 0===t||t instanceof Uint8Array),uy.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Dv.UNKNOWN:ug(e.code);return new Lv(t,e.message||"")}(o);n=new Tg(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=zg(e,s.document.name),l=Ug(s.document.updateTime),f=new My({mapValue:{fields:s.document.fields}}),h=Uy.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new Sg(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var y=zg(e,v.document),m=v.readTime?Ug(v.readTime):$v.min(),g=Uy.newNoDocument(y,m),k=v.removedTargetIds||[];n=new Sg([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var b=zg(e,w.document),x=w.removedTargetIds||[];n=new Sg([],x,b,null)}else{if(!("filter"in t))return Ov();t.filter;var E=t.filter;E.targetId;var I=E.count||0,S=new ag(I),_=E.targetId;n=new _g(_,S)}return n}(this.O,e),n=function(e){if(!("targetChange"in e))return $v.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?$v.min():t.readTime?Ug(t.readTime):$v.min()}(e);return this.listener.To(t,n)}},{key:"Ao",value:function(e){var t={};t.database=Hg(this.O),t.addTarget=function(e,t){var n,r=t.target;return(n=Gy(r)?{documents:$g(e,r)}:{query:Zg(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Mg(e,t.resumeToken):t.snapshotVersion.compareTo($v.min())>0&&(n.readTime=Lg(e,t.snapshotVersion.toTimestamp())),n}(this.O,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ov()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.O,e);n&&(t.labels=n),this.fo(t)}},{key:"Ro",value:function(e){var t={};t.database=Hg(this.O),t.removeTarget=e,this.fo(t)}}]),n}(kx),bx=function(e){sn(n,e);var t=pn(n);function n(e,r,i,a,o,u){var s;return an(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).O=o,s.Po=!1,s}return un(n,[{key:"bo",get:function(){return this.Po}},{key:"start",value:function(){this.Po=!1,this.lastStreamToken=void 0,Qr(cn(n.prototype),"start",this).call(this)}},{key:"mo",value:function(){this.Po&&this.vo([])}},{key:"Eo",value:function(e,t){return this.eo.Ur("Write",e,t)}},{key:"onMessage",value:function(e){if(Pv(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Po){this.ro.reset();var t=function(e,t){return e&&e.length>0?(Pv(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Ug(e.updateTime):Ug(t);return n.isEqual($v.min())&&(n=Ug(t)),new Bm(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Ug(e.commitTime);return this.listener.Vo(n,t)}return Pv(!e.writeResults||0===e.writeResults.length),this.Po=!0,this.listener.So()}},{key:"Do",value:function(){var e={};e.database=Hg(this.O),this.fo(e)}},{key:"vo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Xg(t.O,e)}))};this.fo(n)}}]),n}(kx),xx=function(e){sn(n,e);var t=pn(n);function n(e,r,i,a){var o;return an(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.eo=i,o.O=a,o.Co=!1,o}return un(n,[{key:"No",value:function(){if(this.Co)throw new Lv(Dv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Mr",value:function(e,t,n){var r=this;return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=wn(i,2),o=a[0],u=a[1];return r.eo.Mr(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Dv.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Lv(Dv.UNKNOWN,e.toString())}))}},{key:"Lr",value:function(e,t,n){var r=this;return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=wn(i,2),o=a[0],u=a[1];return r.eo.Lr(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Dv.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Lv(Dv.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Co=!0}}]),n}(function(){return un((function e(){an(this,e)}))}()),Ex=function(){function e(t,n){an(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.xo=0,this.ko=null,this.Oo=!0}return un(e,[{key:"Mo",value:function(){var e=this;0===this.xo&&(this.$o("Unknown"),this.ko=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ko=null,e.Fo("Backend didn't respond within 10 seconds."),e.$o("Offline"),Promise.resolve()})))}},{key:"Bo",value:function(e){"Online"===this.state?this.$o("Unknown"):(this.xo++,this.xo>=1&&(this.Lo(),this.Fo("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.$o("Offline")))}},{key:"set",value:function(e){this.Lo(),this.xo=0,"Online"===e&&(this.Oo=!1),this.$o(e)}},{key:"$o",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"Fo",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Oo?(Cv(t),this.Oo=!1):Tv("OnlineStateTracker",t)}},{key:"Lo",value:function(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}}]),e}(),Ix=un((function e(t,n,r,i,a){var o=this;an(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Uo=[],this.qo=new Map,this.Ko=new Set,this.Go=[],this.jo=a,this.jo.mr((function(e){r.enqueueAndForget(rn(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Lx(o),!e.t0){e.next=5;break}return Tv("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=rn(yn().mark((function e(t){var n;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Rv(t)).Ko.add(4),e.next=4,Tx(n);case 4:return n.Qo.set("Unknown"),n.Ko.delete(4),e.next=8,Sx(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Qo=new Ex(r,i)}));function Sx(e){return _x.apply(this,arguments)}function _x(){return _x=rn(yn().mark((function e(t){var n,r,i;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Lx(t)){e.next=18;break}n=mn(t.Go),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),_x.apply(this,arguments)}function Tx(e){return Cx.apply(this,arguments)}function Cx(){return Cx=rn(yn().mark((function e(t){var n,r,i;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=mn(t.Go),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Cx.apply(this,arguments)}function Ax(e,t){var n=Rv(e);n.qo.has(t.targetId)||(n.qo.set(t.targetId,t),Dx(n)?Rx(n):lE(n).co()&&Ox(n,t))}function Nx(e,t){var n=Rv(e),r=lE(n);n.qo.delete(t),r.co()&&Px(n,t),0===n.qo.size&&(r.co()?r.ho():Lx(n)&&n.Qo.set("Unknown"))}function Ox(e,t){e.Wo.Z(t.targetId),lE(e).Ao(t)}function Px(e,t){e.Wo.Z(t),lE(e).Ro(t)}function Rx(e){e.Wo=new Ag({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Tt:function(t){return e.qo.get(t)||null}}),lE(e).start(),e.Qo.Mo()}function Dx(e){return Lx(e)&&!lE(e).oo()&&e.qo.size>0}function Lx(e){return 0===Rv(e).Ko.size}function Mx(e){e.Wo=void 0}function Fx(e){return Ux.apply(this,arguments)}function Ux(){return Ux=rn(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.qo.forEach((function(e,n){Ox(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Ux.apply(this,arguments)}function jx(e,t){return Vx.apply(this,arguments)}function Vx(){return Vx=rn(yn().mark((function e(t,n){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Mx(t),Dx(t)?(t.Qo.Bo(n),Rx(t)):t.Qo.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Vx.apply(this,arguments)}function Bx(e,t,n){return zx.apply(this,arguments)}function zx(){return zx=rn(yn().mark((function e(t,n,r){var i;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Qo.set("Online"),!(n instanceof Tg&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=rn(yn().mark((function e(t,n){var r,i,a,o;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=mn(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.qo.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.qo.delete(o),t.Wo.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Tv("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,qx(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Sg?t.Wo.ct(n):n instanceof _g?t.Wo._t(n):t.Wo.ht(n),r.isEqual($v.min())){e.next=29;break}return e.prev=14,e.next=17,Tb(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Wo.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.qo.get(r);i&&e.qo.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.qo.get(t);if(n){e.qo.set(t,n.withResumeToken(uy.EMPTY_BYTE_STRING,n.snapshotVersion)),Px(e,t);var r=new ew(n.target,t,1,n.sequenceNumber);Ox(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Tv("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,qx(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),zx.apply(this,arguments)}function qx(e,t,n){return Kx.apply(this,arguments)}function Kx(){return Kx=rn(yn().mark((function e(t,n,r){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Kk(n)){e.next=2;break}throw n;case 2:return t.Ko.add(1),e.next=5,Tx(t);case 5:t.Qo.set("Offline"),r||(r=function(){return Tb(t.localStore)}),t.asyncQueue.enqueueRetryable(rn(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Tv("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Ko.delete(1),e.next=6,Sx(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Kx.apply(this,arguments)}function Hx(e,t){return t().catch((function(n){return qx(e,n,t)}))}function Wx(e){return Gx.apply(this,arguments)}function Gx(){return Gx=rn(yn().mark((function e(t){var n,r,i,a;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Rv(t),r=fE(n),i=n.Uo.length>0?n.Uo[n.Uo.length-1].batchId:-1;case 2:if(!Qx(n)){e.next=19;break}return e.prev=3,e.next=6,Nb(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Uo.length&&r.ho(),e.abrupt("break",19);case 10:i=a.batchId,Yx(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,qx(n,e.t0);case 17:e.next=2;break;case 19:Xx(n)&&Jx(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Gx.apply(this,arguments)}function Qx(e){return Lx(e)&&e.Uo.length<10}function Yx(e,t){e.Uo.push(t);var n=fE(e);n.co()&&n.bo&&n.vo(t.mutations)}function Xx(e){return Lx(e)&&!fE(e).oo()&&e.Uo.length>0}function Jx(e){fE(e).start()}function $x(e){return Zx.apply(this,arguments)}function Zx(){return Zx=rn(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fE(t).Do();case 1:case"end":return e.stop()}}),e)}))),Zx.apply(this,arguments)}function eE(e){return tE.apply(this,arguments)}function tE(){return tE=rn(yn().mark((function e(t){var n,r,i,a;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=fE(t),r=mn(t.Uo);try{for(r.s();!(i=r.n()).done;)a=i.value,n.vo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),tE.apply(this,arguments)}function nE(e,t,n){return rE.apply(this,arguments)}function rE(){return rE=rn(yn().mark((function e(t,n,r){var i,a;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Uo.shift(),a=$k.from(i,n,r),e.next=3,Hx(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Wx(t);case 5:case"end":return e.stop()}}),e)}))),rE.apply(this,arguments)}function iE(e,t){return aE.apply(this,arguments)}function aE(){return aE=rn(yn().mark((function e(t,n){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&fE(t).bo,!e.t0){e.next=4;break}return e.next=4,function(){var e=rn(yn().mark((function e(t,n){var r,i;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!og(i=n.code)||i===Dv.ABORTED){e.next=7;break}return r=t.Uo.shift(),fE(t).ao(),e.next=5,Hx(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Wx(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Xx(t)&&Jx(t);case 5:case"end":return e.stop()}}),e)}))),aE.apply(this,arguments)}function oE(e,t){return uE.apply(this,arguments)}function uE(){return uE=rn(yn().mark((function e(t,n){var r,i;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Rv(t)).asyncQueue.verifyOperationInProgress(),Tv("RemoteStore","RemoteStore received new credentials"),i=Lx(r),r.Ko.add(3),e.next=6,Tx(r);case 6:return i&&r.Qo.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Ko.delete(3),e.next=12,Sx(r);case 12:case"end":return e.stop()}}),e)}))),uE.apply(this,arguments)}function sE(e,t){return cE.apply(this,arguments)}function cE(){return cE=rn(yn().mark((function e(t,n){var r;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Rv(t),!n){e.next=7;break}return r.Ko.delete(2),e.next=5,Sx(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Ko.add(2),e.next=12,Tx(r);case 12:r.Qo.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),cE.apply(this,arguments)}function lE(e){return e.zo||(e.zo=function(e,t,n){var r=Rv(e);return r.No(),new wx(t,r.eo,r.authCredentials,r.appCheckCredentials,r.O,n)}(e.datastore,e.asyncQueue,{Pr:Fx.bind(null,e),vr:jx.bind(null,e),To:Bx.bind(null,e)}),e.Go.push(function(){var t=rn(yn().mark((function t(n){return yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.zo.ao(),Dx(e)?Rx(e):e.Qo.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.zo.stop();case 6:Mx(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.zo}function fE(e){return e.Ho||(e.Ho=function(e,t,n){var r=Rv(e);return r.No(),new bx(t,r.eo,r.authCredentials,r.appCheckCredentials,r.O,n)}(e.datastore,e.asyncQueue,{Pr:$x.bind(null,e),vr:iE.bind(null,e),So:eE.bind(null,e),Vo:nE.bind(null,e)}),e.Go.push(function(){var t=rn(yn().mark((function t(n){return yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Ho.ao(),t.next=4,Wx(e);case 4:t.next=9;break;case 6:return t.next=8,e.Ho.stop();case 8:e.Uo.length>0&&(Tv("RemoteStore","Stopping write stream with ".concat(e.Uo.length," pending writes")),e.Uo=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Ho}var hE=function(){function e(t,n,r,i,a){an(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Mv,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return un(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Lv(Dv.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function dE(e,t){if(Cv("AsyncQueue","".concat(t,": ").concat(e)),Kk(e))return new Lv(Dv.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var pE=function(){function e(t){an(this,e),this.comparator=t?function(e,n){return t(e,n)||wy.comparator(e.key,n.key)}:function(e,t){return wy.comparator(e.key,t.key)},this.keyedMap=mg(),this.sortedSet=new sg(this.comparator)}return un(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),vE=function(){function e(){an(this,e),this.Jo=new sg(wy.comparator)}return un(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Jo.get(t);n?0!==e.type&&3===n.type?this.Jo=this.Jo.insert(t,e):3===e.type&&1!==n.type?this.Jo=this.Jo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Jo=this.Jo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Jo=this.Jo.remove(t):1===e.type&&2===n.type?this.Jo=this.Jo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):Ov():this.Jo=this.Jo.insert(t,e)}},{key:"Yo",value:function(){var e=[];return this.Jo.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),yE=function(){function e(t,n,r,i,a,o,u,s){an(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return un(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&km(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,pE.emptySet(n),a,r,i,!0,!1)}}]),e}(),mE=un((function e(){an(this,e),this.Xo=void 0,this.listeners=[]})),gE=un((function e(){an(this,e),this.queries=new ib((function(e){return wm(e)}),km),this.onlineState="Unknown",this.Zo=new Set}));function kE(e,t){return wE.apply(this,arguments)}function wE(){return wE=rn(yn().mark((function e(t,n){var r,i,a,o,u;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Rv(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new mE),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Xo=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=dE(e.t0,"Initialization of query '".concat(bm(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.tc(r.onlineState),o.Xo&&n.ec(o.Xo)&&SE(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),wE.apply(this,arguments)}function bE(e,t){return xE.apply(this,arguments)}function xE(){return xE=rn(yn().mark((function e(t,n){var r,i,a,o,u;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Rv(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),xE.apply(this,arguments)}function EE(e,t){var n,r=Rv(e),i=!1,a=mn(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=mn(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.ec(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Xo=o}}}catch(f){a.e(f)}finally{a.f()}i&&SE(r)}function IE(e,t,n){var r=Rv(e),i=r.queries.get(t);if(i){var a,o=mn(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function SE(e){e.Zo.forEach((function(e){e.next()}))}var _E=function(){function e(t,n,r){an(this,e),this.query=t,this.nc=n,this.sc=!1,this.ic=null,this.onlineState="Unknown",this.options=r||{}}return un(e,[{key:"ec",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=mn(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new yE(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.sc?this.rc(e)&&(this.nc.next(e),a=!0):this.oc(e,this.onlineState)&&(this.cc(e),a=!0),this.ic=e,a}},{key:"onError",value:function(e){this.nc.error(e)}},{key:"tc",value:function(e){this.onlineState=e;var t=!1;return this.ic&&!this.sc&&this.oc(this.ic,e)&&(this.cc(this.ic),t=!0),t}},{key:"oc",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.uc||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"rc",value:function(e){if(e.docChanges.length>0)return!0;var t=this.ic&&this.ic.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"cc",value:function(e){e=yE.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.sc=!0,this.nc.next(e)}}]),e}(),TE=function(){function e(t,n){an(this,e),this.payload=t,this.byteLength=n}return un(e,[{key:"ac",value:function(){return"metadata"in this.payload}}]),e}(),CE=function(){function e(t){an(this,e),this.O=t}return un(e,[{key:"Gs",value:function(e){return zg(this.O,e)}},{key:"js",value:function(e){return e.metadata.exists?Qg(this.O,e.document,!1):Uy.newNoDocument(this.Gs(e.metadata.name),this.Qs(e.metadata.readTime))}},{key:"Qs",value:function(e){return Ug(e)}}]),e}(),AE=function(){function e(t,n,r){an(this,e),this.hc=t,this.localStore=n,this.O=r,this.queries=[],this.documents=[],this.progress=NE(t)}return un(e,[{key:"lc",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"fc",value:function(e){var t,n=new Map,r=new CE(this.O),i=mn(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Gs(a.metadata.name),s=mn(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||wg()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=rn(yn().mark((function e(){var t,n,r,i,a;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jb(this.localStore,new CE(this.O),this.documents,this.hc.id);case 2:t=e.sent,n=this.fc(this.documents),r=mn(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Bb(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new gb(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function NE(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var OE=un((function e(t){an(this,e),this.key=t})),PE=un((function e(t){an(this,e),this.key=t})),RE=function(){function e(t,n){an(this,e),this.query=t,this.dc=n,this._c=null,this.current=!1,this.wc=wg(),this.mutatedKeys=wg(),this.mc=Em(t),this.gc=new pE(this.mc)}return un(e,[{key:"yc",get:function(){return this.dc}},{key:"Ic",value:function(e,t){var n=this,r=t?t.Ec:new vE,i=t?t.gc:this.gc,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=fm(this.query)&&i.size===this.query.limit?i.last():null,c=hm(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=xm(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Tc(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.mc(f,s)>0||c&&n.mc(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),fm(this.query)||hm(this.query))for(;o.size>this.query.limit;){var l=fm(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{gc:o,Ec:r,ks:u,mutatedKeys:a}}},{key:"Tc",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.gc;this.gc=e.gc,this.mutatedKeys=e.mutatedKeys;var a=e.Ec.Yo();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ov()}};return n(e)-n(t)}(e.type,t.type)||r.mc(e.doc,t.doc)})),this.Ac(n);var o=t?this.Rc():[],u=0===this.wc.size&&this.current?1:0,s=u!==this._c;return this._c=u,0!==a.length||s?{snapshot:new yE(this.query,e.gc,i,a,e.mutatedKeys,0===u,s,!1),Pc:o}:{Pc:o}}},{key:"tc",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({gc:this.gc,Ec:new vE,mutatedKeys:this.mutatedKeys,ks:!1},!1)):{Pc:[]}}},{key:"bc",value:function(e){return!this.dc.has(e)&&!!this.gc.has(e)&&!this.gc.get(e).hasLocalMutations}},{key:"Ac",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.dc=t.dc.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.dc=t.dc.delete(e)})),this.current=e.current)}},{key:"Rc",value:function(){var e=this;if(!this.current)return[];var t=this.wc;this.wc=wg(),this.gc.forEach((function(t){e.bc(t.key)&&(e.wc=e.wc.add(t.key))}));var n=[];return t.forEach((function(t){e.wc.has(t)||n.push(new PE(t))})),this.wc.forEach((function(e){t.has(e)||n.push(new OE(e))})),n}},{key:"vc",value:function(e){this.dc=e.Ks,this.wc=wg();var t=this.Ic(e.documents);return this.applyChanges(t,!0)}},{key:"Vc",value:function(){return yE.fromInitialDocuments(this.query,this.gc,this.mutatedKeys,0===this._c)}}]),e}(),DE=un((function e(t,n,r){an(this,e),this.query=t,this.targetId=n,this.view=r})),LE=un((function e(t){an(this,e),this.key=t,this.Sc=!1})),ME=function(){function e(t,n,r,i,a,o){an(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Dc={},this.Cc=new ib((function(e){return wm(e)}),km),this.Nc=new Map,this.xc=new Set,this.kc=new sg(wy.comparator),this.Oc=new Map,this.Mc=new Hb,this.$c={},this.Fc=new Map,this.Bc=Hw.Je(),this.onlineState="Unknown",this.Lc=void 0}return un(e,[{key:"isPrimaryClient",get:function(){return!0===this.Lc}}]),e}();function FE(e,t){return UE.apply(this,arguments)}function UE(){return UE=rn(yn().mark((function e(t,n){var r,i,a,o,u,s;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=NI(t),!(o=r.Cc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Vc(),e.next=15;break;case 6:return e.next=8,Ob(r.localStore,mm(n));case 8:return u=e.sent,r.isPrimaryClient&&Ax(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,jE(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),UE.apply(this,arguments)}function jE(e,t,n,r){return VE.apply(this,arguments)}function VE(){return VE=rn(yn().mark((function e(t,n,r,i){var a,o,u,s,c,l;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Uc=function(e,n,r){return function(){var e=rn(yn().mark((function e(t,n,r,i){var a,o,u;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Ic(r),e.t0=a.ks,!e.t0){e.next=6;break}return e.next=5,Db(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Ic(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(oI(t,n.targetId,u.Pc),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Db(t.localStore,n,!0);case 3:return a=e.sent,o=new RE(n,a.Ks),u=o.Ic(a.documents),s=Ig.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),oI(t,r,c.Pc),l=new DE(n,r,o),e.abrupt("return",(t.Cc.set(n,l),t.Nc.has(r)?t.Nc.get(r).push(n):t.Nc.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),VE.apply(this,arguments)}function BE(e,t){return zE.apply(this,arguments)}function zE(){return zE=rn(yn().mark((function e(t,n){var r,i,a;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Rv(t),i=r.Cc.get(n),!((a=r.Nc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Nc.set(i.targetId,a.filter((function(e){return!km(e,n)}))),void r.Cc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Pb(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Nx(r.remoteStore,i.targetId),iI(r,i.targetId)})).catch(Xw);case 9:e.next=14;break;case 11:return iI(r,i.targetId),e.next=14,Pb(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),zE.apply(this,arguments)}function qE(e,t,n){return KE.apply(this,arguments)}function KE(){return KE=rn(yn().mark((function e(t,n,r){var i,a,o;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=OI(t),e.prev=1,e.next=4,function(e,t){var n,r=Rv(e),i=Jv.now(),a=t.reduce((function(e,t){return e.add(t.key)}),wg());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Us.Es(e,a).next((function(a){n=a;var o,u=[],s=mn(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Gm(c,n.get(c.key));null!=l&&u.push(new Jm(c.key,l,Fy(l.value.mapValue),zm.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.gs.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.$c[e.currentUser.toKey()];r||(r=new sg(Qv)),r=r.insert(t,n),e.$c[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,cI(i,a.changes);case 9:return e.next=11,Wx(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=dE(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),KE.apply(this,arguments)}function HE(e,t){return WE.apply(this,arguments)}function WE(){return WE=rn(yn().mark((function e(t,n){var r,i;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rv(t),e.prev=1,e.next=4,Cb(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Oc.get(t);n&&(Pv(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Sc=!0:e.modifiedDocuments.size>0?Pv(n.Sc):e.removedDocuments.size>0&&(Pv(n.Sc),n.Sc=!1))})),e.next=8,cI(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Xw(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),WE.apply(this,arguments)}function GE(e,t,n){var r=Rv(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Cc.forEach((function(e,n){var r=n.view.tc(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Rv(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=mn(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.tc(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&SE(n)}(r.eventManager,t),i.length&&r.Dc.To(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function QE(e,t,n){return YE.apply(this,arguments)}function YE(){return YE=rn(yn().mark((function e(t,n,r){var i,a,o,u,s,c;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Rv(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Oc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new sg(wy.comparator)).insert(o,Uy.newNoDocument(o,$v.min())),s=wg().add(o),c=new Eg($v.min(),new Map,new fg(Qv),u,s),e.next=9,HE(i,c);case 9:i.kc=i.kc.remove(o),i.Oc.delete(n),sI(i),e.next=16;break;case 14:return e.next=16,Pb(i.localStore,n,!1).then((function(){return iI(i,n,r)})).catch(Xw);case 16:case"end":return e.stop()}}),e)}))),YE.apply(this,arguments)}function XE(e,t){return JE.apply(this,arguments)}function JE(){return JE=rn(yn().mark((function e(t,n){var r,i,a;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rv(t),i=n.batch.batchId,e.prev=1,e.next=4,_b(r.localStore,n);case 4:return a=e.sent,rI(r,i,null),nI(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,cI(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Xw(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),JE.apply(this,arguments)}function $E(e,t,n){return ZE.apply(this,arguments)}function ZE(){return ZE=rn(yn().mark((function e(t,n,r){var i,a;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Rv(t),e.prev=1,e.next=4,function(e,t){var n=Rv(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.gs.lookupMutationBatch(e,t).next((function(t){return Pv(null!==t),r=t.keys(),n.gs.removeMutationBatch(e,t)})).next((function(){return n.gs.performConsistencyCheck(e)})).next((function(){return n.Us.Es(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,rI(i,n,r),nI(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,cI(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Xw(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),ZE.apply(this,arguments)}function eI(e,t){return tI.apply(this,arguments)}function tI(){return tI=rn(yn().mark((function e(t,n){var r,i,a,o;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Lx((r=Rv(t)).remoteStore)||Tv("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Rv(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.gs.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.Fc.get(i)||[]).push(n),r.Fc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=dE(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),tI.apply(this,arguments)}function nI(e,t){(e.Fc.get(t)||[]).forEach((function(e){e.resolve()})),e.Fc.delete(t)}function rI(e,t,n){var r=Rv(e),i=r.$c[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.$c[r.currentUser.toKey()]=i}}function iI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=mn(e.Nc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Cc.delete(a),n&&e.Dc.qc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Nc.delete(t),e.isPrimaryClient&&e.Mc.si(t).forEach((function(t){e.Mc.containsKey(t)||aI(e,t)}))}function aI(e,t){e.xc.delete(t.path.canonicalString());var n=e.kc.get(t);null!==n&&(Nx(e.remoteStore,n),e.kc=e.kc.remove(t),e.Oc.delete(n),sI(e))}function oI(e,t,n){var r,i=mn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof OE?(e.Mc.addReference(a.key,t),uI(e,a)):a instanceof PE?(Tv("SyncEngine","Document no longer in limbo: "+a.key),e.Mc.removeReference(a.key,t),e.Mc.containsKey(a.key)||aI(e,a.key)):Ov()}}catch(o){i.e(o)}finally{i.f()}}function uI(e,t){var n=t.key,r=n.path.canonicalString();e.kc.get(n)||e.xc.has(r)||(Tv("SyncEngine","New document in limbo: "+n),e.xc.add(r),sI(e))}function sI(e){for(;e.xc.size>0&&e.kc.size<e.maxConcurrentLimboResolutions;){var t=e.xc.values().next().value;e.xc.delete(t);var n=new wy(ry.fromString(t)),r=e.Bc.next();e.Oc.set(r,new LE(n)),e.kc=e.kc.insert(n,r),Ax(e.remoteStore,new ew(mm(lm(n.path)),r,2,Hv.A))}}function cI(e,t,n){return lI.apply(this,arguments)}function lI(){return lI=rn(yn().mark((function e(t,n,r){var i,a,o,u;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Rv(t),a=[],o=[],u=[],e.t0=i.Cc.isEmpty(),e.t0){e.next=9;break}return i.Cc.forEach((function(e,t){u.push(i.Uc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=wb.Ss(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Dc.To(a),e.next=9,function(){var e=rn(yn().mark((function e(t,n){var r,i,a,o,u,s,c,l;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rv(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return jk.forEach(n,(function(t){return jk.forEach(t.vs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return jk.forEach(t.Vs,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Kk(e.t0)){e.next=10;break}throw e.t0;case 10:Tv("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=mn(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Ms.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Ms=r.Ms.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),lI.apply(this,arguments)}function fI(e,t){return hI.apply(this,arguments)}function hI(){return hI=rn(yn().mark((function e(t,n){var r,i;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Rv(t)).currentUser.isEqual(n)){e.next=11;break}return Tv("SyncEngine","User change. New user:",n.toKey()),e.next=5,Ib(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Fc.forEach((function(e){e.forEach((function(e){e.reject(new Lv(Dv.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Fc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,cI(r,i.qs);case 11:case"end":return e.stop()}}),e)}))),hI.apply(this,arguments)}function dI(e,t){var n=Rv(e),r=n.Oc.get(t);if(r&&r.Sc)return wg().add(r.key);var i=wg(),a=n.Nc.get(t);if(!a)return i;var o,u=mn(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.Cc.get(s);i=i.unionWith(c.view.yc)}}catch(l){u.e(l)}finally{u.f()}return i}function pI(e,t){return vI.apply(this,arguments)}function vI(){return vI=rn(yn().mark((function e(t,n){var r,i,a;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rv(t),e.next=3,Db(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.vc(i),e.abrupt("return",(r.isPrimaryClient&&oI(r,n.targetId,a.Pc),a));case 6:case"end":return e.stop()}}),e)}))),vI.apply(this,arguments)}function yI(e){return mI.apply(this,arguments)}function mI(){return mI=rn(yn().mark((function e(t){var n;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Rv(t),e.abrupt("return",Mb(n.localStore).then((function(e){return cI(n,e)})));case 2:case"end":return e.stop()}}),e)}))),mI.apply(this,arguments)}function gI(e,t,n,r){return kI.apply(this,arguments)}function kI(){return kI=rn(yn().mark((function e(t,n,r,i){var a,o;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Rv(t),e.next=3,function(e,t){var n=Rv(e),r=Rv(n.gs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Ge(e,t).next((function(t){return t?n.Us.Es(e,t):jk.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Wx(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(rI(a,n,i||null),nI(a,n),function(e,t){Rv(Rv(e).gs).Qe(t)}(a.localStore,n)):Ov();case 11:return e.next=13,cI(a,o);case 13:e.next=16;break;case 15:Tv("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),kI.apply(this,arguments)}function wI(e,t){return bI.apply(this,arguments)}function bI(){return bI=rn(yn().mark((function e(t,n){var r,i,a,o,u,s,c,l;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(NI(r=Rv(t)),OI(r),!0!==n||!0===r.Lc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,xI(r,i.toArray());case 5:return a=e.sent,r.Lc=!0,e.next=9,sE(r.remoteStore,!0);case 9:o=mn(a);try{for(o.s();!(u=o.n()).done;)s=u.value,Ax(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Lc){e.next=25;break}return c=[],l=Promise.resolve(),r.Nc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return iI(r,t),Pb(r.localStore,t,!0)})),Nx(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,xI(r,c);case 21:return function(e){var t=Rv(e);t.Oc.forEach((function(e,n){Nx(t.remoteStore,n)})),t.Mc.ii(),t.Oc=new Map,t.kc=new sg(wy.comparator)}(r),r.Lc=!1,e.next=25,sE(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),bI.apply(this,arguments)}function xI(e,t,n){return EI.apply(this,arguments)}function EI(){return EI=rn(yn().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,y,m;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Rv(t),a=[],o=[],u=mn(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.Nc.get(c))||0===f.length){e.next=34;break}return e.next=11,Ob(i.localStore,mm(f[0]));case 11:l=e.sent,h=mn(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.Cc.get(p),e.next=20,pI(i,v);case 20:(y=e.sent).snapshot&&o.push(y.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Lb(i.localStore,c);case 36:return m=e.sent,e.next=39,Ob(i.localStore,m);case 39:return l=e.sent,e.next=42,jE(i,II(m),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Dc.To(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),EI.apply(this,arguments)}function II(e){return cm(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function SI(e){var t=Rv(e);return Rv(Rv(t.localStore).persistence).ds()}function _I(e,t,n,r){return TI.apply(this,arguments)}function TI(){return TI=rn(yn().mark((function e(t,n,r,i){var a,o,u;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Rv(t)).Lc){e.next=5;break}Tv("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!a.Nc.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,Mb(a.localStore);case 11:return o=e.sent,u=Eg.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,cI(a,o,u);case 15:return e.abrupt("break",21);case 16:return e.next=18,Pb(a.localStore,n,!0);case 18:return iI(a,n,i),e.abrupt("break",21);case 20:Ov();case 21:case"end":return e.stop()}}),e)}))),TI.apply(this,arguments)}function CI(e,t,n){return AI.apply(this,arguments)}function AI(){return AI=rn(yn().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=NI(t)).Lc){e.next=45;break}a=mn(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.Nc.has(u)){e.next=10;break}return Tv("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,Lb(i.localStore,u);case 12:return s=e.sent,e.next=15,Ob(i.localStore,s);case 15:return c=e.sent,e.next=18,jE(i,II(s),c.targetId,!1);case 18:Ax(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=mn(r),e.prev=30,h=yn().mark((function e(){var t;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Nc.has(t),!e.t0){e.next=5;break}return e.next=5,Pb(i.localStore,t,!1).then((function(){Nx(i.remoteStore,t),iI(i,t)})).catch(Xw);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),AI.apply(this,arguments)}function NI(e){var t=Rv(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=HE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=dI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=QE.bind(null,t),t.Dc.To=EE.bind(null,t.eventManager),t.Dc.qc=IE.bind(null,t.eventManager),t}function OI(e){var t=Rv(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=XE.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=$E.bind(null,t),t}function PI(e,t,n){var r=Rv(e);(function(){var e=rn(yn().mark((function e(t,n,r){var i,a,o,u,s;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Rv(e),r=Ug(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Kn.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)));case 10:return r._updateProgress(NE(i)),a=new AE(i,t.localStore,n.O),e.next=14,n.Kc();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,a.lc(o);case 18:return(u=e.sent)&&r._updateProgress(u),e.next=22,n.Kc();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,a.complete();case 27:return s=e.sent,e.next=30,cI(t,s.ws,void 0);case 30:return e.next=32,function(e,t){var n=Rv(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Kn.saveBundleMetadata(e,t)}))}(t.localStore,i);case 32:r._completeWith(s.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),Av("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var RI=function(){function e(){an(this,e),this.synchronizeTabs=!1}return un(e,[{key:"initialize",value:function(){var e=rn(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.O=mx(t.databaseInfo.databaseId),this.sharedClientState=this.Gc(t),this.persistence=this.jc(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Qc(t),this.localStore=this.Wc(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Qc",value:function(e){return null}},{key:"Wc",value:function(e){return Eb(this.persistence,new bb,e.initialUser,this.O)}},{key:"jc",value:function(e){return new Jb(Zb.bi,this.O)}},{key:"Gc",value:function(e){return new cx}},{key:"terminate",value:function(){var e=rn(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),DI=function(e){sn(n,e);var t=pn(n);function n(e,r,i){var a;return an(this,n),(a=t.call(this)).zc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return un(n,[{key:"initialize",value:function(){var e=rn(yn().mark((function e(t){var r=this;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qr(cn(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,Fb(this.localStore);case 4:return e.next=6,this.zc.initialize(this,t);case 6:return e.next=8,OI(this.zc.syncEngine);case 8:return e.next=10,Wx(this.zc.remoteStore);case 10:return e.next=12,this.persistence.Hn((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Wc",value:function(e){return Eb(this.persistence,new bb,e.initialUser,this.O)}},{key:"Qc",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new eb(t,e.asyncQueue)}},{key:"jc",value:function(e){var t=mb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Fw.withCacheSize(this.cacheSizeBytes):Fw.DEFAULT;return new pb(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,vx(),yx(),this.O,this.sharedClientState,!!this.forceOwnership)}},{key:"Gc",value:function(e){return new cx}}]),n}(RI),LI=function(e){sn(n,e);var t=pn(n);function n(e,r){var i;return an(this,n),(i=t.call(this,e,r,!1)).zc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return un(n,[{key:"initialize",value:function(){var e=rn(yn().mark((function e(t){var r,i=this;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qr(cn(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.zc.syncEngine,e.t0=this.sharedClientState instanceof sx,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={hr:gI.bind(null,r),lr:_I.bind(null,r),dr:CI.bind(null,r),ds:SI.bind(null,r),ar:yI.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Hn(function(){var e=rn(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wI(i.zc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Gc",value:function(e){var t=vx();if(!sx.Vt(t))throw new Lv(Dv.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=mb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new sx(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(DI),MI=function(){function e(){an(this,e)}return un(e,[{key:"initialize",value:function(){var e=rn(yn().mark((function e(t,n){var r=this;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return GE(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=fI.bind(null,this.syncEngine),e.next=12,sE(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new gE}},{key:"createDatastore",value:function(e){var t,n=mx(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new px(t));return function(e,t,n,r){return new xx(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return GE(o.syncEngine,e,0)},a=fx.Vt()?new fx:new lx,new Ix(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new ME(e,t,n,r,i,a);return o&&(u.Lc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=rn(yn().mark((function e(t){var n;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Rv(t),Tv("RemoteStore","RemoteStore shutting down."),n.Ko.add(5),e.next=5,Tx(n);case 5:n.jo.shutdown(),n.Qo.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function FI(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return rn(yn().mark((function r(){var i;return yn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return rn(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var UI=function(){function e(t){an(this,e),this.observer=t,this.muted=!1}return un(e,[{key:"next",value:function(e){this.observer.next&&this.Hc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Hc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Jc",value:function(){this.muted=!0}},{key:"Hc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),jI=function(){function e(t,n){var r=this;an(this,e),this.Yc=t,this.O=n,this.metadata=new Mv,this.buffer=new Uint8Array,this.Xc=new TextDecoder("utf-8"),this.Zc().then((function(e){e&&e.ac()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return un(e,[{key:"close",value:function(){return this.Yc.cancel()}},{key:"getMetadata",value:function(){var e=rn(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Kc",value:function(){var e=rn(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Zc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(){var e=rn(yn().mark((function e(){var t,n,r,i;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.tu();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Xc.decode(t),r=Number(n),isNaN(r)&&this.eu("length string (".concat(n,") is not valid number")),e.next=9,this.nu(r);case 9:return i=e.sent,e.abrupt("return",new TE(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"su",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"tu",value:function(){var e=rn(yn().mark((function e(){var t,n;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.su()<0)){e.next=7;break}return e.next=3,this.iu();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.su())<0&&this.eu("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"nu",value:function(){var e=rn(yn().mark((function e(t){var n;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.iu();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.eu("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Xc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"eu",value:function(e){throw this.Yc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"iu",value:function(){var e=rn(yn().mark((function e(){var t,n;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Yc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),VI=function(){function e(t){an(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return un(e,[{key:"lookup",value:function(){var e=rn(yn().mark((function e(t){var n,r=this;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Lv(Dv.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=rn(yn().mark((function e(t,n){var r,i,a,o,u,s;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rv(t),i=Hg(r.O)+"/documents",a={documents:n.map((function(e){return Bg(r.O,e)}))},e.next=5,r.Lr("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Yg(r.O,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Pv(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new rg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=rn(yn().mark((function e(){var t,n=this;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=wy.fromPath(t);n.mutations.push(new ig(r,n.precondition(r)))})),e.next=7,function(){var e=rn(yn().mark((function e(t,n){var r,i,a;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rv(t),i=Hg(r.O)+"/documents",a={writes:n.map((function(e){return Xg(r.O,e)}))},e.next=3,r.Mr("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ov();t=$v.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Lv(Dv.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?zm.updateTime(t):zm.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual($v.min()))throw new Lv(Dv.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return zm.updateTime(t)}return zm.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),BI=function(){function e(t,n,r,i){an(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.ru=5,this.ro=new gx(this.asyncQueue,"transaction_retry")}return un(e,[{key:"run",value:function(){this.ru-=1,this.ou()}},{key:"ou",value:function(){var e=this;this.ro.Hr(rn(yn().mark((function t(){var n,r;return yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new VI(e.datastore),(r=e.cu(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.uu(t)}))}))})).catch((function(t){e.uu(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"cu",value:function(e){try{var t=this.updateFunction(e);return!my(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"uu",value:function(e){var t=this;this.ru>0&&this.au(e)?(this.ru-=1,this.asyncQueue.enqueueAndForget((function(){return t.ou(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"au",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!og(t)}return!1}}]),e}(),zI=function(){function e(t,n,r,i){var a=this;an(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ev.UNAUTHENTICATED,this.clientId=Gv.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=rn(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Tv("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Tv("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return un(e,[{key:"getConfiguration",value:function(){var e=rn(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Lv(Dv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Mv;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(rn(yn().mark((function n(){var r;return yn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=dE(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function qI(e,t){return KI.apply(this,arguments)}function KI(){return KI=rn(yn().mark((function e(t,n){var r,i;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Tv("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=rn(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Ib(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),KI.apply(this,arguments)}function HI(e,t){return WI.apply(this,arguments)}function WI(){return WI=rn(yn().mark((function e(t,n){var r,i;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,GI(t);case 3:return r=e.sent,Tv("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return oE(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return oE(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),WI.apply(this,arguments)}function GI(e){return QI.apply(this,arguments)}function QI(){return QI=rn(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Tv("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,qI(t,new RI);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),QI.apply(this,arguments)}function YI(e){return XI.apply(this,arguments)}function XI(){return XI=rn(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Tv("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,HI(t,new MI);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),XI.apply(this,arguments)}function JI(e){return GI(e).then((function(e){return e.persistence}))}function $I(e){return GI(e).then((function(e){return e.localStore}))}function ZI(e){return YI(e).then((function(e){return e.remoteStore}))}function eS(e){return YI(e).then((function(e){return e.syncEngine}))}function tS(e){return nS.apply(this,arguments)}function nS(){return nS=rn(yn().mark((function e(t){var n,r;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,YI(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=FE.bind(null,n.syncEngine),r.onUnlisten=BE.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),nS.apply(this,arguments)}function rS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Mv;return e.asyncQueue.enqueueAndForget(rn(yn().mark((function i(){return yn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new UI({next:function(a){t.enqueueAndForget((function(){return bE(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Lv(Dv.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Lv(Dv.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new _E(lm(n.path),a,{includeMetadataChanges:!0,uc:!0});return kE(e,o)},i.next=3,tS(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function iS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Mv;return e.asyncQueue.enqueueAndForget(rn(yn().mark((function i(){return yn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new UI({next:function(n){t.enqueueAndForget((function(){return bE(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Lv(Dv.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new _E(n,a,{includeMetadataChanges:!0,uc:!0});return kE(e,o)},i.next=3,tS(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var aS=new Map;function oS(e,t,n){if(!n)throw new Lv(Dv.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function uS(e,t,n,r){if(!0===t&&!0===r)throw new Lv(Dv.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function sS(e){if(!wy.isDocumentKey(e))throw new Lv(Dv.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function cS(e){if(wy.isDocumentKey(e))throw new Lv(Dv.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function lS(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Ov()}function fS(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Lv(Dv.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=lS(e);throw new Lv(Dv.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function hS(e,t){if(t<=0)throw new Lv(Dv.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var dS=function(){function e(t){var n;if(an(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Lv(Dv.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Lv(Dv.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,uS("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return un(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),pS=function(){function e(t,n,r){an(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dS({}),this._settingsFrozen=!1,t instanceof yy?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Lv(Dv.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yy(e.options.projectId)}(t))}return un(e,[{key:"app",get:function(){if(!this._app)throw new Lv(Dv.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Lv(Dv.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dS(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Uv;switch(e.type){case"gapi":var t=e.client;return Pv(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new zv(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Lv(Dv.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=aS.get(e);t&&(Tv("ComponentProvider","Removing Datastore"),aS.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function vS(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=fS(e,pS))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Av("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Ev.MOCK_USER;else{o=Nn(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Lv(Dv.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ev(s)}e._authCredentials=new jv(new Fv(o,u))}}var yS=function(){function e(t,n,r){an(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return un(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new gS(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),mS=function(){function e(t,n,r){an(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return un(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),gS=function(e){sn(n,e);var t=pn(n);function n(e,r,i){var a;return an(this,n),(a=t.call(this,e,r,lm(i)))._path=i,a.type="collection",a}return un(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new yS(this.firestore,null,new wy(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(mS);function kS(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Jn(e),oS("collection","path",t),e instanceof pS){var a=ry.fromString.apply(ry,[t].concat(r));return cS(a),new gS(e,null,a)}if(!(e instanceof yS||e instanceof gS))throw new Lv(Dv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ry.fromString.apply(ry,[t].concat(r)));return cS(o),new gS(e.firestore,null,o)}function wS(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Jn(e),1===arguments.length&&(t=Gv.R()),oS("doc","path",t),e instanceof pS){var a=ry.fromString.apply(ry,[t].concat(r));return sS(a),new yS(e,null,new wy(a))}if(!(e instanceof yS||e instanceof gS))throw new Lv(Dv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ry.fromString.apply(ry,[t].concat(r)));return sS(o),new yS(e.firestore,e instanceof gS?e.converter:null,new wy(o))}function bS(e,t){return e=Jn(e),t=Jn(t),(e instanceof yS||e instanceof gS)&&(t instanceof yS||t instanceof gS)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function xS(e,t){return e=Jn(e),t=Jn(t),e instanceof mS&&t instanceof mS&&e.firestore===t.firestore&&km(e._query,t._query)&&e.converter===t.converter}var ES=function(){function e(){var t=this;an(this,e),this.hu=Promise.resolve(),this.lu=[],this.fu=!1,this.du=[],this._u=null,this.wu=!1,this.mu=!1,this.gu=[],this.ro=new gx(this,"async_queue_retry"),this.yu=function(){var e=yx();e&&Tv("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ro.Yr()};var n=yx();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.yu)}return un(e,[{key:"isShuttingDown",get:function(){return this.fu}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.pu(),this.Iu(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.fu){this.fu=!0,this.mu=e||!1;var t=yx();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.yu)}}},{key:"enqueue",value:function(e){var t=this;if(this.pu(),this.fu)return new Promise((function(){}));var n=new Mv;return this.Iu((function(){return t.fu&&t.mu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.lu.push(e),t.Eu()}))}},{key:"Eu",value:function(){var e=rn(yn().mark((function e(){var t=this;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.lu.length){e.next=14;break}return e.prev=1,e.next=4,this.lu[0]();case 4:this.lu.shift(),this.ro.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Kk(e.t0)){e.next=12;break}throw e.t0;case 12:Tv("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.lu.length>0&&this.ro.Hr((function(){return t.Eu()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Iu",value:function(e){var t=this,n=this.hu.then((function(){return t.wu=!0,e().catch((function(e){t._u=e,t.wu=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Cv("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.wu=!1,e}))}));return this.hu=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.pu(),this.gu.indexOf(e)>-1&&(t=0);var i=hE.createAndSchedule(this,e,t,n,(function(e){return r.Tu(e)}));return this.du.push(i),i}},{key:"pu",value:function(){this._u&&Ov()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Au",value:function(){var e=rn(yn().mark((function e(){var t;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.hu,e.next=3,t;case 3:if(t!==this.hu){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ru",value:function(e){var t,n=mn(this.du);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Pu",value:function(e){var t=this;return this.Au().then((function(){t.du.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=mn(t.du);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Au()}))}},{key:"bu",value:function(e){this.gu.push(e)}},{key:"Tu",value:function(e){var t=this.du.indexOf(e);this.du.splice(t,1)}}]),e}();function IS(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=mn(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var SS=function(){function e(){an(this,e),this._progressObserver={},this._taskCompletionResolver=new Mv,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return un(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),_S=function(e){sn(n,e);var t=pn(n);function n(e,r,i){var a;return an(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new ES,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return un(n,[{key:"_terminate",value:function(){return this._firestoreClient||CS(this),this._firestoreClient.terminate()}}]),n}(pS);function TS(e){return e._firestoreClient||CS(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function CS(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new vy(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new zI(e._authCredentials,e._appCheckCredentials,e._queue,r)}function AS(e,t,n){var r=new Mv;return e.asyncQueue.enqueue(rn(yn().mark((function i(){return yn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,qI(e,n);case 3:return i.next=5,HI(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Dv.FAILED_PRECONDITION||e.code===Dv.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function NS(e){return function(e){return e.asyncQueue.enqueue(rn(yn().mark((function t(){var n,r;return yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,JI(e);case 2:return n=t.sent,t.next=5,ZI(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Rv(e);return t.Ko.delete(0),Sx(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(TS(e=fS(e,_S)))}function OS(e){return function(e){return e.asyncQueue.enqueue(rn(yn().mark((function t(){var n,r;return yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,JI(e);case 2:return n=t.sent,t.next=5,ZI(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=rn(yn().mark((function e(t){var n;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Rv(t)).Ko.add(0),e.next=4,Tx(n);case 4:n.Qo.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(TS(e=fS(e,_S)))}function PS(e,t){var n=TS(e=fS(e,_S)),r=new SS;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new jI(e,t)}(function(e,t){if(e instanceof Uint8Array)return FI(e,t);if(e instanceof ArrayBuffer)return FI(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,mx(t));e.asyncQueue.enqueueAndForget(rn(yn().mark((function t(){return yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=PI,t.next=3,eS(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function RS(e,t){return function(e,t){return e.asyncQueue.enqueue(rn(yn().mark((function n(){return yn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Rv(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Kn.getNamedQuery(e,t)}))},n.next=3,$I(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(TS(e=fS(e,_S)),t).then((function(t){return t?new mS(e,null,t.query):null}))}function DS(e){if(e._initialized||e._terminated)throw new Lv(Dv.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var LS=function(){function e(){an(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Lv(Dv.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ay(n)}return un(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var MS=function(){function e(t){an(this,e),this._byteString=t}return un(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(uy.fromBase64String(t))}catch(t){throw new Lv(Dv.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(uy.fromUint8Array(t))}}]),e}(),FS=un((function e(t){an(this,e),this._methodName=t})),US=function(){function e(t,n){if(an(this,e),!isFinite(t)||t<-90||t>90)throw new Lv(Dv.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Lv(Dv.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return un(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Qv(this._lat,e._lat)||Qv(this._long,e._long)}}]),e}(),jS=/^__.*__$/,VS=function(){function e(t,n,r){an(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return un(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Jm(e,this.data,this.fieldMask,t,this.fieldTransforms):new Xm(e,this.data,t,this.fieldTransforms)}}]),e}(),BS=function(){function e(t,n,r){an(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return un(e,[{key:"toMutation",value:function(e,t){return new Jm(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function zS(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ov()}}var qS=function(){function e(t,n,r,i,a,o){an(this,e),this.settings=t,this.databaseId=n,this.O=r,this.ignoreUndefinedProperties=i,void 0===a&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return un(e,[{key:"path",get:function(){return this.settings.path}},{key:"Vu",get:function(){return this.settings.Vu}},{key:"Su",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.O,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Du",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Su({path:n,Cu:!1});return r.Nu(e),r}},{key:"xu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Su({path:n,Cu:!1});return r.vu(),r}},{key:"ku",value:function(e){return this.Su({path:void 0,Cu:!0})}},{key:"Ou",value:function(e){return c_(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.$u)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"vu",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Nu(this.path.get(e))}},{key:"Nu",value:function(e){if(0===e.length)throw this.Ou("Document fields must not be empty");if(zS(this.Vu)&&jS.test(e))throw this.Ou('Document fields cannot begin and end with "__"')}}]),e}(),KS=function(){function e(t,n,r){an(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.O=r||mx(t)}return un(e,[{key:"Fu",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new qS({Vu:e,methodName:t,$u:n,path:ay.emptyPath(),Cu:!1,Mu:r},this.databaseId,this.O,this.ignoreUndefinedProperties)}}]),e}();function HS(e){var t=e._freezeSettings(),n=mx(e._databaseId);return new KS(e._databaseId,!!t.ignoreUndefinedProperties,n)}function WS(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.Fu(a.merge||a.mergeFields?2:0,t,n,i);a_("Data must be an object, but it was:",o,r);var u,s,c=r_(r,o);if(a.merge)u=new oy(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=mn(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=o_(t,d,n);if(!o.contains(p))throw new Lv(Dv.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));l_(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new oy(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new VS(new My(c),u,s)}var GS=function(e){sn(n,e);var t=pn(n);function n(){return an(this,n),t.apply(this,arguments)}return un(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Vu)throw 1===e.Vu?e.Ou("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Ou("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(FS);function QS(e,t,n){return new qS({Vu:3,$u:t.settings.$u,methodName:e._methodName,Cu:n},t.databaseId,t.O,t.ignoreUndefinedProperties)}var YS=function(e){sn(n,e);var t=pn(n);function n(){return an(this,n),t.apply(this,arguments)}return un(n,[{key:"_toFieldTransform",value:function(e){return new Vm(e.path,new Pm)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(FS),XS=function(e){sn(n,e);var t=pn(n);function n(e,r){var i;return an(this,n),(i=t.call(this,e)).Bu=r,i}return un(n,[{key:"_toFieldTransform",value:function(e){var t=QS(this,e,!0),n=this.Bu.map((function(e){return n_(e,t)})),r=new Rm(n);return new Vm(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(FS),JS=function(e){sn(n,e);var t=pn(n);function n(e,r){var i;return an(this,n),(i=t.call(this,e)).Bu=r,i}return un(n,[{key:"_toFieldTransform",value:function(e){var t=QS(this,e,!0),n=this.Bu.map((function(e){return n_(e,t)})),r=new Lm(n);return new Vm(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(FS),$S=function(e){sn(n,e);var t=pn(n);function n(e,r){var i;return an(this,n),(i=t.call(this,e)).Lu=r,i}return un(n,[{key:"_toFieldTransform",value:function(e){var t=new Fm(e.O,Tm(e.O,this.Lu));return new Vm(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(FS);function ZS(e,t,n,r){var i=e.Fu(1,t,n);a_("Data must be an object, but it was:",i,r);var a=[],o=My.empty();ey(r,(function(e,r){var u=s_(t,e,n);r=Jn(r);var s=i.xu(u);if(r instanceof GS)a.push(u);else{var c=n_(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new oy(a);return new BS(o,u,i.fieldTransforms)}function e_(e,t,n,r,i,a){var o=e.Fu(1,t,n),u=[o_(t,r,n)],s=[i];if(a.length%2!=0)throw new Lv(Dv.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(o_(t,a[c])),s.push(a[c+1]);for(var l=[],f=My.empty(),h=u.length-1;h>=0;--h)if(!l_(l,u[h])){var d=u[h],p=s[h];p=Jn(p);var v=o.xu(d);if(p instanceof GS)l.push(d);else{var y=n_(p,v);null!=y&&(l.push(d),f.set(d,y))}}var m=new oy(l);return new BS(f,m,o.fieldTransforms)}function t_(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return n_(n,e.Fu(r?4:3,t))}function n_(e,t){if(i_(e=Jn(e)))return a_("Unsupported field value:",t,e),r_(e,t);if(e instanceof FS)return function(e,t){if(!zS(t.Vu))throw t.Ou("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Ou("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Cu&&4!==t.Vu)throw t.Ou("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=mn(e);try{for(a.s();!(n=a.n()).done;){var o=n_(n.value,t.ku(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Jn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Tm(t.O,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Jv.fromDate(e);return{timestampValue:Lg(t.O,n)}}if(e instanceof Jv){var r=new Jv(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Lg(t.O,r)}}if(e instanceof US)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof MS)return{bytesValue:Mg(t.O,e._byteString)};if(e instanceof yS){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Ou("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:jg(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Ou("Unsupported field value: ".concat(lS(e)))}(e,t)}function r_(e,t){var n={};return ty(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ey(e,(function(e,r){var i=n_(r,t.Du(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function i_(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Jv||e instanceof US||e instanceof MS||e instanceof yS||e instanceof FS)}function a_(e,t,n){if(!i_(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=lS(n);throw"an object"===r?t.Ou(e+" a custom object"):t.Ou(e+" "+r)}}function o_(e,t,n){if((t=Jn(t))instanceof LS)return t._internalPath;if("string"==typeof t)return s_(e,t);throw c_("Field path arguments must be of type string or ",e,!1,void 0,n)}var u_=new RegExp("[~\\*/\\[\\]]");function s_(e,t,n){if(t.search(u_)>=0)throw c_("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return bn(LS,Bt(t.split(".")))._internalPath}catch(r){throw c_("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function c_(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Lv(Dv.INVALID_ARGUMENT,u+e+s)}function l_(e,t){return e.some((function(e){return e.isEqual(t)}))}var f_=function(){function e(t,n,r,i,a){an(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return un(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new yS(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new h_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(d_("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),h_=function(e){sn(n,e);var t=pn(n);function n(){return an(this,n),t.apply(this,arguments)}return un(n,[{key:"data",value:function(){return Qr(cn(n.prototype),"data",this).call(this)}}]),n}(f_);function d_(e,t){return"string"==typeof t?s_(e,t):t instanceof LS?t._internalPath:t._delegate._internalPath}var p_=function(){function e(t,n){an(this,e),this.hasPendingWrites=t,this.fromCache=n}return un(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),v_=function(e){sn(n,e);var t=pn(n);function n(e,r,i,a,o,u){var s;return an(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return un(n,[{key:"exists",value:function(){return Qr(cn(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new y_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(d_("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(f_),y_=function(e){sn(n,e);var t=pn(n);function n(){return an(this,n),t.apply(this,arguments)}return un(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Qr(cn(n.prototype),"data",this).call(this,e)}}]),n}(v_),m_=function(){function e(t,n,r,i){an(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new p_(i.hasPendingWrites,i.fromCache),this.query=r}return un(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new y_(n._firestore,n._userDataWriter,r.key,r,new p_(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Lv(Dv.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new y_(e._firestore,e._userDataWriter,t.doc.key,t.doc,new p_(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new y_(e._firestore,e._userDataWriter,t.doc.key,t.doc,new p_(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:g_(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function g_(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ov()}}function k_(e,t){return e instanceof v_&&t instanceof v_?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof m_&&t instanceof m_&&e._firestore===t._firestore&&xS(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function w_(e){if(hm(e)&&0===e.explicitOrderBy.length)throw new Lv(Dv.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var b_=un((function e(){an(this,e)}));function x_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var E_=function(e){sn(n,e);var t=pn(n);function n(e,r,i){var a;return an(this,n),(a=t.call(this)).Uu=e,a.qu=r,a.Ku=i,a.type="where",a}return un(n,[{key:"_apply",value:function(e){var t=HS(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Lv(Dv.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){D_(o,a);var s,c=[],l=mn(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(R_(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=R_(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||D_(o,a),u=t_(n,"where",o,"in"===a||"not-in"===a);var h=Qy.create(i,a,u);return function(e,t){if(t.S()){var n=pm(e);if(null!==n&&!n.isEqual(t.field))throw new Lv(Dv.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=dm(e);null!==r&&L_(e,t.field,r)}var i=function(e,t){var n,r=mn(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Lv(Dv.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Lv(Dv.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.Uu,this.qu,this.Ku);return new mS(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new sm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(b_);var I_=function(e){sn(n,e);var t=pn(n);function n(e,r){var i;return an(this,n),(i=t.call(this)).Uu=e,i.Gu=r,i.type="orderBy",i}return un(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Lv(Dv.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Lv(Dv.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new im(t,n);return function(e,t){if(null===dm(e)){var n=pm(e);null!==n&&L_(e,n,t.field)}}(e,r),r}(e._query,this.Uu,this.Gu);return new mS(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new sm(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(b_);var S_=function(e){sn(n,e);var t=pn(n);function n(e,r,i){var a;return an(this,n),(a=t.call(this)).type=e,a.ju=r,a.Qu=i,a}return un(n,[{key:"_apply",value:function(e){return new mS(e.firestore,e.converter,gm(e._query,this.ju,this.Qu))}}]),n}(b_);var __=function(e){sn(n,e);var t=pn(n);function n(e,r,i){var a;return an(this,n),(a=t.call(this)).type=e,a.Wu=r,a.zu=i,a}return un(n,[{key:"_apply",value:function(e){var t=P_(e,this.type,this.Wu,this.zu);return new mS(e.firestore,e.converter,function(e,t){return new sm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(b_);function T_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new __("startAt",t,!0)}function C_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new __("startAfter",t,!1)}var A_=function(e){sn(n,e);var t=pn(n);function n(e,r,i){var a;return an(this,n),(a=t.call(this)).type=e,a.Wu=r,a.zu=i,a}return un(n,[{key:"_apply",value:function(e){var t=P_(e,this.type,this.Wu,this.zu);return new mS(e.firestore,e.converter,function(e,t){return new sm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(b_);function N_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new A_("endBefore",t,!1)}function O_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new A_("endAt",t,!0)}function P_(e,t,n,r){if(n[0]=Jn(n[0]),n[0]instanceof f_)return function(e,t,n,r,i){if(!r)throw new Lv(Dv.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=mn(ym(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Ay(t,r.key));else{var c=r.data.field(s.field);if(hy(c))throw new Lv(Dv.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Lv(Dv.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new rm(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=HS(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Lv(Dv.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Lv(Dv.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!vm(e)&&-1!==c.indexOf("/"))throw new Lv(Dv.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(ry.fromString(c));if(!wy.isDocumentKey(l))throw new Lv(Dv.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new wy(l);u.push(Ay(t,f))}else{var h=t_(n,r,c);u.push(h)}}return new rm(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function R_(e,t,n){if("string"==typeof(n=Jn(n))){if(""===n)throw new Lv(Dv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vm(t)&&-1!==n.indexOf("/"))throw new Lv(Dv.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(ry.fromString(n));if(!wy.isDocumentKey(r))throw new Lv(Dv.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Ay(e,new wy(r))}if(n instanceof yS)return Ay(e,n._key);throw new Lv(Dv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(lS(n),"."))}function D_(e,t){if(!Array.isArray(e)||0===e.length)throw new Lv(Dv.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Lv(Dv.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function L_(e,t,n){if(!n.isEqual(t))throw new Lv(Dv.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var M_=function(){function e(){an(this,e)}return un(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(xy(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ly(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(fy(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ov()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return ey(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new US(ly(e.latitude),ly(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=dy(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(py(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=cy(e);return new Jv(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=ry.fromString(e);Pv(ck(n));var r=new yy(n.get(1),n.get(3)),i=new wy(n.popFirst(5));return r.isEqual(t)||Cv("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function F_(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var U_=function(e){sn(n,e);var t=pn(n);function n(e){var r;return an(this,n),(r=t.call(this)).firestore=e,r}return un(n,[{key:"convertBytes",value:function(e){return new MS(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new yS(this.firestore,null,t)}}]),n}(M_),j_=function(){function e(t,n){an(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=HS(t)}return un(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=V_(e,this._firestore),i=F_(r.converter,t,n),a=WS(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,zm.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=V_(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Jn(t))||t instanceof LS?e_(this._dataReader,"WriteBatch.update",i._key,t,n,o):ZS(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,zm.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=V_(e,this._firestore);return this._mutations=this._mutations.concat(new rg(t._key,zm.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Lv(Dv.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function V_(e,t){if((e=Jn(e)).firestore!==t)throw new Lv(Dv.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var B_=function(e){sn(n,e);var t=pn(n);function n(e){var r;return an(this,n),(r=t.call(this)).firestore=e,r}return un(n,[{key:"convertBytes",value:function(e){return new MS(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new yS(this.firestore,null,t)}}]),n}(M_);function z_(e){e=fS(e,yS);var t=fS(e.firestore,_S),n=TS(t),r=new B_(t);return function(e,t){var n=new Mv;return e.asyncQueue.enqueueAndForget(rn(yn().mark((function r(){return yn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=rn(yn().mark((function e(t,n,r){var i,a;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Rv(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Us.ys(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Lv(Dv.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=dE(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,$I(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new v_(t,r,e._key,n,new p_(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function q_(e){e=fS(e,mS);var t=fS(e.firestore,_S),n=TS(t),r=new B_(t);return function(e,t){var n=new Mv;return e.asyncQueue.enqueueAndForget(rn(yn().mark((function r(){return yn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=rn(yn().mark((function e(t,n,r){var i,a,o,u,s;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Db(t,n,!0);case 3:i=e.sent,a=new RE(n,i.Ks),o=a.Ic(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=dE(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,$I(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new m_(t,r,e,n)}))}function K_(e,t,n){e=fS(e,yS);var r=fS(e.firestore,_S),i=F_(e.converter,t,n);return Q_(r,[WS(HS(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,zm.none())])}function H_(e,t,n){e=fS(e,yS);for(var r=fS(e.firestore,_S),i=HS(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return Q_(r,[("string"==typeof(t=Jn(t))||t instanceof LS?e_(i,"updateDoc",e._key,t,n,o):ZS(i,"updateDoc",e._key,t)).toMutation(e._key,zm.exists(!0))])}function W_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Jn(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||IS(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(IS(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof yS)l=fS(e.firestore,_S),f=lm(e._key.path),c={next:function(t){n[s]&&n[s](Y_(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=fS(e,mS);l=fS(p.firestore,_S),f=p._query;var v=new B_(l);c={next:function(e){n[s]&&n[s](new m_(l,v,p,e))},error:n[s+1],complete:n[s+2]},w_(e._query)}return function(e,t,n,r){var i=new UI(r),a=new _E(t,i,n);return e.asyncQueue.enqueueAndForget(rn(yn().mark((function t(){return yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=kE,t.next=3,tS(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Jc(),e.asyncQueue.enqueueAndForget(rn(yn().mark((function t(){return yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=bE,t.next=3,tS(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(TS(l),f,h,c)}function G_(e,t){return function(e,t){var n=new UI(t);return e.asyncQueue.enqueueAndForget(rn(yn().mark((function t(){return yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Rv(e).Zo.add(t),t.next()},t.next=3,tS(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Jc(),e.asyncQueue.enqueueAndForget(rn(yn().mark((function t(){return yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Rv(e).Zo.delete(t)},t.next=3,tS(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(TS(e=fS(e,_S)),IS(t)?t:{next:t})}function Q_(e,t){return function(e,t){var n=new Mv;return e.asyncQueue.enqueueAndForget(rn(yn().mark((function r(){return yn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=qE,r.next=3,eS(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(TS(e),t)}function Y_(e,t,n){var r=n.docs.get(t._key),i=new B_(e);return new v_(e,i,t._key,r,new p_(n.hasPendingWrites,n.fromCache),t.converter)}var X_=function(e){sn(n,e);var t=pn(n);function n(e,r){var i;return an(this,n),(i=t.call(this,e,r))._firestore=e,i}return un(n,[{key:"get",value:function(e){var t=this,r=V_(e,this._firestore),i=new B_(this._firestore);return Qr(cn(n.prototype),"get",this).call(this,e).then((function(e){return new v_(t._firestore,i,r._key,e._document,new p_(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){an(this,e),this._firestore=t,this._transaction=n,this._dataReader=HS(t)}return un(e,[{key:"get",value:function(e){var t=this,n=V_(e,this._firestore),r=new U_(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Ov();var i=e[0];if(i.isFoundDocument())return new f_(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new f_(t._firestore,r,n._key,null,n.converter);throw Ov()}))}},{key:"set",value:function(e,t,n){var r=V_(e,this._firestore),i=F_(r.converter,t,n),a=WS(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=V_(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Jn(t))||t instanceof LS?e_(this._dataReader,"Transaction.update",i._key,t,n,o):ZS(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=V_(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function J_(e,t){return function(e,t){var n=new Mv;return e.asyncQueue.enqueueAndForget(rn(yn().mark((function r(){var i;return yn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return YI(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new BI(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(TS(e=fS(e,_S)),(function(n){return t(new X_(e,n))}))}function $_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new XS("arrayUnion",t)}function Z_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new JS("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Iv=e}(Or),xr(new $n("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new _S(i,new Vv(e.getProvider("auth-internal")),new Kv(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Fr(xv,"3.4.5",e),Fr(xv,"3.4.5","esm2017")}();function eT(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Lv("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function tT(){if("undefined"===typeof Uint8Array)throw new Lv("unimplemented","Uint8Arrays are not available in this environment.")}function nT(){if("undefined"==typeof atob)throw new Lv("unimplemented","Blobs are unavailable in Firestore in this environment.")}var rT=function(){function e(t){an(this,e),this._delegate=t}return un(e,[{key:"toBase64",value:function(){return nT(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return tT(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return nT(),new e(MS.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return tT(),new e(MS.fromUint8Array(t))}}]),e}();function iT(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=mn(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var aT=function(){function e(){an(this,e)}return un(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){DS(e=fS(e,_S));var n=TS(e),r=e._freezeSettings(),i=new MI;return AS(n,i,new DI(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){DS(e=fS(e,_S));var t=TS(e),n=e._freezeSettings(),r=new MI;return AS(t,r,new LI(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Lv(Dv.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Mv;return e._queue.enqueueAndForgetEvenWhileRestricted(rn(yn().mark((function n(){return yn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=rn(yn().mark((function e(t){var n;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Bk.Vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Bk.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(mb(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),oT=function(){function e(t,n,r){var i=this;an(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof yy||(this._appCompat=t)}return un(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Av("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};vS(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return NS(this._delegate)}},{key:"disableNetwork",value:function(){return OS(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&uS("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Mv;return e.asyncQueue.enqueueAndForget(rn(yn().mark((function n(){return yn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=eI,n.next=3,eS(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(TS(e=fS(e,_S)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return G_(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Lv("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new wT(this,kS(this._delegate,e))}catch(t){throw hT(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new fT(this,wS(this._delegate,e))}catch(t){throw hT(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new mT(this,function(e,t){if(e=fS(e,pS),oS("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Lv(Dv.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new mS(e,null,function(e){return new sm(ry.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw hT(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return J_(this._delegate,(function(n){return e(new sT(t,n))}))}},{key:"batch",value:function(){var e=this;return TS(this._delegate),new cT(new j_(this._delegate,(function(t){return Q_(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return PS(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return RS(this._delegate,e).then((function(e){return e?new mT(t,e):null}))}}]),e}(),uT=function(e){sn(n,e);var t=pn(n);function n(e){var r;return an(this,n),(r=t.call(this)).firestore=e,r}return un(n,[{key:"convertBytes",value:function(e){return new rT(new MS(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return fT.forKey(t,this.firestore,null)}}]),n}(M_);var sT=function(){function e(t,n){an(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new uT(t)}return un(e,[{key:"get",value:function(e){var t=this,n=bT(e);return this._delegate.get(n).then((function(e){return new vT(t._firestore,new v_(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=bT(e);return n?(eT("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=bT(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=bT(e);return this._delegate.delete(t),this}}]),e}(),cT=function(){function e(t){an(this,e),this._delegate=t}return un(e,[{key:"set",value:function(e,t,n){var r=bT(e);return n?(eT("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=bT(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=bT(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),lT=function(){function e(t,n,r){an(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return un(e,[{key:"fromFirestore",value:function(e,t){var n=new y_(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new yT(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new uT(t),n),i.set(n,a)),a}}]),e}();lT.INSTANCES=new WeakMap;var fT=function(){function e(t,n){an(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new uT(t)}return un(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new wT(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new wT(this.firestore,kS(this._delegate,e))}catch(t){throw hT(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Jn(e))instanceof yS&&bS(this._delegate,e)}},{key:"set",value:function(e,t){t=eT("DocumentReference.set",t);try{return t?K_(this._delegate,e,t):K_(this._delegate,e)}catch(n){throw hT(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?H_(this._delegate,e):H_.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw hT(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return Q_(fS(e.firestore,_S),[new rg(e._key,zm.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=dT(n),a=pT(n,(function(t){return new vT(e.firestore,new v_(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return W_(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?z_(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=fS(e,yS);var t=fS(e.firestore,_S);return rS(TS(t),e._key,{source:"server"}).then((function(n){return Y_(t,e,n)}))}(this._delegate):function(e){e=fS(e,yS);var t=fS(e.firestore,_S);return rS(TS(t),e._key).then((function(n){return Y_(t,e,n)}))}(this._delegate),t.then((function(e){return new vT(n.firestore,new v_(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(lT.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Lv("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new yS(n._delegate,r,new wy(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new yS(n._delegate,r,t))}}]),e}();function hT(e,t,n){return e.message=e.message.replace(t,n),e}function dT(e){var t,n=mn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!iT(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function pT(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=iT(e[0])?e[0]:iT(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var vT=function(){function e(t,n){an(this,e),this._firestore=t,this._delegate=n}return un(e,[{key:"ref",get:function(){return new fT(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return k_(this._delegate,e._delegate)}}]),e}(),yT=function(e){sn(n,e);var t=pn(n);function n(){return an(this,n),t.apply(this,arguments)}return un(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Ov()}(void 0!==t),t}}]),n}(vT),mT=function(){function e(t,n){an(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new uT(t)}return un(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,x_(this._delegate,function(e,t,n){var r=t,i=d_("where",e);return new E_(i,r,n)}(t,n,r)))}catch(i){throw hT(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,x_(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=d_("orderBy",e);return new I_(n,t)}(t,n)))}catch(r){throw hT(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,x_(this._delegate,function(e){return hS("limit",e),new S_("limit",e,"F")}(t)))}catch(n){throw hT(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,x_(this._delegate,function(e){return hS("limitToLast",e),new S_("limitToLast",e,"L")}(t)))}catch(n){throw hT(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,x_(this._delegate,T_.apply(void 0,arguments)))}catch(t){throw hT(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,x_(this._delegate,C_.apply(void 0,arguments)))}catch(t){throw hT(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,x_(this._delegate,N_.apply(void 0,arguments)))}catch(t){throw hT(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,x_(this._delegate,O_.apply(void 0,arguments)))}catch(t){throw hT(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return xS(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?q_(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=fS(e,mS);var t=fS(e.firestore,_S),n=TS(t),r=new B_(t);return iS(n,e._query,{source:"server"}).then((function(n){return new m_(t,r,e,n)}))}(this._delegate):function(e){e=fS(e,mS);var t=fS(e.firestore,_S),n=TS(t),r=new B_(t);return w_(e._query),iS(n,e._query).then((function(n){return new m_(t,r,e,n)}))}(this._delegate),t.then((function(e){return new kT(n.firestore,new m_(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=dT(n),a=pT(n,(function(t){return new kT(e.firestore,new m_(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return W_(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(lT.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),gT=function(){function e(t,n){an(this,e),this._firestore=t,this._delegate=n}return un(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new yT(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),kT=function(){function e(t,n){an(this,e),this._firestore=t,this._delegate=n}return un(e,[{key:"query",get:function(){return new mT(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new yT(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new gT(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new yT(n._firestore,r))}))}},{key:"isEqual",value:function(e){return k_(this._delegate,e._delegate)}}]),e}(),wT=function(e){sn(n,e);var t=pn(n);function n(e,r){var i;return an(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return un(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new fT(this.firestore,e):null}},{key:"doc",value:function(e){try{return new fT(this.firestore,void 0===e?wS(this._delegate):wS(this._delegate,e))}catch(t){throw hT(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=fS(e.firestore,_S),r=wS(e),i=F_(e.converter,t);return Q_(n,[WS(HS(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,zm.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new fT(t.firestore,e)}))}},{key:"isEqual",value:function(e){return bS(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(lT.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(mT);function bT(e){return fS(e,yS)}var xT=function(){function e(){an(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=bn(LS,n)}return un(e,[{key:"isEqual",value:function(e){return(e=Jn(e))instanceof LS&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(ay.keyField().canonicalString())}}]),e}(),ET=function(){function e(t){an(this,e),this._delegate=t}return un(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new YS("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new GS("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=$_.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=Z_.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new $S("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),IT={Firestore:oT,GeoPoint:US,Timestamp:Jv,Blob:rT,Transaction:sT,WriteBatch:cT,DocumentReference:fT,DocumentSnapshot:vT,Query:mT,QueryDocumentSnapshot:yT,QuerySnapshot:kT,CollectionReference:wT,FieldPath:xT,FieldValue:ET,setLogLevel:function(e){!function(e){Sv.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new $n("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},IT)))}(e,(function(e,t){return new oT(e,t,new aT)})),e.registerVersion("@firebase/firestore-compat","0.1.14")}(Wr);var ST=Wr.initializeApp({apiKey:"AIzaSyB_vEdLMXk3Fh649VwaLvg7iWCbwx0Jx08",authDomain:"ajbpos.firebaseapp.com",projectId:"ajbpos",storageBucket:"ajbpos.appspot.com",messagingSenderId:"955048515609",appId:"1:955048515609:web:01ad37f2cdcbf4016f7288",measurementId:"G-F0RFSFCFP6"}),_T=function(){var e=rn(yn().mark((function e(t,n){var r,i,a,o,u;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return r=CT.doc("users/".concat(t.uid)),e.next=5,r.get();case 5:if(i=e.sent,"",i.exists){e.next=18;break}return a=t.displayName,o=t.email,u=new Date,e.prev=10,e.next=13,r.set(st({displayName:a,email:o,printer:"",createAt:u},n));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(10),console.log("error creating user ",e.t0.message);case 18:return e.abrupt("return",r);case 19:case"end":return e.stop()}}),e,null,[[10,15]])})));return function(t,n){return e.apply(this,arguments)}}(),TT=Wr.auth(ST),CT=Wr.firestore(),AT=new Wr.auth.GoogleAuthProvider;AT.setCustomParameters({prompt:"select_account"});function NT(e,t){if(null==e)return{};var n,r,i=K(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function OT(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var PT=n(613),RT=n.n(PT);var DT=function(e){function t(e,r,s,c,h){for(var d,p,v,y,w,x=0,E=0,I=0,S=0,_=0,P=0,D=v=d=0,M=0,F=0,U=0,j=0,V=s.length,B=V-1,z="",q="",K="",H="";M<V;){if(p=s.charCodeAt(M),M===B&&0!==E+S+I+x&&(0!==E&&(p=47===E?10:47),S=I=x=0,V++,B++),0===E+S+I+x){if(M===B&&(0<F&&(z=z.replace(f,"")),0<z.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:z+=s.charAt(M)}p=59}switch(p){case 123:for(d=(z=z.trim()).charCodeAt(0),v=1,j=++M;M<V;){switch(p=s.charCodeAt(M)){case 123:v++;break;case 125:v--;break;case 47:switch(p=s.charCodeAt(M+1)){case 42:case 47:e:{for(D=M+1;D<B;++D)switch(s.charCodeAt(D)){case 47:if(42===p&&42===s.charCodeAt(D-1)&&M+2!==D){M=D+1;break e}break;case 10:if(47===p){M=D+1;break e}}M=D}}break;case 91:p++;case 40:p++;case 34:case 39:for(;M++<B&&s.charCodeAt(M)!==p;);}if(0===v)break;M++}if(v=s.substring(j,M),0===d&&(d=(z=z.replace(l,"").trim()).charCodeAt(0)),64===d){switch(0<F&&(z=z.replace(f,"")),p=z.charCodeAt(1)){case 100:case 109:case 115:case 45:F=r;break;default:F=O}if(j=(v=t(r,F,v,p,h+1)).length,0<R&&(w=u(3,v,F=n(O,z,U),r,C,T,j,p,h,c),z=F.join(""),void 0!==w&&0===(j=(v=w.trim()).length)&&(p=0,v="")),0<j)switch(p){case 115:z=z.replace(b,o);case 100:case 109:case 45:v=z+"{"+v+"}";break;case 107:v=(z=z.replace(m,"$1 $2"))+"{"+v+"}",v=1===N||2===N&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=z+v,112===c&&(q+=v,v="")}else v=""}else v=t(r,n(r,z,U),v,c,h+1);K+=v,v=U=F=D=d=0,z="",p=s.charCodeAt(++M);break;case 125:case 59:if(1<(j=(z=(0<F?z.replace(f,""):z).trim()).length))switch(0===D&&(d=z.charCodeAt(0),45===d||96<d&&123>d)&&(j=(z=z.replace(" ",":")).length),0<R&&void 0!==(w=u(1,z,r,e,C,T,q.length,c,h,c))&&0===(j=(z=w.trim()).length)&&(z="\0\0"),d=z.charCodeAt(0),p=z.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){H+=z+s.charAt(M);break}default:58!==z.charCodeAt(j-1)&&(q+=i(z,d,p,z.charCodeAt(2)))}U=F=D=d=0,z="",p=s.charCodeAt(++M)}}switch(p){case 13:case 10:47===E?E=0:0===1+d&&107!==c&&0<z.length&&(F=1,z+="\0"),0<R*L&&u(0,z,r,e,C,T,q.length,c,h,c),T=1,C++;break;case 59:case 125:if(0===E+S+I+x){T++;break}default:switch(T++,y=s.charAt(M),p){case 9:case 32:if(0===S+x+E)switch(_){case 44:case 58:case 9:case 32:y="";break;default:32!==p&&(y=" ")}break;case 0:y="\\0";break;case 12:y="\\f";break;case 11:y="\\v";break;case 38:0===S+E+x&&(F=U=1,y="\f"+y);break;case 108:if(0===S+E+x+A&&0<D)switch(M-D){case 2:112===_&&58===s.charCodeAt(M-3)&&(A=_);case 8:111===P&&(A=P)}break;case 58:0===S+E+x&&(D=M);break;case 44:0===E+I+S+x&&(F=1,y+="\r");break;case 34:case 39:0===E&&(S=S===p?0:0===S?p:S);break;case 91:0===S+E+I&&x++;break;case 93:0===S+E+I&&x--;break;case 41:0===S+E+x&&I--;break;case 40:if(0===S+E+x){if(0===d)if(2*_+3*P===533);else d=1;I++}break;case 64:0===E+I+S+x+D+v&&(v=1);break;case 42:case 47:if(!(0<S+x+I))switch(E){case 0:switch(2*p+3*s.charCodeAt(M+1)){case 235:E=47;break;case 220:j=M,E=42}break;case 42:47===p&&42===_&&j+2!==M&&(33===s.charCodeAt(j+2)&&(q+=s.substring(j,M+1)),y="",E=0)}}0===E&&(z+=y)}P=_,_=p,M++}if(0<(j=q.length)){if(F=r,0<R&&(void 0!==(w=u(2,q,F,e,C,T,j,c,h,c))&&0===(q=w).length))return H+q+K;if(q=F.join(",")+"{"+q+"}",0!==N*A){switch(2!==N||a(q,2)||(A=0),A){case 111:q=q.replace(k,":-moz-$1")+q;break;case 112:q=q.replace(g,"::-webkit-input-$1")+q.replace(g,"::-moz-$1")+q.replace(g,":-ms-input-$1")+q}A=0}}return H+q+K}function n(e,t,n){var i=t.trim().split(v);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var u=0;for(e=0===o?"":e[0]+" ";u<a;++u)t[u]=r(e,t[u],n).trim();break;default:var s=u=0;for(t=[];u<a;++u)for(var c=0;c<o;++c)t[s++]=r(e[c]+" ",i[u],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(y,"$1"+e.trim());case 58:return e.trim()+t.replace(y,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(y,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",u=2*t+3*n+4*r;if(944===u){e=o.indexOf(":",9)+1;var s=o.substring(e,o.length-1).trim();return s=o.substring(0,e).trim()+s+";",1===N||2===N&&a(s,1)?"-webkit-"+s+s:s}if(0===N||2===N&&!a(o,1))return o;switch(u){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(_,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(s=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+s+o;case 1005:return d.test(o)?o.replace(h,":-webkit-")+o.replace(h,":-moz-")+o:o;case 1e3:switch(t=(s=o.substring(13).trim()).indexOf("-")+1,s.charCodeAt(0)+s.charCodeAt(t)){case 226:s=o.replace(w,"tb");break;case 232:s=o.replace(w,"tb-rl");break;case 220:s=o.replace(w,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+s+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,u=(s=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|s.charCodeAt(7))){case 203:if(111>s.charCodeAt(8))break;case 115:o=o.replace(s,"-webkit-"+s)+";"+o;break;case 207:case 102:o=o.replace(s,"-webkit-"+(102<u?"inline-":"")+"box")+";"+o.replace(s,"-webkit-"+s)+";"+o.replace(s,"-ms-"+s+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return s=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+s+"-ms-flex-"+s+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(E,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(E,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===S.test(e))return 115===(s=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(s,"-webkit-"+s)+o.replace(s,"-moz-"+s.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),D(2!==t?r:r.replace(I,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(x," or ($1)").substring(4):"("+t+")"}function u(e,t,n,r,i,a,o,u,s,l){for(var f,h=0,d=t;h<R;++h)switch(f=P[h].call(c,e,d,n,r,i,a,o,u,s,l)){case void 0:case!1:case!0:case null:break;default:d=f}if(d!==t)return d}function s(e){return void 0!==(e=e.prefix)&&(D=null,e?"function"!==typeof e?N=1:(N=2,D=e):N=0),s}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<R){var i=u(-1,n,r,r,C,T,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(O,r,n,0,0);return 0<R&&(void 0!==(i=u(-2,a,r,r,C,T,a.length,0,0,0))&&(a=i)),"",A=0,T=C=1,a}var l=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,y=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,k=/:(read-only)/g,w=/[svh]\w+-[tblr]{2}/,b=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,E=/-self|flex-/g,I=/[^]*?(:[rp][el]a[\w-]+)[^]*/,S=/stretch|:\s*\w+\-(?:conte|avail)/,_=/([^-])(image-set\()/,T=1,C=1,A=0,N=1,O=[],P=[],R=0,D=null,L=0;return c.use=function e(t){switch(t){case void 0:case null:R=P.length=0;break;default:if("function"===typeof t)P[R++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},c.set=s,void 0!==e&&s(e),c},LT={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var MT=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},FT=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,UT=MT((function(e){return FT.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));function jT(){return(jT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var VT=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},BT=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,Ne.typeOf)(e)},zT=Object.freeze([]),qT=Object.freeze({});function KT(e){return"function"==typeof e}function HT(e){return e.displayName||e.name||"Component"}function WT(e){return e&&"string"==typeof e.styledComponentId}var GT="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"/point-of-sale",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/point-of-sale",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",QT="undefined"!=typeof window&&"HTMLElement"in window,YT=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/point-of-sale",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/point-of-sale",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/point-of-sale",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/point-of-sale",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/point-of-sale",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/point-of-sale",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/point-of-sale",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/point-of-sale",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY));function XT(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var JT=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&XT(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),u=0,s=t.length;u<s;u++)this.tag.insertRule(o,t[u])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),$T=new Map,ZT=new Map,eC=1,tC=function(e){if($T.has(e))return $T.get(e);for(;ZT.has(eC);)eC++;var t=eC++;return $T.set(e,t),ZT.set(t,e),t},nC=function(e){return ZT.get(e)},rC=function(e,t){t>=eC&&(eC=t+1),$T.set(e,t),ZT.set(t,e)},iC="style["+GT+'][data-styled-version="5.3.3"]',aC=new RegExp("^"+GT+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),oC=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},uC=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var u=o.match(aC);if(u){var s=0|parseInt(u[1],10),c=u[2];0!==s&&(rC(c,s),oC(e,c,u[3]),e.getTag().insertRules(s,r)),r.length=0}else r.push(o)}}},sC=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},cC=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(GT))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(GT,"active"),r.setAttribute("data-styled-version","5.3.3");var o=sC();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},lC=function(){function e(e){var t=this.element=cC(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}XT(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),fC=function(){function e(e){var t=this.element=cC(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),hC=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),dC=QT,pC={isServer:!QT,useCSSOMInjection:!YT},vC=function(){function e(e,t,n){void 0===e&&(e=qT),void 0===t&&(t={}),this.options=jT({},pC,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&QT&&dC&&(dC=!1,function(e){for(var t=document.querySelectorAll(iC),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(GT)&&(uC(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return tC(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(jT({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new hC(i):r?new lC(i):new fC(i),new JT(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(tC(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(tC(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(tC(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=nC(i);if(void 0!==a){var o=e.names.get(a),u=t.getGroup(i);if(o&&u&&o.size){var s=GT+".g"+i+'[id="'+a+'"]',c="";void 0!==o&&o.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+u+s+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),yC=/(a)(d)/gi,mC=function(e){return String.fromCharCode(e+(e>25?39:97))};function gC(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=mC(t%52)+n;return(mC(t%52)+n).replace(yC,"$1-$2")}var kC=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},wC=function(e){return kC(5381,e)};function bC(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(KT(n)&&!WT(n))return!1}return!0}var xC=wC("5.3.3"),EC=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&bC(e),this.componentId=t,this.baseHash=kC(xC,t),this.baseStyle=n,vC.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=BC(this.rules,e,t,n).join(""),o=gC(kC(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var u=n(a,"."+o,void 0,r);t.insertRules(r,o,u)}i.push(o),this.staticRulesId=o}else{for(var s=this.rules.length,c=kC(this.baseHash,n.hash),l="",f=0;f<s;f++){var h=this.rules[f];if("string"==typeof h)l+=h;else if(h){var d=BC(h,e,t,n),p=Array.isArray(d)?d.join(""):d;c=kC(c,p+f),l+=p}}if(l){var v=gC(c>>>0);if(!t.hasNameForId(r,v)){var y=n(l,"."+v,void 0,r);t.insertRules(r,v,y)}i.push(v)}}return i.join(" ")},e}(),IC=/^\s*\/\/.*$/gm,SC=[":","[",".","#"];function _C(e){var t,n,r,i,a=void 0===e?qT:e,o=a.options,u=void 0===o?qT:o,s=a.plugins,c=void 0===s?zT:s,l=new DT(u),f=[],h=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,u,s,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),d=function(e,r,a){return 0===r&&-1!==SC.indexOf(a[n.length])||a.match(i)?e:"."+t};function p(e,a,o,u){void 0===u&&(u="&");var s=e.replace(IC,""),c=a&&o?o+" "+a+" { "+s+" }":s;return t=u,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),l(o||!a?"":a,c)}return l.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,d))},h,function(e){if(-2===e){var t=f;return f=[],t}}])),p.hash=c.length?c.reduce((function(e,t){return t.name||XT(15),kC(e,t.name)}),5381).toString():"",p}var TC=t.createContext(),CC=(TC.Consumer,t.createContext()),AC=(CC.Consumer,new vC),NC=_C();function OC(){return(0,t.useContext)(TC)||AC}function PC(){return(0,t.useContext)(CC)||NC}function RC(e){var n=(0,t.useState)(e.stylisPlugins),r=n[0],i=n[1],a=OC(),o=(0,t.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),u=(0,t.useMemo)((function(){return _C({options:{prefix:!e.disableVendorPrefixes},plugins:r})}),[e.disableVendorPrefixes,r]);return(0,t.useEffect)((function(){RT()(r,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]),t.createElement(TC.Provider,{value:o},t.createElement(CC.Provider,{value:u},e.children))}var DC=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=NC);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return XT(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=NC),this.name+e.hash},e}(),LC=/([A-Z])/,MC=/([A-Z])/g,FC=/^ms-/,UC=function(e){return"-"+e.toLowerCase()};function jC(e){return LC.test(e)?e.replace(MC,UC).replace(FC,"-ms-"):e}var VC=function(e){return null==e||!1===e||""===e};function BC(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,u=e.length;o<u;o+=1)""!==(i=BC(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return VC(e)?"":WT(e)?"."+e.styledComponentId:KT(e)?"function"!=typeof(s=e)||s.prototype&&s.prototype.isReactComponent||!t?e:BC(e(t),t,n,r):e instanceof DC?n?(e.inject(n,r),e.getName(r)):e:BT(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!VC(t[o])&&(Array.isArray(t[o])&&t[o].isCss||KT(t[o])?a.push(jC(o)+":",t[o],";"):BT(t[o])?a.push.apply(a,e(t[o],o)):a.push(jC(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in LT?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var s}var zC=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function qC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return KT(e)||BT(e)?zC(BC(VT(zT,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:zC(BC(VT(e,n)))}new Set;var KC=function(e,t,n){return void 0===n&&(n=qT),e.theme!==n.theme&&e.theme||t||n.theme},HC=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,WC=/(^-|-$)/g;function GC(e){return e.replace(HC,"-").replace(WC,"")}var QC=function(e){return gC(wC(e)>>>0)};function YC(e){return"string"==typeof e&&!0}var XC=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},JC=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function $C(e,t,n){var r=e[n];XC(t)&&XC(r)?ZC(r,t):e[n]=t}function ZC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(XC(o))for(var u in o)JC(u)&&$C(e,o[u],u)}return e}var eA=t.createContext();eA.Consumer;var tA={};function nA(e,n,r){var i=WT(e),a=!YC(e),o=n.attrs,u=void 0===o?zT:o,s=n.componentId,c=void 0===s?function(e,t){var n="string"!=typeof e?"sc":GC(e);tA[n]=(tA[n]||0)+1;var r=n+"-"+QC("5.3.3"+n+tA[n]);return t?t+"-"+r:r}(n.displayName,n.parentComponentId):s,l=n.displayName,f=void 0===l?function(e){return YC(e)?"styled."+e:"Styled("+HT(e)+")"}(e):l,h=n.displayName&&n.componentId?GC(n.displayName)+"-"+n.componentId:n.componentId||c,d=i&&e.attrs?Array.prototype.concat(e.attrs,u).filter(Boolean):u,p=n.shouldForwardProp;i&&e.shouldForwardProp&&(p=n.shouldForwardProp?function(t,r,i){return e.shouldForwardProp(t,r,i)&&n.shouldForwardProp(t,r,i)}:e.shouldForwardProp);var v,y=new EC(r,h,i?e.componentStyle:void 0),m=y.isStatic&&0===u.length,g=function(e,n){return function(e,n,r,i){var a=e.attrs,o=e.componentStyle,u=e.defaultProps,s=e.foldedComponentIds,c=e.shouldForwardProp,l=e.styledComponentId,f=e.target,h=function(e,t,n){void 0===e&&(e=qT);var r=jT({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in KT(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(KC(n,(0,t.useContext)(eA),u)||qT,n,a),d=h[0],p=h[1],v=function(e,t,n,r){var i=OC(),a=PC();return t?e.generateAndInjectStyles(qT,i,a):e.generateAndInjectStyles(n,i,a)}(o,i,d),y=r,m=p.$as||n.$as||p.as||n.as||f,g=YC(m),k=p!==n?jT({},n,{},p):n,w={};for(var b in k)"$"!==b[0]&&"as"!==b&&("forwardedAs"===b?w.as=k[b]:(c?c(b,UT,m):!g||UT(b))&&(w[b]=k[b]));return n.style&&p.style!==n.style&&(w.style=jT({},n.style,{},p.style)),w.className=Array.prototype.concat(s,l,v!==l?v:null,n.className,p.className).filter(Boolean).join(" "),w.ref=y,(0,t.createElement)(m,w)}(v,e,n,m)};return g.displayName=f,(v=t.forwardRef(g)).attrs=d,v.componentStyle=y,v.displayName=f,v.shouldForwardProp=p,v.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):zT,v.styledComponentId=h,v.target=i?e.target:e,v.withComponent=function(e){var t=n.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(n,["componentId"]),a=t&&t+"-"+(YC(e)?e:GC(HT(e)));return nA(e,jT({},i,{attrs:d,componentId:a}),r)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?ZC({},e.defaultProps,t):t}}),v.toString=function(){return"."+v.styledComponentId},a&&W()(v,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var rA=function(e){return function e(t,n,r){if(void 0===r&&(r=qT),!(0,Ne.isValidElementType)(n))return XT(1,String(n));var i=function(){return t(n,r,qC.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,jT({},r,{},i))},i.attrs=function(i){return e(t,n,jT({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(nA,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){rA[e]=rA(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=bC(e),vC.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,n,r){var i=r(BC(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&vC.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=sC();return"<style "+[n&&'nonce="'+n+'"',GT+'="true"','data-styled-version="5.3.3"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?XT(2):e._emitSheetCSS()},this.getStyleElement=function(){var n;if(e.sealed)return XT(2);var r=((n={})[GT]="",n["data-styled-version"]="5.3.3",n.dangerouslySetInnerHTML={__html:e.instance.toString()},n),i=sC();return i&&(r.nonce=i),[t.createElement("style",jT({},r,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new vC({isServer:!0}),this.sealed=!1}var n=e.prototype;n.collectStyles=function(e){return this.sealed?XT(2):t.createElement(RC,{sheet:this.instance},e)},n.interleaveWithNodeStream=function(e){return XT(3)}}();var iA,aA,oA,uA,sA,cA,lA,fA,hA,dA,pA,vA,yA,mA,gA,kA,wA,bA,xA,EA,IA,SA,_A,TA,CA,AA,NA,OA,PA,RA,DA,LA,MA,FA,UA,jA,VA,BA,zA,qA,KA,HA,WA,GA,QA,YA,XA,JA,$A,ZA,eN,tN,nN,rN,iN,aN=rA,oN=aN.div(iA||(iA=OT(["\n  height: 60vh;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),uN=aN.div(aA||(aA=OT(["\n  display: inline-block;\n  width: 50px;\n  height: 50px;\n  border: 3px solid rgba(195, 195, 195, 0.6);\n  border-radius: 50%;\n  border-top-color: #636767;\n  animation: spin 1s ease-in-out infinite;\n  -webkit-animation: spin 1s ease-in-out infinite;\n  @keyframes spin {\n    to {\n      -webkit-transform: rotate(360deg);\n    }\n  }\n  @-webkit-keyframes spin {\n    to {\n      -webkit-transform: rotate(360deg);\n    }\n  }\n"]))),sN=n(184),cN=["isLoading"],lN=function(e){return function(t){var n=t.isLoading,r=NT(t,cN);return n?(0,sN.jsx)(oN,{children:(0,sN.jsx)(uN,{})}):(0,sN.jsx)(e,st({},r))}},fN=function(e){return{type:Mt,payload:e}},hN=function(){return{type:Ft}},dN=aN.div(oA||(oA=OT(["\n    width: auto;\n    height: 25px;\n    display: flex;\n    justify-content: space-between;\n    padding: 3px 5px;\n    cursor: pointer;\n"]))),pN=(aN.div(uA||(uA=OT(["\n    width: 10px;\n    height: 10px;\n"]))),aN.span(sA||(sA=OT(["\n    text-transform: capitalize;\n    width: 40%;\n"])))),vN=aN.span(cA||(cA=OT(["\n    text-transform: capitalize;\n    width: 40%;\n    background-color: yellow;\n"]))),yN=aN.span(lA||(lA=OT(["\n    text-transform: capitalize;\n    width: 40%;\n    background-color: cyan;\n"]))),mN=aN.span(fA||(fA=OT(["\n    text-transform: capitalize;\n    width: 40%;\n    background-color: #ff8855;\n"]))),gN=aN.div(hA||(hA=OT(["\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n"]))),kN=aN.div(dA||(dA=OT(["\n    width: auto;\n    padding: 10px 0;\n    display: flex;\n    justify-conent: space-between;\n    border-bottom: 1px solid darkgrey;\n"]))),wN=(aN.div(pA||(pA=OT(["\n    text-transform: capitalize;\n    width: 23%;\n\n    &:last-child {\n        width: 8%\n    }\n"]))),aN.span(vA||(vA=OT(["\n    text-transform: capitalize;\n    width: 40%;\n"])))),bN=aN.span(yA||(yA=OT(["\n    text-transform: capitalize;\n    width: 15%;\n"]))),xN=aN.span(mA||(mA=OT(["\n    display: flex;\n    text-transform: capitalize;\n    align-items: center;\n    width: 20%;\n"]))),EN=aN.span(gA||(gA=OT(["\n    text-transform: capitalize;\n    width: 10%;\n"]))),IN=function(e){return e.cart},SN=_t([IN],(function(e){return e.cartItems})),_N=(_t([IN],(function(e){return e.hidden})),_t([SN],(function(e){return e.reduce((function(e,t){return e+t.quantity}),0)})),_t([SN],(function(e){return e.reduce((function(e,t){return e+t.quantity*t.price}),0)}))),TN=(_t([SN],(function(e,t){return e.filter((function(e){return e.id===t}))})),it(Tt({cartItems:SN}),(function(e){return{addItem:function(t){return e(function(e){return{type:Dt,payload:e}}(t))},removeItem:function(t){return e(function(e){return{type:Lt,payload:e}}(t))},clearItem:function(t){return e(fN(t))}}}))((function(e){var t=e.item,n=e.addItem,r=e.clearItem,i=e.cartItems,a=t.name,o=t.price,u=function(e,t){return e.find((function(e){return e.id===t}))}(i,t.id),s=u?u.quantity:0;return console.log("COLOR: "+t.color.toUpperCase()),(0,sN.jsxs)(dN,{children:["yellow"===t.color.toLowerCase()?(0,sN.jsx)(vN,{onClick:function(){return n(t)},children:a}):"cyan"===t.color.toLowerCase()?(0,sN.jsx)(yN,{onClick:function(){return n(t)},children:a}):"pink"===t.color.toLowerCase()?(0,sN.jsx)(mN,{onClick:function(){return n(t)},children:a}):(0,sN.jsx)(pN,{onClick:function(){return n(t)},children:a}),(0,sN.jsxs)(bN,{onClick:function(){return n(t)},children:["$",o]}),(0,sN.jsx)(xN,{children:s}),(0,sN.jsxs)(bN,{children:["$",o*s]}),(0,sN.jsxs)(EN,{onClick:function(){return r(t)},children:["\u2715","        "]})]})}))),CN=(it((function(e){return{collections:At(e),allState:e}}))((function(e,t){return console.log("STATE",t),(0,sN.jsx)("div",{children:(0,sN.jsx)("span",{})})})),_t([function(e){return e.category}],(function(e){return e.categories}))),AN=_t([CN],(function(e){return e?Object.keys(e).map((function(t){return e[t]})):[]})),NN=it((function(e){return{collections:Nt(e),categories:AN(e)}}))((function(e){var t=e.collections;e.categories;return console.log("COLLECTIONS",t),(0,sN.jsxs)(gN,{children:[(0,sN.jsxs)(kN,{children:[(0,sN.jsx)(wN,{children:"Descripci\xf3n"}),(0,sN.jsx)(bN,{children:"Precio"}),(0,sN.jsx)(xN,{children:"Cant."}),(0,sN.jsx)(bN,{children:"S.Total"}),(0,sN.jsx)(EN,{children:"Borrar"})]}),null!==t?t.map((function(e){return(0,sN.jsx)(TN,{item:e},e.id)})):null]})})),ON=qC(kA||(kA=OT(["\n  background-color: black;\n  color: white;\n  border: none;\n  &:hover {\n    background-color: white;\n    color: black;\n    border: 1px solid black;\n  }\n"]))),PN=qC(wA||(wA=OT(["\n  background-color: white;\n  color: black;\n  border: 1px solid black;\n  &:hover {\n    background-color: black;\n    color: white;\n    border: none;\n  }\n"]))),RN=qC(bA||(bA=OT(["\n  background-color: #4285f4;\n  color: white;\n  &:hover {\n    background-color: #357ae8;\n    border: none;\n  }\n"]))),DN=aN.button(xA||(xA=OT(["\n  min-width: 165px;\n  width: auto;\n  height: 50px;\n  letter-spacing: 0.5px;\n  line-height: 50px;\n  padding: 0 35px 0 35px;\n  font-size: 15px;\n  text-transform: uppercase;\n  font-family: 'Open Sans Condensed';\n  font-weight: bolder;\n  cursor: pointer;\n  display: flex;\n  justify-content: center;\n  ","\n"])),(function(e){return e.isGoogleSignIn?RN:e.inverted?PN:ON})),LN=["children"],MN=function(e){var t=e.children,n=NT(e,LN);return(0,sN.jsx)(DN,st(st({},n),{},{children:t}))},FN=aN.div(EA||(EA=OT(["\n  width: 100%;\n  display: flex;\n  min-height: 10px;\n  font-size: 14px;\n  align-items: center;\n"]))),UN=aN.span(IA||(IA=OT(["\n  width: 40%;\n"]))),jN=aN.span(SA||(SA=OT(["\n  width: 20%;\n"]))),VN=(aN.div(_A||(_A=OT(["\n  padding-left: 12px;\n  cursor: pointer;\n"]))),it(null,(function(e){return{clearItem:function(t){return e(fN(t))}}}))((function(e){var t=e.cartItem,n=(e.clearItem,t.name),r=t.price,i=t.quantity;return(0,sN.jsxs)(FN,{children:[(0,sN.jsx)(jN,{children:i}),(0,sN.jsx)(UN,{children:n}),(0,sN.jsxs)(UN,{children:["$",r*i]})]})}))),BN=aN.div(TA||(TA=OT(["\n    width: 85%;\n    min-height: 10vh;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    margin: 50px auto 0;\n    padding: 5px;\n    "]))),zN=aN.div(CA||(CA=OT(["\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    border: 1px solid darkgrey;\n    padding: 10px;\n"]))),qN=aN.div(AA||(AA=OT(["\n    width: auto;\n    padding: 10px 0;\n    display: flex;\n    justify-content: space-between;\n    border-bottom: 1px solid darkgrey;\n"]))),KN=(aN.div(NA||(NA=OT(["\n    text-transform: capitalize;\n    width: 23%;\n\n    &:last-child {\n        width: 8%\n    }\n"]))),aN.div(OA||(OA=OT(["\n  margin-top: 30px;\n  margin-left: auto;\n  font-size: 36px;\n"])))),HN=(aN.div(PA||(PA=OT(["\n  text-align: center;\n  margin-top: 40px;\n  font-size: 24px;\n  color: red;\n"]))),de(it(Tt({cartItems:SN,total:_N}),(function(e){return{clearAllItems:function(){return e(hN())}}}))((function(e){var t=e.cartItems,n=e.total,r=e.history;e.clearAllItems;return(0,sN.jsxs)(BN,{children:[(0,sN.jsxs)(zN,{children:[(0,sN.jsx)(qN,{children:"TICKET"}),t.map((function(e){return(0,sN.jsx)(VN,{cartItem:e},e.id)})),(0,sN.jsxs)(KN,{children:["TOTAL: $",n]})]}),(0,sN.jsx)(MN,{onClick:function(){return r.push("/confirm")},children:"IMPRIMIR"})]})})))),WN=aN.div(RA||(RA=OT(["\n    width:100%\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    padding: 5px 20px;\n"]))),GN=lN(NN),QN=lN(HN),YN=function(e){sn(n,e);var t=pn(n);function n(){var e;an(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={loading:!0,collectionsUpdated:!1,categoriesUpdated:!1},e.unsubscribeFromSnapshot=null,e}return un(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.updateCollections,r=t.updateCategories,i=CT.collection("collections"),a=CT.collection("categories");i.get().then((function(t){var r=t.docs.map((function(e){var t=e.data(),n=t.name,r=t.category,i=t.price,a=t.color,o=t.enable;return{id:e.id,name:n,price:i,category:r,color:a,enable:o}})).reduce((function(e,t){return e[t.name.toLowerCase()]=t,e}),{});n(r),e.setState(st(st({},e.state),{},{collectionsUpdated:!0})),e.state.categoriesUpdated&&e.setState(st(st({},e.state),{},{loading:!1}))})),a.get().then((function(t){var n=t.docs.map((function(e){var t=e.data(),n=t.order,r=t.name;return{id:e.id,order:n,name:r}})).reduce((function(e,t){return e[t.name.toLowerCase()]=t,e}),{});console.log("UPDATE_CATEGORIES",n),r(n),e.setState(st(st({},e.state),{},{categoriesUpdated:!1})),e.state.collectionsUpdated&&e.setState(st(st({},e.state),{},{loading:!1}))}))}},{key:"render",value:function(){var e=this.state.loading;return(0,sN.jsxs)(WN,{children:[(0,sN.jsx)(GN,{isLoading:e}),(0,sN.jsx)(QN,{isLoading:e})]})}}]),n}(t.Component),XN=it(null,(function(e){return{updateCollections:function(t){return e(function(e){return{type:wt.UPDATE_COLLECTIONS,payload:e}}(t))},updateCategories:function(t){return e(function(e){return{type:Wt.UPDATE_CATEGORIES,payload:e}}(t))}}}))(YN),JN=n(76),$N=_t([function(e){return e.user}],(function(e){return e.currentUser})),ZN=aN.div(DA||(DA=OT(["\n    height: 70px;\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 5px;\n"]))),eO=aN(we)(LA||(LA=OT(["\n    height: 100%;\n    width:75px;\n    padding: 5px;\n"]))),tO=aN.img(MA||(MA=OT(["\n    width:60px;\n"]))),nO=aN.div(FA||(FA=OT(["\n    width: 85%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n"]))),rO=aN(we)(UA||(UA=OT(["\n    padding: 10px 15px;\n    cursor: pointer;\n"]))),iO=it(Tt({currentUser:$N}))((function(e){var t=e.currentUser;return(0,sN.jsxs)(ZN,{children:[(0,sN.jsx)(eO,{to:"/",children:(0,sN.jsx)(tO,{src:JN,alt:"logo"})}),(0,sN.jsxs)(nO,{children:[(0,sN.jsx)(rO,{to:"/config",children:"CONF"}),t?(0,sN.jsx)(rO,{as:"div",onClick:function(){return TT.signOut()},children:"SALIR"}):(0,sN.jsx)(rO,{to:"/signin",children:"INGRESAR"})]})]})})),aO="grey",oO=qC(jA||(jA=OT(["\n  top: -14px;\n  font-size: 12px;\n  color: ",";\n"])),"black"),uO=aN.div(VA||(VA=OT(["\n  position: relative;\n  margin: 45px 0;\n  input[type='password'] {\n    letter-spacing: 0.3em;\n  }\n"]))),sO=aN.input(BA||(BA=OT(["\n  background: none;\n  background-color: white;\n  color: ",";\n  font-size: 18px;\n  padding: 10px 10px 10px 5px;\n  display: block;\n  width: 100%;\n  border: none;\n  border-radius: 0;\n  border-bottom: 1px solid ",";\n  margin: 25px 0;\n  &:focus {\n    outline: none;\n  }\n  &:focus ~ label {\n    ","\n  }\n"])),aO,aO,oO),cO=aN.label(zA||(zA=OT(["\n  color: ",";\n  font-size: 16px;\n  font-weight: normal;\n  position: absolute;\n  pointer-events: none;\n  left: 5px;\n  top: 10px;\n  transition: 300ms ease all;\n  &.shrink {\n    ","\n  }\n"])),aO,oO),lO=["handleChange","label"],fO=function(e){var t=e.handleChange,n=e.label,r=NT(e,lO);return(0,sN.jsxs)(uO,{children:[(0,sN.jsx)(sO,st({onChange:t},r)),n?(0,sN.jsx)(cO,{className:r.value.length?"shrink":"",children:n}):null]})},hO=aN.div(qA||(qA=OT(["\n  width: 380px;\n  display: flex;\n  flex-direction: column;\n"]))),dO=aN.h2(KA||(KA=OT(["\n  margin: 10px 0;\n"]))),pO=aN.div(HA||(HA=OT(["\n  display: flex;\n  justify-content: space-between;\n"]))),vO=function(e){sn(n,e);var t=pn(n);function n(e){var r;return an(this,n),(r=t.call(this,e)).handleSubmit=function(){var e=rn(yn().mark((function e(t){var n,i,a;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=r.state,i=n.email,a=n.password,e.prev=2,console.log("AWAITING Res..."),e.next=6,TT.signInWithEmailAndPassword(i,a);case 6:console.log("Clear EditText"),r.setState({email:"",password:""}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),r.handleChange=function(e){var t=e.target,n=t.value,i=t.name;r.setState(ot({},i,n))},r.state={email:"",password:""},r}return un(n,[{key:"render",value:function(){return(0,sN.jsxs)(hO,{children:[(0,sN.jsx)(dO,{children:"I already have an account"}),(0,sN.jsx)("span",{children:"Sign in with your email anda password"}),(0,sN.jsxs)("form",{onSubmit:this.handleSubmit,children:[(0,sN.jsx)(fO,{name:"email",type:"email",label:"Email",value:this.state.email,handleChange:this.handleChange,required:!0}),(0,sN.jsx)(fO,{name:"password",type:"password",label:"Password",value:this.state.password,handleChange:this.handleChange,required:!0}),(0,sN.jsxs)(pO,{children:[(0,sN.jsx)(MN,{type:"submit",children:" INGRESAR "}),"                    "]})]})]})}}]),n}(t.Component),yO=vO,mO=aN.div(WA||(WA=OT(["\n    width: 850px;\n    display: flex;\n    justify-content: space-between;\n    margin: 30px auto;\n"]))),gO=function(){return(0,sN.jsx)(mO,{children:(0,sN.jsx)(yO,{})})},kO=aN.div(GA||(GA=OT(["\n    width:100%;\n    padding: 20px;\n"]))),wO=it(Tt({currentUSer:$N}))((function(e){var t=e.currentUSer;return console.log(t),(0,sN.jsxs)(kO,{children:[(0,sN.jsx)("h1",{children:"Config"}),(0,sN.jsx)("p",{children:t.displayName}),(0,sN.jsx)("p",{children:t.email}),(0,sN.jsx)("p",{children:t.printer}),(0,sN.jsx)("p",{children:t.type}),"    "]})})),bO=aN.div(QA||(QA=OT(["\n    display: flex;\n    justify-content: space-between;\n"]))),xO=aN.span(YA||(YA=OT(["\n    width: 20%\n"]))),EO=aN.span(XA||(XA=OT(["\n    width: 60%\n"]))),IO=aN.span(JA||(JA=OT(["\n    width: 20%\n    align:right;\n    padding-right:20px;\n"]))),SO=function(e){var t=e.item;return(0,sN.jsxs)(bO,{children:[(0,sN.jsx)(xO,{children:t.quantity}),(0,sN.jsx)(EO,{children:t.name}),(0,sN.jsxs)(IO,{children:["$",t.price*t.quantity]})]})},_O=aN.div($A||($A=OT(["\n    width:300px;\n    display: flex;\n    flex-direction: column;\n    min-height: 10vh;\n    border: 1px solid darkgrey;\n    padding: 5px\n"]))),TO=aN.div(ZA||(ZA=OT(["\n    with:100%;\n    border-bottom: 1px solid darkgrey;\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    text-transform: capitalize;\n    font-weight: bold;\n"]))),CO=aN.span(eN||(eN=OT(["\n    width: 20%\n"]))),AO=aN.span(tN||(tN=OT(["\n    width: 60%\n"]))),NO=aN.span(nN||(nN=OT(["\n    width: 20%\n"]))),OO=aN.div(rN||(rN=OT(["\n  margin-top: 30px;\n  margin-left: auto;\n  font-size: 36px;\n"]))),PO=it(Tt({cartItems:SN,total:_N}))((function(e){var t=e.cartItems,n=e.total;return(0,sN.jsxs)(_O,{children:[(0,sN.jsxs)(TO,{children:[(0,sN.jsx)(CO,{children:"CANT."}),(0,sN.jsx)(AO,{children:"DESCRIPCION"}),(0,sN.jsx)(NO,{children:"S.TOTAL"})]}),t?t.map((function(e){return(0,sN.jsx)(SO,{item:e},e.id)})):null,(0,sN.jsxs)(OO,{children:["TOTAL: $",n]})]})})),RO=aN.div(iN||(iN=OT(["\n    width: auto;\n    background-color: white;\n    padding: 20px;\n"]))),DO=de(it(null,(function(e){return{clearAllItems:function(){return e(hN())}}}))((function(e){var t=e.clearAllItems,n=e.history;return(0,sN.jsxs)(RO,{children:[(0,sN.jsx)("h2",{children:"VENTA DE VALES"}),(0,sN.jsx)(PO,{}),(0,sN.jsxs)("div",{children:[(0,sN.jsx)("button",{onClick:function(){t(),n.push("/")},children:"IMPRIMIR"}),(0,sN.jsx)("button",{onClick:function(){return n.push("/")},children:"EDITAR"}),(0,sN.jsx)("button",{onClick:function(){t(),n.push("/")},children:"CANCELAR"})]})]})}))),LO=function(e){sn(n,e);var t=pn(n);function n(){var e;an(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).unsubscribeFromAuth=null,e}return un(n,[{key:"componentDidMount",value:function(){var e=this.props.setCurrentUser;this.unsubscribeFromAuth=TT.onAuthStateChanged(function(){var t=rn(yn().mark((function t(n){return yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=5;break}return t.next=3,_T(n);case 3:t.sent.onSnapshot((function(t){e(st({id:t.id},t.data()))}));case 5:console.log("USER_AUTH",n),e(n);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"componentWillUnmount",value:function(){this.unsubscribeFromAuth()}},{key:"render",value:function(){var e=this.props.currentUser;return(0,sN.jsxs)("div",{children:[(0,sN.jsx)(iO,{}),(0,sN.jsxs)(he,{children:[(0,sN.jsx)(oe,{exact:!0,path:"/",render:function(){return e?(0,sN.jsx)(XN,{}):(0,sN.jsx)(gO,{})}}),e?(0,sN.jsx)(oe,{path:"/config",component:wO}):null,(0,sN.jsx)(oe,{exact:!0,path:"/confirm",component:DO}),(0,sN.jsx)(oe,{exact:!0,path:"/SignIn",render:function(){return e?(0,sN.jsx)(ne,{to:"/"}):(0,sN.jsx)(gO,{})}})]})]})}}]),n}(t.Component),MO=it(Tt({currentUser:$N}),(function(e){return{setCurrentUser:function(t){return e(function(e){return{type:mt,payload:e}}(t))}}}))(LO);r.render((0,sN.jsx)(Ae,{store:tn,children:(0,sN.jsx)(pe,{children:(0,sN.jsx)(MO,{})})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.9e5aa888.js.map